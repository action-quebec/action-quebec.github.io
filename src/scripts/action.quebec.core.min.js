(()=>{var tt=Object.defineProperty;var st=(s,e,t)=>e in s?tt(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t;var h=(s,e,t)=>st(s,typeof e!="symbol"?e+"":e,t);self.create=(s,e=null,t=null)=>{let a=document.createElement(s);return e&&(a.className=e),t&&(a.innerHTML=t),a};HTMLElement.prototype.create=function(s,e=null,t=null){let a=create(s,e,t);return this.append(a),a};self.loadJsonProperties=async function(s,e={}){let t=Object.entries(e),a=await Promise.allSettled(t.map(async([i,n])=>{let r=await fetch(n),o=null;try{o=await r.json()}catch{}return{key:i,url:n,status:r.status,ok:r.ok,data:o}}));for(let i of a)if(i.status==="fulfilled"){let{key:n,url:r,status:o,ok:l,data:d}=i.value;if(!l){console.error("".concat(n," [").concat(o," - ERREUR] ").concat(r));continue}s[n]=d}else console.error("Erreur r\xE9seau/JS pendant le chargement :",i.reason);return s};self.browse=s=>new Promise((e,t)=>{let a=document.createElement("input");a.type="file",a.accept=s,a.addEventListener("change",()=>{a.files.length>0?e(a.files[0]):t("cancelled")});let i=()=>{setTimeout(()=>{a.files.length||t("cancelled"),window.removeEventListener("focus",i)},200)};window.addEventListener("focus",i),a.click()});self.escapeForAttr=s=>s.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;");self.rem=s=>s*parseFloat(getComputedStyle(document.documentElement).fontSize);self.sleep=s=>new Promise(e=>setTimeout(e,s));self.preloadImage=s=>new Promise((e,t)=>{let a=new Image;a.decoding="async",a.loading="eager",a.onload=()=>e("preloaded"),a.onerror=t,a.src=s,a.complete&&a.naturalWidth>0&&e("memory-cache")});self.pad=s=>String(s).padStart(2,"0");self.fmtDate=s=>"".concat(s.getFullYear(),"-").concat(pad(s.getMonth()+1),"-").concat(pad(s.getDate()));self.isoLocal=s=>new Date(s).toISOString();self.addDays=(s,e)=>new Date(s.getFullYear(),s.getMonth(),s.getDate()+e);self.inTZ=(s,e="America/Toronto")=>new Date(s).toLocaleDateString("fr-CA",{timeZone:e});self.ymd=s=>new Date(s.getFullYear(),s.getMonth(),s.getDate()).toISOString().slice(0,10);self.startOfWeek=(s,e=0)=>{let t=new Date(s.getFullYear(),s.getMonth(),s.getDate()),a=(t.getDay()-e+7)%7;return t.setDate(t.getDate()-a),t};self.rectOf=s=>s.getBoundingClientRect();self.clamp=(s,e,t)=>Math.min(t,Math.max(e,s));self.distance=(s,e)=>Math.hypot(s.x-e.x,s.y-e.y);self.midpoint=(s,e)=>({x:(s.x+e.x)/2,y:(s.y+e.y)/2});self.hcd=(s,e)=>{do var t=s;while((e=t%(s=e))>0);return s};window.LightSwitch={switch:null,mutexVwpx:null,init:async function(){let s=localStorage.getItem("theme");s&&document.documentElement.setAttribute("data-theme",s),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",e=>this.setTheme(e.matches?"dark":"light")),document.documentElement.style.setProperty("--vwpx",String(window.innerWidth)),document.addEventListener("DOMContentLoaded",async()=>{let e=document.body.create("div","lightswitch");e.addEventListener("click",()=>this.toogleTheme()),e.title="Nuit / Jour"}),window.addEventListener("resize",()=>{this.mutexVwpx==null&&(this.mutexVwpx=requestAnimationFrame(()=>{document.documentElement.style.setProperty("--vwpx",String(window.innerWidth)),this.mutexVwpx=null}))})},getTheme:function(){return getComputedStyle(document.documentElement).getPropertyValue("--theme").replace(/^['"]|['"]$/g,"").toLocaleLowerCase().trim()},setTheme:function(s){document.documentElement.setAttribute("data-theme",s),localStorage.setItem("theme",s)},toogleTheme:function(){this.setTheme(this.getTheme()==="dark"?"light":"dark")}};LightSwitch.init();var V=class{constructor(e={}){h(this,"observer",null);h(this,"patterns",[/(?:^|\/\/)youtu\.be\/([A-Za-z0-9_-]{11})(?:[?&#/]|$)/i,/(?:^|\/\/)(?:www\.)?(?:m\.)?youtube\.com\/watch\?(?:[^#]*?&)?v=([A-Za-z0-9_-]{11})(?:[&#]|$)/i,/(?:^|\/\/)(?:www\.)?(?:m\.)?youtube\.com\/embed\/([A-Za-z0-9_-]{11})(?:[?&#/]|$)/i,/(?:^|\/\/)(?:www\.)?(?:m\.)?youtube\.com\/v\/([A-Za-z0-9_-]{11})(?:[?&#/]|$)/i,/(?:^|\/\/)(?:www\.)?(?:m\.)?youtube\.com\/shorts\/([A-Za-z0-9_-]{11})(?:[?&#/]|$)/i]);h(this,"opts",{observer:!1});this.opts={...this.opts,...e},this.replaceTags(),this.opts.observer&&(this.observer=new MutationObserver(t=>{t.map(async a=>Promise.all([...a.addedNodes].map(async i=>{if(i.nodeType===1)return i.tagName.toLowerCase()=="youtube"?this.replaceTags(i.parentNode):this.replaceTags(i)})))}),this.observer.observe(document.body,{childList:!0,subtree:!0}))}replaceTags(e=document){return Promise.all([...e.querySelectorAll("youtube")].map(t=>this.replaceTag(t)))}async replaceTag(e){try{let t=e.getAttribute("id");if(!t)return;let a=await this.getInfo(t),i=hcd(a.width,a.height),n=create("div","youtube");n.style.aspectRatio="".concat(a.width/i," / ").concat(a.height/i),n.style.backgroundImage="url(".concat(a.thumbnail_url,")"),n.create("div","youtube__title",a.title),n.create("div","youtube__play").addEventListener("click",async()=>{let r=create("iframe","youtube__player");r.frameBorder="0",r.allowFullscreen=!0,r.allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",r.src="https://www.youtube.com/embed/".concat(t,"?feature=oembed&autoplay=1"),n.replaceChildren(r)}),e.replaceWith(n)}catch(t){console.log(t)}}async getInfo(e){if(!e)return null;let t="youtube_".concat(e),a=null;try{let i=localStorage.getItem(t);if(i)a=JSON.parse(i);else{let n=await fetch("https://www.youtube.com/oembed?url=https://www.youtube.com/watch?v=".concat(e,"&format=json"));n.ok&&(a=await n.json(),localStorage.setItem(t,JSON.stringify(a)))}}catch{throw new Error("Youtube ID invalide.")}return a}extractYouTubeId(e){let t=e.replace(/&amp;/gi,"&");return this.patterns.reduce((a,i)=>a??t.match(i)?.[1]??null,null)}replaceAnchors(e){if(!e)return e;let t=/<a\b[^>]*\bhref\s*=\s*(?:"([^"]*)"|'([^']*)'|([^\s>]+))[^>]*>[\s\S]*?<\/a>/gi;return e.replace(t,(a,i,n,r)=>{let o=(i||n||r||"").trim(),l=this.extractYouTubeId(o);return l?'<youtube id="'.concat(l,'"></youtube>'):a})}};var J=class{constructor(){h(this,"youtubeReplacer",null);this.youtubeReplacer=new V}};var ee=class{constructor(e,t={}){h(this,"container",null);h(this,"opts",{onFileDrop:null});this.opts={...this.opts,...t},typeof e!="string"?this.container=e:this.container=document.querySelector(e),this.container.addEventListener("dragover",a=>a.preventDefault()),this.container.addEventListener("dragenter",a=>this.dragEnter(a)),this.container.addEventListener("dragleave",a=>this.dragLeave(a)),this.container.addEventListener("drop",a=>this.drop(a))}dragEnter(e){e.preventDefault(),this.container.classList.add("dragover")}dragLeave(e){this.container.classList.remove("dragover")}async drop(e){e.preventDefault(),e.dataTransfer.files.length>0&&await this.opts.onFileDrop?.(e.dataTransfer.files[0]),this.container.classList.remove("dragover")}};var j=class{constructor(e,t){h(this,"state",{scale:1,minScale:1,maxScale:8,tx:0,ty:0,imgW:0,imgH:0,frameW:0,frameH:0});h(this,"pointers",new Map);h(this,"pinchStart",null);h(this,"lastTapTime",0);h(this,"mutex",null);h(this,"zoomTimer",null);h(this,"ratio",null);h(this,"frame",null);h(this,"img",null);h(this,"url",null);typeof e!="string"?this.frame=e:this.frame=document.querySelector(e),this.ratio=this.parseAspect(t),this.frame.style.aspectRatio="".concat(this.ratio.w," / ").concat(this.ratio.h),this.img=this.frame.create("img"),this.frame.addEventListener("wheel",a=>this.onWheel(a),{passive:!1}),this.frame.addEventListener("pointerdown",a=>this.onPointerDown(a)),this.frame.addEventListener("pointermove",a=>this.onPointerMove(a)),this.frame.addEventListener("pointerup",a=>this.endPointer(a)),this.frame.addEventListener("pointercancel",a=>this.endPointer(a)),this.frame.addEventListener("pointerleave",a=>{this.pointers.has(a.pointerId)&&this.endPointer(a)}),window.addEventListener("resize",()=>this.onResize())}loadImage(e){return new Promise(t=>{this.url=URL.createObjectURL(e),this.img.onload=()=>{this.state.imgW=this.img.naturalWidth,this.state.imgH=this.img.naturalHeight,URL.revokeObjectURL(this.url),t(this.fitCover())},this.img.src=this.url})}onResize(){!this.mutex&&this.img&&(this.mutex=requestAnimationFrame(()=>this.fitCover().then(()=>this.mutex=null)))}onWheel(e){e.preventDefault(),clearTimeout(this.zoomTimer),this.frame.classList.toggle("zooming-in",e.deltaY<0),this.frame.classList.toggle("zooming-out",e.deltaY>0),this.zoomTimer=setTimeout(()=>this.frame.classList.remove("zooming-in","zooming-out"),200);let t=this.state.scale*Math.exp(-e.deltaY*.001);this.zoomAt(e.clientX,e.clientY,t)}onPointerDown(e){this.frame.setPointerCapture(e.pointerId),this.setPointer(e);let t=performance.now();t-this.lastTapTime<280&&this.pointers.size===1?this.fitCover().then(()=>this.lastTapTime=0):this.lastTapTime=t}onPointerMove(e){if(!this.pointers.has(e.pointerId))return;let t=this.pointers.get(e.pointerId);if(this.setPointer(e),this.pointers.size===2){let[a,i]=[...this.pointers.values()],n=midpoint(a,i),r=distance(a,i);if(!this.pinchStart)this.pinchStart={dist:r,scale:this.state.scale,tx:this.state.tx,ty:this.state.ty};else{let o=r/(this.pinchStart.dist||1);this.zoomAt(n.x,n.y,clamp(this.pinchStart.scale*o,this.state.minScale,this.state.maxScale))}}else this.pointers.size===1&&(this.state.tx+=e.clientX-t.x,this.state.ty+=e.clientY-t.y,this.applyTransform())}fitCover(){let e=rectOf(this.frame);this.state.frameW=e.width,this.state.frameH=e.height;let t=this.state.imgW||this.img.naturalWidth||1,a=this.state.imgH||this.img.naturalHeight||1;this.state.imgW=t,this.state.imgH=a;let i=Math.max(this.state.frameW/t,this.state.frameH/a)||1;this.state.minScale=i,this.state.maxScale=i*8,this.state.scale=i;let n=t*i,r=a*i;return this.state.tx=(this.state.frameW-n)/2,this.state.ty=(this.state.frameH-r)/2,this.applyTransform()}applyTransform(){let e=this.state.imgW*this.state.scale,t=this.state.imgH*this.state.scale,a=this.state.frameW-e,i=0,n=this.state.frameH-t,r=0;return this.state.tx=clamp(this.state.tx,a,i),this.state.ty=clamp(this.state.ty,n,r),new Promise(o=>o(this.img.style.transform="translate3d(".concat(this.state.tx,"px, ").concat(this.state.ty,"px, 0) scale(").concat(this.state.scale,")")))}zoomAt(e,t,a){let i=rectOf(this.frame),n=e-i.left,r=t-i.top,o=this.state.scale,l=clamp(a,this.state.minScale,this.state.maxScale);if(l!==this.state.scale)return this.state.tx=n-(n-this.state.tx)*(l/o),this.state.ty=r-(r-this.state.ty)*(l/o),this.state.scale=l,this.applyTransform()}setPointer(e){this.pointers.set(e.pointerId,{x:e.clientX,y:e.clientY})}delPointer(e){this.pointers.delete(e.pointerId)}endPointer(e){this.delPointer(e),this.pointers.size<2&&(this.pinchStart=null)}parseAspect(e){let t=String(e).replace(/\s+/g,"").match(/^(\d+(?:\.\d+)?)[\/:](\d+(?:\.\d+)?)$/);return t?{w:parseFloat(t[1]),h:parseFloat(t[2])}:{w:5,h:4}}exportBlob(e,t="webp"){if(!this.img.src)throw new Error("Aucune image charg\xE9e.");let a=this.frame.clientWidth,i=this.frame.clientHeight,n=Math.max(0,-this.state.tx/this.state.scale),r=Math.max(0,-this.state.ty/this.state.scale),o=Math.min(this.state.imgW-n,a/this.state.scale),l=Math.min(this.state.imgH-r,i/this.state.scale),d=this.ratio.w/this.ratio.h,f=Math.round(e/d),u=document.createElement("canvas");u.width=e,u.height=f;let g=u.getContext("2d",{alpha:t!=="jpeg"});return g.imageSmoothingQuality="high",g.drawImage(this.img,n,r,o,l,0,0,e,f),new Promise((c,m)=>u.toBlob(p=>p?c(p):m(new Error("toBlob() a \xE9chou\xE9")),"image/".concat(t),.92))}};var te=class{constructor(){h(this,"elm",null);h(this,"timeout",null);h(this,"duration",3e3);this.elm=document.body.create("div","notification")}thumbsUp(e){this.show(e,"thumbsup")}error(e){this.show(e,"error")}show(e,t){this.elm.innerHTML=e,this.elm.className="notification ".concat(t," show"),this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.elm.className="notification",this.timeout=null},this.duration)}};var se=class{constructor(){h(this,"API_ENDPOINT","https://images.action.quebec");h(this,"secrets",null);h(this,"options",null);h(this,"container",null);h(this,"selorg",null);h(this,"seltype",null);h(this,"imagegroup",null);h(this,"imageL",null);h(this,"imageR",null);h(this,"image",null);h(this,"frameL",null);h(this,"frameR",null);h(this,"btngroup",null);h(this,"uploadbtn",null);h(this,"browsebtn",null);h(this,"results",null);h(this,"copybtn",null);h(this,"browse2btn",null);h(this,"links",null);h(this,"splash",null);h(this,"splashdnd",null);h(this,"loader",null);h(this,"notif",null);this.container=document.querySelector(".croper"),this.imagegroup=create("div","croper__images");let e=this.imagegroup.create("div","croper__images__options");this.selorg=e.create("select"),this.selorg.required=!0,this.selorg.create("option",null,"-- Organisation --").value="",this.selorg.addEventListener("change",()=>this.changeSel()),this.seltype=e.create("select"),this.seltype.required=!0,this.seltype.create("option",null,"-- Type --").value="",this.seltype.addEventListener("change",()=>this.changeSel()),this.image=create("img"),this.imageL=this.imagegroup.create("div","croper__images__box box--2-3"),this.imageR=this.imagegroup.create("div","croper__images__box box--5-4"),this.imageL.title="Utilisez la molette pour zoomer",this.imageR.title="Utilisez la molette pour zoomer",this.btngroup=create("div","croper__button"),this.uploadbtn=this.btngroup.create("button",null,"T\xE9l\xE9verser"),this.uploadbtn.addEventListener("click",()=>this.uploadFiles()),this.browsebtn=this.btngroup.create("button",null,"Parcourir"),this.browsebtn.addEventListener("click",()=>this.browseFile()),this.results=create("div","croper__results"),this.results.create("div","croper__results__winner").title="Tu veux-tu une m\xE9daille?",this.results.create("div","croper__results__congrats","F\xE9licitations!"),this.results.create("div","croper__results__text","Image t\xE9l\xE9vers\xE9e avec succ\xE8s. Il ne reste qu\u2019\xE0 copier les liens et les coller dans la description de votre \xE9v\xE9nement.");let t=this.results.create("div","croper__results__btn");this.copybtn=t.create("button","croper__results__copy","Copier les liens"),this.copybtn.addEventListener("click",()=>this.copyLinks()),this.browse2btn=t.create("button","croper__results__browse","Parcourir"),this.browse2btn.addEventListener("click",()=>this.browseFile()),this.splash=create("div","croper__splash show","Glissez-d\xE9posez votre image ici ou<br> cliquez ici pour choisir un fichier."),this.splash.addEventListener("click",()=>this.browseFile()),this.splashdnd=new ee(this.splash,{onFileDrop:a=>this.drop(a)}),this.loader=create("div","croper__loader"),this.loader.create("div","loading-double-circular"),this.frameL=new j(this.imageL,"2/3"),this.frameR=new j(this.imageR,"5:4"),this.notif=new te,this.container.replaceChildren(this.imagegroup,this.btngroup,this.results,this.splash,this.loader),loadJsonProperties(this,{secrets:atob("L2J0MW9oOTdqN1guanNvbg=="),options:"/options.json"}).then(()=>{this.options.organisations.forEach(a=>this.selorg.create("option",null,a.name).value=a.slug),this.options.types.forEach(a=>this.seltype.create("option",null,a.name).value=a.slug),this.selorg.value=localStorage.getItem("selorg"),this.seltype.value=localStorage.getItem("seltype"),this.changeSel()})}async busy(e){document.documentElement.classList.add("is-busy");let t=await Promise.allSettled(typeof e=="array"?e:[e]);return document.documentElement.classList.remove("is-busy"),typeof e=="array"?t:t[0]}async working(e){document.documentElement.classList.add("is-working");let t=await Promise.allSettled(typeof e=="array"?e:[e]);return document.documentElement.classList.remove("is-working"),typeof e=="array"?t:t[0]}async changeSel(){this.uploadbtn.disabled=!(this.selorg.value&&this.seltype.value),localStorage.setItem("selorg",this.selorg.value),localStorage.setItem("seltype",this.seltype.value)}handleFile(e){return new Promise((t,a)=>{e.type.startsWith("image/")&&e.size<=5242880?t(this.loadImage(e)):a("Fichier rejet\xE9")})}async browseFile(){browse("image/*").then(async e=>{await this.handleFile(e)}).catch(e=>this.notif.error("Fichier rejet\xE9"))}drop(e){this.handleFile(e).catch(t=>this.notif.error(t))}async loadImage(e){this.image.src=URL.createObjectURL(e),await Promise.all([this.frameL.loadImage(e),this.frameR.loadImage(e)]),this.splash.classList.remove("show"),this.results.classList.remove("show")}async uploadFiles(){return this.working(new Promise(async(e,t)=>{await new Promise(requestAnimationFrame),this.loader.classList.add("show");try{this.links=await Promise.all([this.uploadBlob(this.exportBlob(640)),this.uploadBlob(this.frameR.exportBlob(140)),this.uploadBlob(this.frameL.exportBlob(280))]),await sleep(2e3),await new Promise(requestAnimationFrame),this.results.classList.add("show"),this.loader.classList.remove("show"),e()}catch{await sleep(1e3),await new Promise(requestAnimationFrame),this.loader.classList.remove("show"),this.notif.error("\xC9chec de t\xE9l\xE9versement"),t()}}))}async exportBlob(e){let t=e*this.image.naturalHeight/this.image.naturalWidth,a=document.createElement("canvas");a.width=e,a.height=t;let i=a.getContext("2d",{alpha:!0});return i.imageSmoothingQuality="high",i.drawImage(this.image,0,0,this.image.naturalWidth,this.image.naturalHeight,0,0,e,t),new Promise((n,r)=>a.toBlob(o=>o?n(o):r(new Error("toBlob() a \xE9chou\xE9")),"image/webp",.92))}async uploadBlob(e){let t=new FormData;t.append("image",new File([await e],"image.webp",{type:"image/webp"}));let a={headers:{Authorization:"Bearer ".concat(this.secrets.IMAGE_API_KEY)},method:"POST",body:t},i=await fetch(this.API_ENDPOINT,a),n=(await i.text()).trim();if(!i.ok||!/^https?:\/\//i.test(n))throw new Error(n||"T\xE9l\xE9versement \xE9chou\xE9");return n}copyLinks(){this.copyLabeledLinks([{label:"image-couverture",url:this.links[0]},{label:"image-calendrier",url:this.links[1]},{label:"image-carte",url:this.links[2]}],[{label:"organisation",value:this.selorg.value},{label:"type",value:this.seltype.value}]).then(()=>this.notif.thumbsUp("Liens copi\xE9s!"))}copyLabeledLinks(e,t){let a=r=>r.replace(/[&<>"']/g,o=>({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"})[o]),i=t.map(({label:r,value:o})=>"@".concat(r,": ").concat(o)).join("<br>")+"<br>",n=t.map(({label:r,value:o})=>"@".concat(r,": ").concat(o)).join("\n")+"\n";return i+=e.map(({label:r,url:o})=>'<a href="'.concat(a(o),'">').concat(a(r),"</a>")).join("<br>"),n+=e.map(({label:r,url:o})=>"".concat(r," \u2014 ").concat(o)).join("\n")+"\n",i+="<p>Plus de d\xE9tails \xE0 venir...</p>",navigator.clipboard.write([new ClipboardItem({"text/html":new Blob(["<p>"+i+"</p>"],{type:"text/html"}),"text/plain":new Blob([n],{type:"text/plain"})})])}};var ae=class{constructor(e={}){h(this,"container",null);h(this,"placeholder",null);h(this,"duration",null);h(this,"opened",!1);h(this,"opts",{class:!1,lock:!1,onlyBgClick:!1});this.opts={...this.opts,...e},this.container=document.body.create("div","modal"),this.duration=parseInt(getComputedStyle(this.container).getPropertyValue("--transition-duration").replace(/^[^\d]*(\d+).*$/,"$1")),this.placeholder=this.container.create("div","modal__placeholder"),this.opts.class&&this.container.classList.add(this.opts.class),this.opts.lock||this.container.addEventListener("click",t=>this.click(t)),document.addEventListener("keydown",t=>{this.opened&&t.key==="Escape"&&!(t.ctrlKey||t.altKey||t.shiftKey)&&this.hide()})}click(e){(!this.opts.onlyBgClick||e.target.classList.contains("modal")||e.target.classList.contains("modal__placeholder"))&&this.hide()}show(e){return new Promise(t=>{switch(typeof e){case"string":this.placeholder.innerHTML=e;break;case"object":this.placeholder.replaceChildren(e);break;case"array":this.placeholder.replaceChildren(...e);break;default:return t(!1)}this.container.classList.add("show"),setTimeout(()=>t(this.opened=!0),this.duration)})}hide(){return new Promise(e=>{this.container.classList.remove("show"),setTimeout(()=>{this.placeholder.replaceChildren([]),e(!(this.opened=!1))},this.duration)})}};var ie=class{constructor(e,t={}){h(this,"MONTH_NAMES",["janvier","f\xE9vrier","mars","avril","mai","juin","juillet","ao\xFBt","septembre","octobre","novembre","d\xE9cembre"]);h(this,"WEEKDAY_NAMES",["dim","lun","mar","mer","jeu","ven","sam"]);h(this,"parent",null);h(this,"container",null);h(this,"label",null);h(this,"month",null);h(this,"current",null);h(this,"events",null);h(this,"opts",{placeholder:null,onRenderDate:null,onClickDate:null});this.events=new Set,this.current=new Date,this.opts={...this.opts,...t},this.parent=document.querySelector(e),this.label=this.opts.placeholder?document.querySelector(this.opts.placeholder):null,this.container=this.parent.create("div","pxcalendar");let a=this.container.create("div","pxcalendar__daynames");this.WEEKDAY_NAMES.forEach(i=>a.create("div","pxcalendar__daynames__name",i)),this.month=this.container.create("div","pxcalendar__month"),this.render()}async render(){let e=[],t=new Date(this.current.getFullYear(),this.current.getMonth(),1),a=startOfWeek(t,0),i=await Promise.all([...Array(42).keys()].map(async n=>{let r=addDays(a,n),o=ymd(r),l=create("div","pxcalendar__month__day","<span>".concat(r.getDate(),"</span>"));return r.getMonth()!==this.current.getMonth()&&l.classList.add("outside"),o===ymd(new Date)&&l.classList.add("today"),this.events.has(o)&&(l.classList.add("has-event"),e.push(this.opts.onRenderDate?.(o,l)),l.addEventListener("click",()=>this.opts.onClickDate?.(o,l))),l}));if(this.month.replaceChildren(...i),this.month.offsetHeight,this.label){let n="".concat(this.MONTH_NAMES[this.current.getMonth()]," ").concat(this.current.getFullYear());this.label.innerText=n,this.label.title=n}return Promise.all([...e])}addEvents(e){return this.events=new Set([...this.events,...e]),this.render()}next(){return this.current=new Date(this.current.getFullYear(),this.current.getMonth()+1,1),this.render()}previous(){return this.current=new Date(this.current.getFullYear(),this.current.getMonth()-1,1),this.render()}setMonth(e){let t=new Date(e);return this.current=new Date(t.getFullYear(),t.getMonth(),1),this.render()}};var ne=class{constructor(e,t={}){h(this,"opts",{threshold:40,maxTime:600,pressSlop:8,axis:"both",setTouchAction:!0,ignoreSelector:'a,button,input,textarea,select,label,[role="button"],[data-swipe-ignore]',ghostClickTimeout:400,ghostClickRadius:24,onTap:()=>{},onSwipe:()=>{},onSwipeLeft:null,onSwipeRight:null,onSwipeUp:null,onSwipeDown:null});h(this,"startX",0);h(this,"startY",0);h(this,"startT",0);h(this,"lastX",0);h(this,"lastY",0);h(this,"id",null);h(this,"elm",null);h(this,"axisLock",null);h(this,"swiping",!1);h(this,"lastSwipe",null);h(this,"touchId",null);this.opts={...this.opts,...t},this.elm=e,this.opts.setTouchAction&&!this.elm.style.touchAction&&(this.elm.style.touchAction=this.opts.axis==="x"?"pan-y":this.opts.axis==="y"?"pan-x":"none"),"PointerEvent"in window?(this.elm.addEventListener("pointerdown",a=>this.onDown(a),{passive:!0}),this.elm.addEventListener("pointermove",a=>this.onMove(a),{passive:!0}),this.elm.addEventListener("pointerup",a=>this.onUp(a)),this.elm.addEventListener("pointercancel",a=>this.onUp(a)),this.elm.addEventListener("lostpointercapture",a=>this.onUp(a))):(this.elm.addEventListener("touchstart",a=>this.onTouchStart(a),{passive:!0}),this.elm.addEventListener("touchmove",a=>this.onTouchMove(a),{passive:!0}),this.elm.addEventListener("touchend",a=>this.onTouchEnd(a)),this.elm.addEventListener("touchcancel",a=>this.onTouchEnd(a))),document.addEventListener("click",a=>this.onGlobalClickCapture(a),{capture:!0})}isIgnoredTarget(e){return e?.closest?.(this.opts.ignoreSelector)}onGlobalClickCapture(e){if(!this.lastSwipe||!this.elm.contains(e.target))return;if(performance.now()-this.lastSwipe.t>this.opts.ghostClickTimeout){this.lastSwipe=null;return}let a=(e.clientX??0)-this.lastSwipe.x,i=(e.clientY??0)-this.lastSwipe.y;a*a+i*i<=this.opts.ghostClickRadius*this.opts.ghostClickRadius&&(e.preventDefault(),e.stopImmediatePropagation(),this.lastSwipe=null)}start(e,t){this.startX=this.lastX=e,this.startY=this.lastY=t,this.startT=performance.now(),this.axisLock=null,this.swiping=!1}move(e,t,a){this.lastX=e,this.lastY=t;let i=this.lastX-this.startX,n=this.lastY-this.startY,r=Math.abs(i),o=Math.abs(n);!this.axisLock&&(r>this.opts.pressSlop||o>this.opts.pressSlop)&&(this.axisLock=r>o?"x":"y"),!this.swiping&&(r>this.opts.pressSlop||o>this.opts.pressSlop)&&(this.swiping=!0,a?.())}end(){let e=performance.now()-this.startT,t=this.lastX-this.startX,a=this.lastY-this.startY,i=Math.abs(t),n=Math.abs(a),r=i>=this.opts.threshold,o=n>=this.opts.threshold,l=e<=this.opts.maxTime,d=this.opts.axis==="both"?r||o:this.opts.axis==="x"?r:o;if(this.swiping&&l&&d){let f=i>n?t<0?"left":"right":a<0?"up":"down";this.opts.onSwipe?.(f,{dx:t,dy:a,dt:e}),f==="left"&&this.opts.onSwipeLeft?.({dx:t,dy:a,dt:e}),f==="right"&&this.opts.onSwipeRight?.({dx:t,dy:a,dt:e}),f==="up"&&this.opts.onSwipeUp?.({dx:t,dy:a,dt:e}),f==="down"&&this.opts.onSwipeDown?.({dx:t,dy:a,dt:e}),this.lastSwipe={t:performance.now(),x:this.lastX,y:this.lastY}}else this.swiping||this.opts.onTap?.({x:this.lastX,y:this.lastY,dt:e});this.id=null,this.swiping=!1}onDown(e){e.button!==void 0&&e.button!==0||this.id===null&&(this.isIgnoredTarget(e.target)||(this.id=e.pointerId??"mouse",this.start(e.clientX,e.clientY)))}onMove(e){this.id===null||(e.pointerId??"mouse")!==this.id||this.move(e.clientX,e.clientY,()=>{try{this.elm.setPointerCapture(e.pointerId)}catch{}})}onUp(e){if(!(this.id===null||(e.pointerId??"mouse")!==this.id)){try{this.elm.releasePointerCapture(e.pointerId)}catch{}this.end()}}getXY(e,t=!1){let a=t?e.changedTouches:e.touches,i=a&&a.length?a[0]:null;return i?{x:i.clientX,y:i.clientY,id:i.identifier}:{x:e.clientX,y:e.clientY,id:null}}onTouchStart(e){if(this.isIgnoredTarget(e.target))return;let{x:t,y:a,id:i}=this.getXY(e);this.touchId=i,this.start(t,a)}onTouchMove(e){let{x:t,y:a}=this.getXY(e);this.move(t,a)}onTouchEnd(e){let{id:t}=this.getXY(e,!0);this.touchId!==null&&t!==null&&t!==this.touchId||(this.end(),this.touchId=null)}};function ze(s){return s!==null&&typeof s=="object"&&"constructor"in s&&s.constructor===Object}function ve(s={},e={}){let t=["__proto__","constructor","prototype"];Object.keys(e).filter(a=>t.indexOf(a)<0).forEach(a=>{typeof s[a]>"u"?s[a]=e[a]:ze(e[a])&&ze(s[a])&&Object.keys(e[a]).length>0&&ve(s[a],e[a])})}var Oe={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function k(){let s=typeof document<"u"?document:{};return ve(s,Oe),s}var at={document:Oe,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(s){return typeof setTimeout>"u"?(s(),null):setTimeout(s,0)},cancelAnimationFrame(s){typeof setTimeout>"u"||clearTimeout(s)}};function z(){let s=typeof window<"u"?window:{};return ve(s,at),s}function ke(s=""){return s.trim().split(" ").filter(e=>!!e.trim())}function _e(s){let e=s;Object.keys(e).forEach(t=>{try{e[t]=null}catch{}try{delete e[t]}catch{}})}function U(s,e=0){return setTimeout(s,e)}function q(){return Date.now()}function it(s){let e=z(),t;return e.getComputedStyle&&(t=e.getComputedStyle(s,null)),!t&&s.currentStyle&&(t=s.currentStyle),t||(t=s.style),t}function ye(s,e="x"){let t=z(),a,i,n,r=it(s);return t.WebKitCSSMatrix?(i=r.transform||r.webkitTransform,i.split(",").length>6&&(i=i.split(", ").map(o=>o.replace(",",".")).join(", ")),n=new t.WebKitCSSMatrix(i==="none"?"":i)):(n=r.MozTransform||r.OTransform||r.MsTransform||r.msTransform||r.transform||r.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),a=n.toString().split(",")),e==="x"&&(t.WebKitCSSMatrix?i=n.m41:a.length===16?i=parseFloat(a[12]):i=parseFloat(a[4])),e==="y"&&(t.WebKitCSSMatrix?i=n.m42:a.length===16?i=parseFloat(a[13]):i=parseFloat(a[5])),i||0}function re(s){return typeof s=="object"&&s!==null&&s.constructor&&Object.prototype.toString.call(s).slice(8,-1)==="Object"}function nt(s){return typeof window<"u"&&typeof window.HTMLElement<"u"?s instanceof HTMLElement:s&&(s.nodeType===1||s.nodeType===11)}function B(...s){let e=Object(s[0]),t=["__proto__","constructor","prototype"];for(let a=1;a<s.length;a+=1){let i=s[a];if(i!=null&&!nt(i)){let n=Object.keys(Object(i)).filter(r=>t.indexOf(r)<0);for(let r=0,o=n.length;r<o;r+=1){let l=n[r],d=Object.getOwnPropertyDescriptor(i,l);d!==void 0&&d.enumerable&&(re(e[l])&&re(i[l])?i[l].__swiper__?e[l]=i[l]:B(e[l],i[l]):!re(e[l])&&re(i[l])?(e[l]={},i[l].__swiper__?e[l]=i[l]:B(e[l],i[l])):e[l]=i[l])}}}return e}function Z(s,e,t){s.style.setProperty(e,t)}function be({swiper:s,targetPosition:e,side:t}){let a=z(),i=-s.translate,n=null,r,o=s.params.speed;s.wrapperEl.style.scrollSnapType="none",a.cancelAnimationFrame(s.cssModeFrameID);let l=e>i?"next":"prev",d=(u,g)=>l==="next"&&u>=g||l==="prev"&&u<=g,f=()=>{r=new Date().getTime(),n===null&&(n=r);let u=Math.max(Math.min((r-n)/o,1),0),g=.5-Math.cos(u*Math.PI)/2,c=i+g*(e-i);if(d(c,e)&&(c=e),s.wrapperEl.scrollTo({[t]:c}),d(c,e)){s.wrapperEl.style.overflow="hidden",s.wrapperEl.style.scrollSnapType="",setTimeout(()=>{s.wrapperEl.style.overflow="",s.wrapperEl.scrollTo({[t]:c})}),a.cancelAnimationFrame(s.cssModeFrameID);return}s.cssModeFrameID=a.requestAnimationFrame(f)};f()}function _(s,e=""){let t=z(),a=[...s.children];return t.HTMLSlotElement&&s instanceof HTMLSlotElement&&a.push(...s.assignedElements()),e?a.filter(i=>i.matches(e)):a}function rt(s,e){let t=[e];for(;t.length>0;){let a=t.shift();if(s===a)return!0;t.push(...a.children,...a.shadowRoot?a.shadowRoot.children:[],...a.assignedElements?a.assignedElements():[])}}function He(s,e){let t=z(),a=e.contains(s);return!a&&t.HTMLSlotElement&&e instanceof HTMLSlotElement&&(a=[...e.assignedElements()].includes(s),a||(a=rt(s,e))),a}function le(s){try{console.warn(s);return}catch{}}function X(s,e=[]){let t=document.createElement(s);return t.classList.add(...Array.isArray(e)?e:ke(e)),t}function Be(s,e){let t=[];for(;s.previousElementSibling;){let a=s.previousElementSibling;e?a.matches(e)&&t.push(a):t.push(a),s=a}return t}function Re(s,e){let t=[];for(;s.nextElementSibling;){let a=s.nextElementSibling;e?a.matches(e)&&t.push(a):t.push(a),s=a}return t}function F(s,e){return z().getComputedStyle(s,null).getPropertyValue(e)}function oe(s){let e=s,t;if(e){for(t=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(t+=1);return t}}function de(s,e){let t=[],a=s.parentElement;for(;a;)e?a.matches(e)&&t.push(a):t.push(a),a=a.parentElement;return t}function me(s,e,t){let a=z();return t?s[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(a.getComputedStyle(s,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(a.getComputedStyle(s,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom")):s.offsetWidth}function G(s){return(Array.isArray(s)?s:[s]).filter(e=>!!e)}function K(s,e=""){typeof trustedTypes<"u"?s.innerHTML=trustedTypes.createPolicy("html",{createHTML:t=>t}).createHTML(e):s.innerHTML=e}var Se;function lt(){let s=z(),e=k();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in s||s.DocumentTouch&&e instanceof s.DocumentTouch)}}function We(){return Se||(Se=lt()),Se}var Ee;function ot({userAgent:s}={}){let e=We(),t=z(),a=t.navigator.platform,i=s||t.navigator.userAgent,n={ios:!1,android:!1},r=t.screen.width,o=t.screen.height,l=i.match(/(Android);?[\s\/]+([\d.]+)?/),d=i.match(/(iPad)(?!\1).*OS\s([\d_]+)/),f=i.match(/(iPod)(.*OS\s([\d_]+))?/),u=!d&&i.match(/(iPhone\sOS|iOS)\s([\d_]+)/),g=a==="Win32",c=a==="MacIntel",m=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!d&&c&&e.touch&&m.indexOf("".concat(r,"x").concat(o))>=0&&(d=i.match(/(Version)\/([\d.]+)/),d||(d=[0,1,"13_0_0"]),c=!1),l&&!g&&(n.os="android",n.android=!0),(d||u||f)&&(n.os="ios",n.ios=!0),n}function Ve(s={}){return Ee||(Ee=ot(s)),Ee}var xe;function dt(){let s=z(),e=Ve(),t=!1;function a(){let o=s.navigator.userAgent.toLowerCase();return o.indexOf("safari")>=0&&o.indexOf("chrome")<0&&o.indexOf("android")<0}if(a()){let o=String(s.navigator.userAgent);if(o.includes("Version/")){let[l,d]=o.split("Version/")[1].split(" ")[0].split(".").map(f=>Number(f));t=l<16||l===16&&d<2}}let i=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(s.navigator.userAgent),n=a(),r=n||i&&e.ios;return{isSafari:t||n,needPerspectiveFix:t,need3dFix:r,isWebView:i}}function qe(){return xe||(xe=dt()),xe}function ct({swiper:s,on:e,emit:t}){let a=z(),i=null,n=null,r=()=>{!s||s.destroyed||!s.initialized||(t("beforeResize"),t("resize"))},o=()=>{!s||s.destroyed||!s.initialized||(i=new ResizeObserver(f=>{n=a.requestAnimationFrame(()=>{let{width:u,height:g}=s,c=u,m=g;f.forEach(({contentBoxSize:p,contentRect:b,target:y})=>{y&&y!==s.el||(c=b?b.width:(p[0]||p).inlineSize,m=b?b.height:(p[0]||p).blockSize)}),(c!==u||m!==g)&&r()})}),i.observe(s.el))},l=()=>{n&&a.cancelAnimationFrame(n),i&&i.unobserve&&s.el&&(i.unobserve(s.el),i=null)},d=()=>{!s||s.destroyed||!s.initialized||t("orientationchange")};e("init",()=>{if(s.params.resizeObserver&&typeof a.ResizeObserver<"u"){o();return}a.addEventListener("resize",r),a.addEventListener("orientationchange",d)}),e("destroy",()=>{l(),a.removeEventListener("resize",r),a.removeEventListener("orientationchange",d)})}function ut({swiper:s,extendParams:e,on:t,emit:a}){let i=[],n=z(),r=(d,f={})=>{let u=n.MutationObserver||n.WebkitMutationObserver,g=new u(c=>{if(s.__preventObserver__)return;if(c.length===1){a("observerUpdate",c[0]);return}let m=function(){a("observerUpdate",c[0])};n.requestAnimationFrame?n.requestAnimationFrame(m):n.setTimeout(m,0)});g.observe(d,{attributes:typeof f.attributes>"u"?!0:f.attributes,childList:s.isElement||(typeof f.childList>"u"?!0:f).childList,characterData:typeof f.characterData>"u"?!0:f.characterData}),i.push(g)},o=()=>{if(s.params.observer){if(s.params.observeParents){let d=de(s.hostEl);for(let f=0;f<d.length;f+=1)r(d[f])}r(s.hostEl,{childList:s.params.observeSlideChildren}),r(s.wrapperEl,{attributes:!1})}},l=()=>{i.forEach(d=>{d.disconnect()}),i.splice(0,i.length)};e({observer:!1,observeParents:!1,observeSlideChildren:!1}),t("init",o),t("destroy",l)}var ft={on(s,e,t){let a=this;if(!a.eventsListeners||a.destroyed||typeof e!="function")return a;let i=t?"unshift":"push";return s.split(" ").forEach(n=>{a.eventsListeners[n]||(a.eventsListeners[n]=[]),a.eventsListeners[n][i](e)}),a},once(s,e,t){let a=this;if(!a.eventsListeners||a.destroyed||typeof e!="function")return a;function i(...n){a.off(s,i),i.__emitterProxy&&delete i.__emitterProxy,e.apply(a,n)}return i.__emitterProxy=e,a.on(s,i,t)},onAny(s,e){let t=this;if(!t.eventsListeners||t.destroyed||typeof s!="function")return t;let a=e?"unshift":"push";return t.eventsAnyListeners.indexOf(s)<0&&t.eventsAnyListeners[a](s),t},offAny(s){let e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;let t=e.eventsAnyListeners.indexOf(s);return t>=0&&e.eventsAnyListeners.splice(t,1),e},off(s,e){let t=this;return!t.eventsListeners||t.destroyed||!t.eventsListeners||s.split(" ").forEach(a=>{typeof e>"u"?t.eventsListeners[a]=[]:t.eventsListeners[a]&&t.eventsListeners[a].forEach((i,n)=>{(i===e||i.__emitterProxy&&i.__emitterProxy===e)&&t.eventsListeners[a].splice(n,1)})}),t},emit(...s){let e=this;if(!e.eventsListeners||e.destroyed||!e.eventsListeners)return e;let t,a,i;return typeof s[0]=="string"||Array.isArray(s[0])?(t=s[0],a=s.slice(1,s.length),i=e):(t=s[0].events,a=s[0].data,i=s[0].context||e),a.unshift(i),(Array.isArray(t)?t:t.split(" ")).forEach(r=>{e.eventsAnyListeners&&e.eventsAnyListeners.length&&e.eventsAnyListeners.forEach(o=>{o.apply(i,[r,...a])}),e.eventsListeners&&e.eventsListeners[r]&&e.eventsListeners[r].forEach(o=>{o.apply(i,a)})}),e}};function mt(){let s=this,e,t,a=s.el;typeof s.params.width<"u"&&s.params.width!==null?e=s.params.width:e=a.clientWidth,typeof s.params.height<"u"&&s.params.height!==null?t=s.params.height:t=a.clientHeight,!(e===0&&s.isHorizontal()||t===0&&s.isVertical())&&(e=e-parseInt(F(a,"padding-left")||0,10)-parseInt(F(a,"padding-right")||0,10),t=t-parseInt(F(a,"padding-top")||0,10)-parseInt(F(a,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(t)&&(t=0),Object.assign(s,{width:e,height:t,size:s.isHorizontal()?e:t}))}function ht(){let s=this;function e(M,E){return parseFloat(M.getPropertyValue(s.getDirectionLabel(E))||0)}let t=s.params,{wrapperEl:a,slidesEl:i,rtlTranslate:n,wrongRTL:r}=s,o=s.virtual&&t.virtual.enabled,l=o?s.virtual.slides.length:s.slides.length,d=_(i,".".concat(s.params.slideClass,", swiper-slide")),f=o?s.virtual.slides.length:d.length,u=[],g=[],c=[],m=t.slidesOffsetBefore;typeof m=="function"&&(m=t.slidesOffsetBefore.call(s));let p=t.slidesOffsetAfter;typeof p=="function"&&(p=t.slidesOffsetAfter.call(s));let b=s.snapGrid.length,y=s.slidesGrid.length,S=s.size-m-p,v=t.spaceBetween,C=-m,T=0,L=0;if(typeof S>"u")return;typeof v=="string"&&v.indexOf("%")>=0?v=parseFloat(v.replace("%",""))/100*S:typeof v=="string"&&(v=parseFloat(v)),s.virtualSize=-v-m-p,d.forEach(M=>{n?M.style.marginLeft="":M.style.marginRight="",M.style.marginBottom="",M.style.marginTop=""}),t.centeredSlides&&t.cssMode&&(Z(a,"--swiper-centered-offset-before",""),Z(a,"--swiper-centered-offset-after",""));let I=t.grid&&t.grid.rows>1&&s.grid;I?s.grid.initSlides(d):s.grid&&s.grid.unsetSlides();let x,$=t.slidesPerView==="auto"&&t.breakpoints&&Object.keys(t.breakpoints).filter(M=>typeof t.breakpoints[M].slidesPerView<"u").length>0;for(let M=0;M<f;M+=1){x=0;let E=d[M];if(!(E&&(I&&s.grid.updateSlide(M,E,d),F(E,"display")==="none"))){if(o&&t.slidesPerView==="auto")t.virtual.slidesPerViewAutoSlideSize&&(x=t.virtual.slidesPerViewAutoSlideSize),x&&E&&(t.roundLengths&&(x=Math.floor(x)),E.style[s.getDirectionLabel("width")]="".concat(x,"px"));else if(t.slidesPerView==="auto"){$&&(E.style[s.getDirectionLabel("width")]="");let A=getComputedStyle(E),H=E.style.transform,R=E.style.webkitTransform;if(H&&(E.style.transform="none"),R&&(E.style.webkitTransform="none"),t.roundLengths)x=s.isHorizontal()?me(E,"width",!0):me(E,"height",!0);else{let N=e(A,"width"),fe=e(A,"padding-left"),w=e(A,"padding-right"),P=e(A,"margin-left"),D=e(A,"margin-right"),O=A.getPropertyValue("box-sizing");if(O&&O==="border-box")x=N+P+D;else{let{clientWidth:Y,offsetWidth:et}=E;x=N+fe+w+P+D+(et-Y)}}H&&(E.style.transform=H),R&&(E.style.webkitTransform=R),t.roundLengths&&(x=Math.floor(x))}else x=(S-(t.slidesPerView-1)*v)/t.slidesPerView,t.roundLengths&&(x=Math.floor(x)),E&&(E.style[s.getDirectionLabel("width")]="".concat(x,"px"));E&&(E.swiperSlideSize=x),c.push(x),t.centeredSlides?(C=C+x/2+T/2+v,T===0&&M!==0&&(C=C-S/2-v),M===0&&(C=C-S/2-v),Math.abs(C)<1/1e3&&(C=0),t.roundLengths&&(C=Math.floor(C)),L%t.slidesPerGroup===0&&u.push(C),g.push(C)):(t.roundLengths&&(C=Math.floor(C)),(L-Math.min(s.params.slidesPerGroupSkip,L))%s.params.slidesPerGroup===0&&u.push(C),g.push(C),C=C+x+v),s.virtualSize+=x+v,T=x,L+=1}}if(s.virtualSize=Math.max(s.virtualSize,S)+p,n&&r&&(t.effect==="slide"||t.effect==="coverflow")&&(a.style.width="".concat(s.virtualSize+v,"px")),t.setWrapperSize&&(a.style[s.getDirectionLabel("width")]="".concat(s.virtualSize+v,"px")),I&&s.grid.updateWrapperSize(x,u),!t.centeredSlides){let M=[];for(let E=0;E<u.length;E+=1){let A=u[E];t.roundLengths&&(A=Math.floor(A)),u[E]<=s.virtualSize-S&&M.push(A)}u=M,Math.floor(s.virtualSize-S)-Math.floor(u[u.length-1])>1&&u.push(s.virtualSize-S)}if(o&&t.loop){let M=c[0]+v;if(t.slidesPerGroup>1){let E=Math.ceil((s.virtual.slidesBefore+s.virtual.slidesAfter)/t.slidesPerGroup),A=M*t.slidesPerGroup;for(let H=0;H<E;H+=1)u.push(u[u.length-1]+A)}for(let E=0;E<s.virtual.slidesBefore+s.virtual.slidesAfter;E+=1)t.slidesPerGroup===1&&u.push(u[u.length-1]+M),g.push(g[g.length-1]+M),s.virtualSize+=M}if(u.length===0&&(u=[0]),v!==0){let M=s.isHorizontal()&&n?"marginLeft":s.getDirectionLabel("marginRight");d.filter((E,A)=>!t.cssMode||t.loop?!0:A!==d.length-1).forEach(E=>{E.style[M]="".concat(v,"px")})}if(t.centeredSlides&&t.centeredSlidesBounds){let M=0;c.forEach(A=>{M+=A+(v||0)}),M-=v;let E=M>S?M-S:0;u=u.map(A=>A<=0?-m:A>E?E+p:A)}if(t.centerInsufficientSlides){let M=0;c.forEach(A=>{M+=A+(v||0)}),M-=v;let E=(m||0)+(p||0);if(M+E<S){let A=(S-M-E)/2;u.forEach((H,R)=>{u[R]=H-A}),g.forEach((H,R)=>{g[R]=H+A})}}if(Object.assign(s,{slides:d,snapGrid:u,slidesGrid:g,slidesSizesGrid:c}),t.centeredSlides&&t.cssMode&&!t.centeredSlidesBounds){Z(a,"--swiper-centered-offset-before","".concat(-u[0],"px")),Z(a,"--swiper-centered-offset-after","".concat(s.size/2-c[c.length-1]/2,"px"));let M=-s.snapGrid[0],E=-s.slidesGrid[0];s.snapGrid=s.snapGrid.map(A=>A+M),s.slidesGrid=s.slidesGrid.map(A=>A+E)}if(f!==l&&s.emit("slidesLengthChange"),u.length!==b&&(s.params.watchOverflow&&s.checkOverflow(),s.emit("snapGridLengthChange")),g.length!==y&&s.emit("slidesGridLengthChange"),t.watchSlidesProgress&&s.updateSlidesOffset(),s.emit("slidesUpdated"),!o&&!t.cssMode&&(t.effect==="slide"||t.effect==="fade")){let M="".concat(t.containerModifierClass,"backface-hidden"),E=s.el.classList.contains(M);f<=t.maxBackfaceHiddenSlides?E||s.el.classList.add(M):E&&s.el.classList.remove(M)}}function pt(s){let e=this,t=[],a=e.virtual&&e.params.virtual.enabled,i=0,n;typeof s=="number"?e.setTransition(s):s===!0&&e.setTransition(e.params.speed);let r=o=>a?e.slides[e.getSlideIndexByData(o)]:e.slides[o];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(o=>{t.push(o)});else for(n=0;n<Math.ceil(e.params.slidesPerView);n+=1){let o=e.activeIndex+n;if(o>e.slides.length&&!a)break;t.push(r(o))}else t.push(r(e.activeIndex));for(n=0;n<t.length;n+=1)if(typeof t[n]<"u"){let o=t[n].offsetHeight;i=o>i?o:i}(i||i===0)&&(e.wrapperEl.style.height="".concat(i,"px"))}function gt(){let s=this,e=s.slides,t=s.isElement?s.isHorizontal()?s.wrapperEl.offsetLeft:s.wrapperEl.offsetTop:0;for(let a=0;a<e.length;a+=1)e[a].swiperSlideOffset=(s.isHorizontal()?e[a].offsetLeft:e[a].offsetTop)-t-s.cssOverflowAdjustment()}var Ge=(s,e,t)=>{e&&!s.classList.contains(t)?s.classList.add(t):!e&&s.classList.contains(t)&&s.classList.remove(t)};function vt(s=this&&this.translate||0){let e=this,t=e.params,{slides:a,rtlTranslate:i,snapGrid:n}=e;if(a.length===0)return;typeof a[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let r=-s;i&&(r=s),e.visibleSlidesIndexes=[],e.visibleSlides=[];let o=t.spaceBetween;typeof o=="string"&&o.indexOf("%")>=0?o=parseFloat(o.replace("%",""))/100*e.size:typeof o=="string"&&(o=parseFloat(o));for(let l=0;l<a.length;l+=1){let d=a[l],f=d.swiperSlideOffset;t.cssMode&&t.centeredSlides&&(f-=a[0].swiperSlideOffset);let u=(r+(t.centeredSlides?e.minTranslate():0)-f)/(d.swiperSlideSize+o),g=(r-n[0]+(t.centeredSlides?e.minTranslate():0)-f)/(d.swiperSlideSize+o),c=-(r-f),m=c+e.slidesSizesGrid[l],p=c>=0&&c<=e.size-e.slidesSizesGrid[l],b=c>=0&&c<e.size-1||m>1&&m<=e.size||c<=0&&m>=e.size;b&&(e.visibleSlides.push(d),e.visibleSlidesIndexes.push(l)),Ge(d,b,t.slideVisibleClass),Ge(d,p,t.slideFullyVisibleClass),d.progress=i?-u:u,d.originalProgress=i?-g:g}}function yt(s){let e=this;if(typeof s>"u"){let f=e.rtlTranslate?-1:1;s=e&&e.translate&&e.translate*f||0}let t=e.params,a=e.maxTranslate()-e.minTranslate(),{progress:i,isBeginning:n,isEnd:r,progressLoop:o}=e,l=n,d=r;if(a===0)i=0,n=!0,r=!0;else{i=(s-e.minTranslate())/a;let f=Math.abs(s-e.minTranslate())<1,u=Math.abs(s-e.maxTranslate())<1;n=f||i<=0,r=u||i>=1,f&&(i=0),u&&(i=1)}if(t.loop){let f=e.getSlideIndexByData(0),u=e.getSlideIndexByData(e.slides.length-1),g=e.slidesGrid[f],c=e.slidesGrid[u],m=e.slidesGrid[e.slidesGrid.length-1],p=Math.abs(s);p>=g?o=(p-g)/m:o=(p+m-c)/m,o>1&&(o-=1)}Object.assign(e,{progress:i,progressLoop:o,isBeginning:n,isEnd:r}),(t.watchSlidesProgress||t.centeredSlides&&t.autoHeight)&&e.updateSlidesProgress(s),n&&!l&&e.emit("reachBeginning toEdge"),r&&!d&&e.emit("reachEnd toEdge"),(l&&!n||d&&!r)&&e.emit("fromEdge"),e.emit("progress",i)}var Te=(s,e,t)=>{e&&!s.classList.contains(t)?s.classList.add(t):!e&&s.classList.contains(t)&&s.classList.remove(t)};function bt(){let s=this,{slides:e,params:t,slidesEl:a,activeIndex:i}=s,n=s.virtual&&t.virtual.enabled,r=s.grid&&t.grid&&t.grid.rows>1,o=u=>_(a,".".concat(t.slideClass).concat(u,", swiper-slide").concat(u))[0],l,d,f;if(n)if(t.loop){let u=i-s.virtual.slidesBefore;u<0&&(u=s.virtual.slides.length+u),u>=s.virtual.slides.length&&(u-=s.virtual.slides.length),l=o('[data-swiper-slide-index="'.concat(u,'"]'))}else l=o('[data-swiper-slide-index="'.concat(i,'"]'));else r?(l=e.find(u=>u.column===i),f=e.find(u=>u.column===i+1),d=e.find(u=>u.column===i-1)):l=e[i];l&&(r||(f=Re(l,".".concat(t.slideClass,", swiper-slide"))[0],t.loop&&!f&&(f=e[0]),d=Be(l,".".concat(t.slideClass,", swiper-slide"))[0],t.loop&&!d===0&&(d=e[e.length-1]))),e.forEach(u=>{Te(u,u===l,t.slideActiveClass),Te(u,u===f,t.slideNextClass),Te(u,u===d,t.slidePrevClass)}),s.emitSlidesClasses()}var he=(s,e)=>{if(!s||s.destroyed||!s.params)return;let t=()=>s.isElement?"swiper-slide":".".concat(s.params.slideClass),a=e.closest(t());if(a){let i=a.querySelector(".".concat(s.params.lazyPreloaderClass));!i&&s.isElement&&(a.shadowRoot?i=a.shadowRoot.querySelector(".".concat(s.params.lazyPreloaderClass)):requestAnimationFrame(()=>{a.shadowRoot&&(i=a.shadowRoot.querySelector(".".concat(s.params.lazyPreloaderClass)),i&&i.remove())})),i&&i.remove()}},Me=(s,e)=>{if(!s.slides[e])return;let t=s.slides[e].querySelector('[loading="lazy"]');t&&t.removeAttribute("loading")},Le=s=>{if(!s||s.destroyed||!s.params)return;let e=s.params.lazyPreloadPrevNext,t=s.slides.length;if(!t||!e||e<0)return;e=Math.min(e,t);let a=s.params.slidesPerView==="auto"?s.slidesPerViewDynamic():Math.ceil(s.params.slidesPerView),i=s.activeIndex;if(s.params.grid&&s.params.grid.rows>1){let r=i,o=[r-e];o.push(...Array.from({length:e}).map((l,d)=>r+a+d)),s.slides.forEach((l,d)=>{o.includes(l.column)&&Me(s,d)});return}let n=i+a-1;if(s.params.rewind||s.params.loop)for(let r=i-e;r<=n+e;r+=1){let o=(r%t+t)%t;(o<i||o>n)&&Me(s,o)}else for(let r=Math.max(i-e,0);r<=Math.min(n+e,t-1);r+=1)r!==i&&(r>n||r<i)&&Me(s,r)};function St(s){let{slidesGrid:e,params:t}=s,a=s.rtlTranslate?s.translate:-s.translate,i;for(let n=0;n<e.length;n+=1)typeof e[n+1]<"u"?a>=e[n]&&a<e[n+1]-(e[n+1]-e[n])/2?i=n:a>=e[n]&&a<e[n+1]&&(i=n+1):a>=e[n]&&(i=n);return t.normalizeSlideIndex&&(i<0||typeof i>"u")&&(i=0),i}function Et(s){let e=this,t=e.rtlTranslate?e.translate:-e.translate,{snapGrid:a,params:i,activeIndex:n,realIndex:r,snapIndex:o}=e,l=s,d,f=c=>{let m=c-e.virtual.slidesBefore;return m<0&&(m=e.virtual.slides.length+m),m>=e.virtual.slides.length&&(m-=e.virtual.slides.length),m};if(typeof l>"u"&&(l=St(e)),a.indexOf(t)>=0)d=a.indexOf(t);else{let c=Math.min(i.slidesPerGroupSkip,l);d=c+Math.floor((l-c)/i.slidesPerGroup)}if(d>=a.length&&(d=a.length-1),l===n&&!e.params.loop){d!==o&&(e.snapIndex=d,e.emit("snapIndexChange"));return}if(l===n&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=f(l);return}let u=e.grid&&i.grid&&i.grid.rows>1,g;if(e.virtual&&i.virtual.enabled&&i.loop)g=f(l);else if(u){let c=e.slides.find(p=>p.column===l),m=parseInt(c.getAttribute("data-swiper-slide-index"),10);Number.isNaN(m)&&(m=Math.max(e.slides.indexOf(c),0)),g=Math.floor(m/i.grid.rows)}else if(e.slides[l]){let c=e.slides[l].getAttribute("data-swiper-slide-index");c?g=parseInt(c,10):g=l}else g=l;Object.assign(e,{previousSnapIndex:o,snapIndex:d,previousRealIndex:r,realIndex:g,previousIndex:n,activeIndex:l}),e.initialized&&Le(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(r!==g&&e.emit("realIndexChange"),e.emit("slideChange"))}function xt(s,e){let t=this,a=t.params,i=s.closest(".".concat(a.slideClass,", swiper-slide"));!i&&t.isElement&&e&&e.length>1&&e.includes(s)&&[...e.slice(e.indexOf(s)+1,e.length)].forEach(o=>{!i&&o.matches&&o.matches(".".concat(a.slideClass,", swiper-slide"))&&(i=o)});let n=!1,r;if(i){for(let o=0;o<t.slides.length;o+=1)if(t.slides[o]===i){n=!0,r=o;break}}if(i&&n)t.clickedSlide=i,t.virtual&&t.params.virtual.enabled?t.clickedIndex=parseInt(i.getAttribute("data-swiper-slide-index"),10):t.clickedIndex=r;else{t.clickedSlide=void 0,t.clickedIndex=void 0;return}a.slideToClickedSlide&&t.clickedIndex!==void 0&&t.clickedIndex!==t.activeIndex&&t.slideToClickedSlide()}var Tt={updateSize:mt,updateSlides:ht,updateAutoHeight:pt,updateSlidesOffset:gt,updateSlidesProgress:vt,updateProgress:yt,updateSlidesClasses:bt,updateActiveIndex:Et,updateClickedSlide:xt};function Mt(s=this.isHorizontal()?"x":"y"){let e=this,{params:t,rtlTranslate:a,translate:i,wrapperEl:n}=e;if(t.virtualTranslate)return a?-i:i;if(t.cssMode)return i;let r=ye(n,s);return r+=e.cssOverflowAdjustment(),a&&(r=-r),r||0}function Ct(s,e){let t=this,{rtlTranslate:a,params:i,wrapperEl:n,progress:r}=t,o=0,l=0,d=0;t.isHorizontal()?o=a?-s:s:l=s,i.roundLengths&&(o=Math.floor(o),l=Math.floor(l)),t.previousTranslate=t.translate,t.translate=t.isHorizontal()?o:l,i.cssMode?n[t.isHorizontal()?"scrollLeft":"scrollTop"]=t.isHorizontal()?-o:-l:i.virtualTranslate||(t.isHorizontal()?o-=t.cssOverflowAdjustment():l-=t.cssOverflowAdjustment(),n.style.transform="translate3d(".concat(o,"px, ").concat(l,"px, ").concat(d,"px)"));let f,u=t.maxTranslate()-t.minTranslate();u===0?f=0:f=(s-t.minTranslate())/u,f!==r&&t.updateProgress(s),t.emit("setTranslate",t.translate,e)}function Pt(){return-this.snapGrid[0]}function Lt(){return-this.snapGrid[this.snapGrid.length-1]}function It(s=0,e=this.params.speed,t=!0,a=!0,i){let n=this,{params:r,wrapperEl:o}=n;if(n.animating&&r.preventInteractionOnTransition)return!1;let l=n.minTranslate(),d=n.maxTranslate(),f;if(a&&s>l?f=l:a&&s<d?f=d:f=s,n.updateProgress(f),r.cssMode){let u=n.isHorizontal();if(e===0)o[u?"scrollLeft":"scrollTop"]=-f;else{if(!n.support.smoothScroll)return be({swiper:n,targetPosition:-f,side:u?"left":"top"}),!0;o.scrollTo({[u?"left":"top"]:-f,behavior:"smooth"})}return!0}return e===0?(n.setTransition(0),n.setTranslate(f),t&&(n.emit("beforeTransitionStart",e,i),n.emit("transitionEnd"))):(n.setTransition(e),n.setTranslate(f),t&&(n.emit("beforeTransitionStart",e,i),n.emit("transitionStart")),n.animating||(n.animating=!0,n.onTranslateToWrapperTransitionEnd||(n.onTranslateToWrapperTransitionEnd=function(g){!n||n.destroyed||g.target===this&&(n.wrapperEl.removeEventListener("transitionend",n.onTranslateToWrapperTransitionEnd),n.onTranslateToWrapperTransitionEnd=null,delete n.onTranslateToWrapperTransitionEnd,n.animating=!1,t&&n.emit("transitionEnd"))}),n.wrapperEl.addEventListener("transitionend",n.onTranslateToWrapperTransitionEnd))),!0}var At={getTranslate:Mt,setTranslate:Ct,minTranslate:Pt,maxTranslate:Lt,translateTo:It};function wt(s,e){let t=this;t.params.cssMode||(t.wrapperEl.style.transitionDuration="".concat(s,"ms"),t.wrapperEl.style.transitionDelay=s===0?"0ms":""),t.emit("setTransition",s,e)}function je({swiper:s,runCallbacks:e,direction:t,step:a}){let{activeIndex:i,previousIndex:n}=s,r=t;r||(i>n?r="next":i<n?r="prev":r="reset"),s.emit("transition".concat(a)),e&&r==="reset"?s.emit("slideResetTransition".concat(a)):e&&i!==n&&(s.emit("slideChangeTransition".concat(a)),r==="next"?s.emit("slideNextTransition".concat(a)):s.emit("slidePrevTransition".concat(a)))}function Dt(s=!0,e){let t=this,{params:a}=t;a.cssMode||(a.autoHeight&&t.updateAutoHeight(),je({swiper:t,runCallbacks:s,direction:e,step:"Start"}))}function $t(s=!0,e){let t=this,{params:a}=t;t.animating=!1,!a.cssMode&&(t.setTransition(0),je({swiper:t,runCallbacks:s,direction:e,step:"End"}))}var zt={setTransition:wt,transitionStart:Dt,transitionEnd:$t};function Ot(s=0,e,t=!0,a,i){typeof s=="string"&&(s=parseInt(s,10));let n=this,r=s;r<0&&(r=0);let{params:o,snapGrid:l,slidesGrid:d,previousIndex:f,activeIndex:u,rtlTranslate:g,wrapperEl:c,enabled:m}=n;if(!m&&!a&&!i||n.destroyed||n.animating&&o.preventInteractionOnTransition)return!1;typeof e>"u"&&(e=n.params.speed);let p=Math.min(n.params.slidesPerGroupSkip,r),b=p+Math.floor((r-p)/n.params.slidesPerGroup);b>=l.length&&(b=l.length-1);let y=-l[b];if(o.normalizeSlideIndex)for(let I=0;I<d.length;I+=1){let x=-Math.floor(y*100),$=Math.floor(d[I]*100),M=Math.floor(d[I+1]*100);typeof d[I+1]<"u"?x>=$&&x<M-(M-$)/2?r=I:x>=$&&x<M&&(r=I+1):x>=$&&(r=I)}if(n.initialized&&r!==u&&(!n.allowSlideNext&&(g?y>n.translate&&y>n.minTranslate():y<n.translate&&y<n.minTranslate())||!n.allowSlidePrev&&y>n.translate&&y>n.maxTranslate()&&(u||0)!==r))return!1;r!==(f||0)&&t&&n.emit("beforeSlideChangeStart"),n.updateProgress(y);let S;r>u?S="next":r<u?S="prev":S="reset";let v=n.virtual&&n.params.virtual.enabled;if(!(v&&i)&&(g&&-y===n.translate||!g&&y===n.translate))return n.updateActiveIndex(r),o.autoHeight&&n.updateAutoHeight(),n.updateSlidesClasses(),o.effect!=="slide"&&n.setTranslate(y),S!=="reset"&&(n.transitionStart(t,S),n.transitionEnd(t,S)),!1;if(o.cssMode){let I=n.isHorizontal(),x=g?y:-y;if(e===0)v&&(n.wrapperEl.style.scrollSnapType="none",n._immediateVirtual=!0),v&&!n._cssModeVirtualInitialSet&&n.params.initialSlide>0?(n._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{c[I?"scrollLeft":"scrollTop"]=x})):c[I?"scrollLeft":"scrollTop"]=x,v&&requestAnimationFrame(()=>{n.wrapperEl.style.scrollSnapType="",n._immediateVirtual=!1});else{if(!n.support.smoothScroll)return be({swiper:n,targetPosition:x,side:I?"left":"top"}),!0;c.scrollTo({[I?"left":"top"]:x,behavior:"smooth"})}return!0}let L=qe().isSafari;return v&&!i&&L&&n.isElement&&n.virtual.update(!1,!1,r),n.setTransition(e),n.setTranslate(y),n.updateActiveIndex(r),n.updateSlidesClasses(),n.emit("beforeTransitionStart",e,a),n.transitionStart(t,S),e===0?n.transitionEnd(t,S):n.animating||(n.animating=!0,n.onSlideToWrapperTransitionEnd||(n.onSlideToWrapperTransitionEnd=function(x){!n||n.destroyed||x.target===this&&(n.wrapperEl.removeEventListener("transitionend",n.onSlideToWrapperTransitionEnd),n.onSlideToWrapperTransitionEnd=null,delete n.onSlideToWrapperTransitionEnd,n.transitionEnd(t,S))}),n.wrapperEl.addEventListener("transitionend",n.onSlideToWrapperTransitionEnd)),!0}function kt(s=0,e,t=!0,a){typeof s=="string"&&(s=parseInt(s,10));let i=this;if(i.destroyed)return;typeof e>"u"&&(e=i.params.speed);let n=i.grid&&i.params.grid&&i.params.grid.rows>1,r=s;if(i.params.loop)if(i.virtual&&i.params.virtual.enabled)r=r+i.virtual.slidesBefore;else{let o;if(n){let p=r*i.params.grid.rows;o=i.slides.find(b=>b.getAttribute("data-swiper-slide-index")*1===p).column}else o=i.getSlideIndexByData(r);let l=n?Math.ceil(i.slides.length/i.params.grid.rows):i.slides.length,{centeredSlides:d,slidesOffsetBefore:f,slidesOffsetAfter:u}=i.params,g=d||!!f||!!u,c=i.params.slidesPerView;c==="auto"?c=i.slidesPerViewDynamic():(c=Math.ceil(parseFloat(i.params.slidesPerView,10)),g&&c%2===0&&(c=c+1));let m=l-o<c;if(g&&(m=m||o<Math.ceil(c/2)),a&&g&&i.params.slidesPerView!=="auto"&&!n&&(m=!1),m){let p=g?o<i.activeIndex?"prev":"next":o-i.activeIndex-1<i.params.slidesPerView?"next":"prev";i.loopFix({direction:p,slideTo:!0,activeSlideIndex:p==="next"?o+1:o-l+1,slideRealIndex:p==="next"?i.realIndex:void 0})}if(n){let p=r*i.params.grid.rows;r=i.slides.find(b=>b.getAttribute("data-swiper-slide-index")*1===p).column}else r=i.getSlideIndexByData(r)}return requestAnimationFrame(()=>{i.slideTo(r,e,t,a)}),i}function _t(s,e=!0,t){let a=this,{enabled:i,params:n,animating:r}=a;if(!i||a.destroyed)return a;typeof s>"u"&&(s=a.params.speed);let o=n.slidesPerGroup;n.slidesPerView==="auto"&&n.slidesPerGroup===1&&n.slidesPerGroupAuto&&(o=Math.max(a.slidesPerViewDynamic("current",!0),1));let l=a.activeIndex<n.slidesPerGroupSkip?1:o,d=a.virtual&&n.virtual.enabled;if(n.loop){if(r&&!d&&n.loopPreventsSliding)return!1;if(a.loopFix({direction:"next"}),a._clientLeft=a.wrapperEl.clientLeft,a.activeIndex===a.slides.length-1&&n.cssMode)return requestAnimationFrame(()=>{a.slideTo(a.activeIndex+l,s,e,t)}),!0}return n.rewind&&a.isEnd?a.slideTo(0,s,e,t):a.slideTo(a.activeIndex+l,s,e,t)}function Ht(s,e=!0,t){let a=this,{params:i,snapGrid:n,slidesGrid:r,rtlTranslate:o,enabled:l,animating:d}=a;if(!l||a.destroyed)return a;typeof s>"u"&&(s=a.params.speed);let f=a.virtual&&i.virtual.enabled;if(i.loop){if(d&&!f&&i.loopPreventsSliding)return!1;a.loopFix({direction:"prev"}),a._clientLeft=a.wrapperEl.clientLeft}let u=o?a.translate:-a.translate;function g(S){return S<0?-Math.floor(Math.abs(S)):Math.floor(S)}let c=g(u),m=n.map(S=>g(S)),p=i.freeMode&&i.freeMode.enabled,b=n[m.indexOf(c)-1];if(typeof b>"u"&&(i.cssMode||p)){let S;n.forEach((v,C)=>{c>=v&&(S=C)}),typeof S<"u"&&(b=p?n[S]:n[S>0?S-1:S])}let y=0;if(typeof b<"u"&&(y=r.indexOf(b),y<0&&(y=a.activeIndex-1),i.slidesPerView==="auto"&&i.slidesPerGroup===1&&i.slidesPerGroupAuto&&(y=y-a.slidesPerViewDynamic("previous",!0)+1,y=Math.max(y,0))),i.rewind&&a.isBeginning){let S=a.params.virtual&&a.params.virtual.enabled&&a.virtual?a.virtual.slides.length-1:a.slides.length-1;return a.slideTo(S,s,e,t)}else if(i.loop&&a.activeIndex===0&&i.cssMode)return requestAnimationFrame(()=>{a.slideTo(y,s,e,t)}),!0;return a.slideTo(y,s,e,t)}function Bt(s,e=!0,t){let a=this;if(!a.destroyed)return typeof s>"u"&&(s=a.params.speed),a.slideTo(a.activeIndex,s,e,t)}function Rt(s,e=!0,t,a=.5){let i=this;if(i.destroyed)return;typeof s>"u"&&(s=i.params.speed);let n=i.activeIndex,r=Math.min(i.params.slidesPerGroupSkip,n),o=r+Math.floor((n-r)/i.params.slidesPerGroup),l=i.rtlTranslate?i.translate:-i.translate;if(l>=i.snapGrid[o]){let d=i.snapGrid[o],f=i.snapGrid[o+1];l-d>(f-d)*a&&(n+=i.params.slidesPerGroup)}else{let d=i.snapGrid[o-1],f=i.snapGrid[o];l-d<=(f-d)*a&&(n-=i.params.slidesPerGroup)}return n=Math.max(n,0),n=Math.min(n,i.slidesGrid.length-1),i.slideTo(n,s,e,t)}function Gt(){let s=this;if(s.destroyed)return;let{params:e,slidesEl:t}=s,a=e.slidesPerView==="auto"?s.slidesPerViewDynamic():e.slidesPerView,i=s.getSlideIndexWhenGrid(s.clickedIndex),n,r=s.isElement?"swiper-slide":".".concat(e.slideClass),o=s.grid&&s.params.grid&&s.params.grid.rows>1;if(e.loop){if(s.animating)return;n=parseInt(s.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?s.slideToLoop(n):i>(o?(s.slides.length-a)/2-(s.params.grid.rows-1):s.slides.length-a)?(s.loopFix(),i=s.getSlideIndex(_(t,"".concat(r,'[data-swiper-slide-index="').concat(n,'"]'))[0]),U(()=>{s.slideTo(i)})):s.slideTo(i)}else s.slideTo(i)}var Nt={slideTo:Ot,slideToLoop:kt,slideNext:_t,slidePrev:Ht,slideReset:Bt,slideToClosest:Rt,slideToClickedSlide:Gt};function Yt(s,e){let t=this,{params:a,slidesEl:i}=t;if(!a.loop||t.virtual&&t.params.virtual.enabled)return;let n=()=>{_(i,".".concat(a.slideClass,", swiper-slide")).forEach((m,p)=>{m.setAttribute("data-swiper-slide-index",p)})},r=()=>{let c=_(i,".".concat(a.slideBlankClass));c.forEach(m=>{m.remove()}),c.length>0&&(t.recalcSlides(),t.updateSlides())},o=t.grid&&a.grid&&a.grid.rows>1;a.loopAddBlankSlides&&(a.slidesPerGroup>1||o)&&r();let l=a.slidesPerGroup*(o?a.grid.rows:1),d=t.slides.length%l!==0,f=o&&t.slides.length%a.grid.rows!==0,u=c=>{for(let m=0;m<c;m+=1){let p=t.isElement?X("swiper-slide",[a.slideBlankClass]):X("div",[a.slideClass,a.slideBlankClass]);t.slidesEl.append(p)}};if(d){if(a.loopAddBlankSlides){let c=l-t.slides.length%l;u(c),t.recalcSlides(),t.updateSlides()}else le("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");n()}else if(f){if(a.loopAddBlankSlides){let c=a.grid.rows-t.slides.length%a.grid.rows;u(c),t.recalcSlides(),t.updateSlides()}else le("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");n()}else n();let g=a.centeredSlides||!!a.slidesOffsetBefore||!!a.slidesOffsetAfter;t.loopFix({slideRealIndex:s,direction:g?void 0:"next",initial:e})}function Xt({slideRealIndex:s,slideTo:e=!0,direction:t,setTranslate:a,activeSlideIndex:i,initial:n,byController:r,byMousewheel:o}={}){let l=this;if(!l.params.loop)return;l.emit("beforeLoopFix");let{slides:d,allowSlidePrev:f,allowSlideNext:u,slidesEl:g,params:c}=l,{centeredSlides:m,slidesOffsetBefore:p,slidesOffsetAfter:b,initialSlide:y}=c,S=m||!!p||!!b;if(l.allowSlidePrev=!0,l.allowSlideNext=!0,l.virtual&&c.virtual.enabled){e&&(!S&&l.snapIndex===0?l.slideTo(l.virtual.slides.length,0,!1,!0):S&&l.snapIndex<c.slidesPerView?l.slideTo(l.virtual.slides.length+l.snapIndex,0,!1,!0):l.snapIndex===l.snapGrid.length-1&&l.slideTo(l.virtual.slidesBefore,0,!1,!0)),l.allowSlidePrev=f,l.allowSlideNext=u,l.emit("loopFix");return}let v=c.slidesPerView;v==="auto"?v=l.slidesPerViewDynamic():(v=Math.ceil(parseFloat(c.slidesPerView,10)),S&&v%2===0&&(v=v+1));let C=c.slidesPerGroupAuto?v:c.slidesPerGroup,T=S?Math.max(C,Math.ceil(v/2)):C;T%C!==0&&(T+=C-T%C),T+=c.loopAdditionalSlides,l.loopedSlides=T;let L=l.grid&&c.grid&&c.grid.rows>1;d.length<v+T||l.params.effect==="cards"&&d.length<v+T*2?le("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled or not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):L&&c.grid.fill==="row"&&le("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");let I=[],x=[],$=L?Math.ceil(d.length/c.grid.rows):d.length,M=n&&$-y<v&&!S,E=M?y:l.activeIndex;typeof i>"u"?i=l.getSlideIndex(d.find(P=>P.classList.contains(c.slideActiveClass))):E=i;let A=t==="next"||!t,H=t==="prev"||!t,R=0,N=0,w=(L?d[i].column:i)+(S&&typeof a>"u"?-v/2+.5:0);if(w<T){R=Math.max(T-w,C);for(let P=0;P<T-w;P+=1){let D=P-Math.floor(P/$)*$;if(L){let O=$-D-1;for(let Y=d.length-1;Y>=0;Y-=1)d[Y].column===O&&I.push(Y)}else I.push($-D-1)}}else if(w+v>$-T){N=Math.max(w-($-T*2),C),M&&(N=Math.max(N,v-$+y+1));for(let P=0;P<N;P+=1){let D=P-Math.floor(P/$)*$;L?d.forEach((O,Y)=>{O.column===D&&x.push(Y)}):x.push(D)}}if(l.__preventObserver__=!0,requestAnimationFrame(()=>{l.__preventObserver__=!1}),l.params.effect==="cards"&&d.length<v+T*2&&(x.includes(i)&&x.splice(x.indexOf(i),1),I.includes(i)&&I.splice(I.indexOf(i),1)),H&&I.forEach(P=>{d[P].swiperLoopMoveDOM=!0,g.prepend(d[P]),d[P].swiperLoopMoveDOM=!1}),A&&x.forEach(P=>{d[P].swiperLoopMoveDOM=!0,g.append(d[P]),d[P].swiperLoopMoveDOM=!1}),l.recalcSlides(),c.slidesPerView==="auto"?l.updateSlides():L&&(I.length>0&&H||x.length>0&&A)&&l.slides.forEach((P,D)=>{l.grid.updateSlide(D,P,l.slides)}),c.watchSlidesProgress&&l.updateSlidesOffset(),e){if(I.length>0&&H){if(typeof s>"u"){let P=l.slidesGrid[E],O=l.slidesGrid[E+R]-P;o?l.setTranslate(l.translate-O):(l.slideTo(E+Math.ceil(R),0,!1,!0),a&&(l.touchEventsData.startTranslate=l.touchEventsData.startTranslate-O,l.touchEventsData.currentTranslate=l.touchEventsData.currentTranslate-O))}else if(a){let P=L?I.length/c.grid.rows:I.length;l.slideTo(l.activeIndex+P,0,!1,!0),l.touchEventsData.currentTranslate=l.translate}}else if(x.length>0&&A)if(typeof s>"u"){let P=l.slidesGrid[E],O=l.slidesGrid[E-N]-P;o?l.setTranslate(l.translate-O):(l.slideTo(E-N,0,!1,!0),a&&(l.touchEventsData.startTranslate=l.touchEventsData.startTranslate-O,l.touchEventsData.currentTranslate=l.touchEventsData.currentTranslate-O))}else{let P=L?x.length/c.grid.rows:x.length;l.slideTo(l.activeIndex-P,0,!1,!0)}}if(l.allowSlidePrev=f,l.allowSlideNext=u,l.controller&&l.controller.control&&!r){let P={slideRealIndex:s,direction:t,setTranslate:a,activeSlideIndex:i,byController:!0};Array.isArray(l.controller.control)?l.controller.control.forEach(D=>{!D.destroyed&&D.params.loop&&D.loopFix({...P,slideTo:D.params.slidesPerView===c.slidesPerView?e:!1})}):l.controller.control instanceof l.constructor&&l.controller.control.params.loop&&l.controller.control.loopFix({...P,slideTo:l.controller.control.params.slidesPerView===c.slidesPerView?e:!1})}l.emit("loopFix")}function Ft(){let s=this,{params:e,slidesEl:t}=s;if(!e.loop||!t||s.virtual&&s.params.virtual.enabled)return;s.recalcSlides();let a=[];s.slides.forEach(i=>{let n=typeof i.swiperSlideIndex>"u"?i.getAttribute("data-swiper-slide-index")*1:i.swiperSlideIndex;a[n]=i}),s.slides.forEach(i=>{i.removeAttribute("data-swiper-slide-index")}),a.forEach(i=>{t.append(i)}),s.recalcSlides(),s.slideTo(s.realIndex,0)}var Wt={loopCreate:Yt,loopFix:Xt,loopDestroy:Ft};function Vt(s){let e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;let t=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),t.style.cursor="move",t.style.cursor=s?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function qt(){let s=this;s.params.watchOverflow&&s.isLocked||s.params.cssMode||(s.isElement&&(s.__preventObserver__=!0),s[s.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",s.isElement&&requestAnimationFrame(()=>{s.__preventObserver__=!1}))}var jt={setGrabCursor:Vt,unsetGrabCursor:qt};function Ut(s,e=this){function t(a){if(!a||a===k()||a===z())return null;a.assignedSlot&&(a=a.assignedSlot);let i=a.closest(s);return!i&&!a.getRootNode?null:i||t(a.getRootNode().host)}return t(e)}function Ne(s,e,t){let a=z(),{params:i}=s,n=i.edgeSwipeDetection,r=i.edgeSwipeThreshold;return n&&(t<=r||t>=a.innerWidth-r)?n==="prevent"?(e.preventDefault(),!0):!1:!0}function Zt(s){let e=this,t=k(),a=s;a.originalEvent&&(a=a.originalEvent);let i=e.touchEventsData;if(a.type==="pointerdown"){if(i.pointerId!==null&&i.pointerId!==a.pointerId)return;i.pointerId=a.pointerId}else a.type==="touchstart"&&a.targetTouches.length===1&&(i.touchId=a.targetTouches[0].identifier);if(a.type==="touchstart"){Ne(e,a,a.targetTouches[0].pageX);return}let{params:n,touches:r,enabled:o}=e;if(!o||!n.simulateTouch&&a.pointerType==="mouse"||e.animating&&n.preventInteractionOnTransition)return;!e.animating&&n.cssMode&&n.loop&&e.loopFix();let l=a.target;if(n.touchEventsTarget==="wrapper"&&!He(l,e.wrapperEl)||"which"in a&&a.which===3||"button"in a&&a.button>0||i.isTouched&&i.isMoved)return;let d=!!n.noSwipingClass&&n.noSwipingClass!=="",f=a.composedPath?a.composedPath():a.path;d&&a.target&&a.target.shadowRoot&&f&&(l=f[0]);let u=n.noSwipingSelector?n.noSwipingSelector:".".concat(n.noSwipingClass),g=!!(a.target&&a.target.shadowRoot);if(n.noSwiping&&(g?Ut(u,l):l.closest(u))){e.allowClick=!0;return}if(n.swipeHandler&&!l.closest(n.swipeHandler))return;r.currentX=a.pageX,r.currentY=a.pageY;let c=r.currentX,m=r.currentY;if(!Ne(e,a,c))return;Object.assign(i,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),r.startX=c,r.startY=m,i.touchStartTime=q(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,n.threshold>0&&(i.allowThresholdMove=!1);let p=!0;l.matches(i.focusableElements)&&(p=!1,l.nodeName==="SELECT"&&(i.isTouched=!1)),t.activeElement&&t.activeElement.matches(i.focusableElements)&&t.activeElement!==l&&(a.pointerType==="mouse"||a.pointerType!=="mouse"&&!l.matches(i.focusableElements))&&t.activeElement.blur();let b=p&&e.allowTouchMove&&n.touchStartPreventDefault;(n.touchStartForcePreventDefault||b)&&!l.isContentEditable&&a.preventDefault(),n.freeMode&&n.freeMode.enabled&&e.freeMode&&e.animating&&!n.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",a)}function Kt(s){let e=k(),t=this,a=t.touchEventsData,{params:i,touches:n,rtlTranslate:r,enabled:o}=t;if(!o||!i.simulateTouch&&s.pointerType==="mouse")return;let l=s;if(l.originalEvent&&(l=l.originalEvent),l.type==="pointermove"&&(a.touchId!==null||l.pointerId!==a.pointerId))return;let d;if(l.type==="touchmove"){if(d=[...l.changedTouches].find(L=>L.identifier===a.touchId),!d||d.identifier!==a.touchId)return}else d=l;if(!a.isTouched){a.startMoving&&a.isScrolling&&t.emit("touchMoveOpposite",l);return}let f=d.pageX,u=d.pageY;if(l.preventedByNestedSwiper){n.startX=f,n.startY=u;return}if(!t.allowTouchMove){l.target.matches(a.focusableElements)||(t.allowClick=!1),a.isTouched&&(Object.assign(n,{startX:f,startY:u,currentX:f,currentY:u}),a.touchStartTime=q());return}if(i.touchReleaseOnEdges&&!i.loop)if(t.isVertical()){if(u<n.startY&&t.translate<=t.maxTranslate()||u>n.startY&&t.translate>=t.minTranslate()){a.isTouched=!1,a.isMoved=!1;return}}else{if(r&&(f>n.startX&&-t.translate<=t.maxTranslate()||f<n.startX&&-t.translate>=t.minTranslate()))return;if(!r&&(f<n.startX&&t.translate<=t.maxTranslate()||f>n.startX&&t.translate>=t.minTranslate()))return}if(e.activeElement&&e.activeElement.matches(a.focusableElements)&&e.activeElement!==l.target&&l.pointerType!=="mouse"&&e.activeElement.blur(),e.activeElement&&l.target===e.activeElement&&l.target.matches(a.focusableElements)){a.isMoved=!0,t.allowClick=!1;return}a.allowTouchCallbacks&&t.emit("touchMove",l),n.previousX=n.currentX,n.previousY=n.currentY,n.currentX=f,n.currentY=u;let g=n.currentX-n.startX,c=n.currentY-n.startY;if(t.params.threshold&&Math.sqrt(g**2+c**2)<t.params.threshold)return;if(typeof a.isScrolling>"u"){let L;t.isHorizontal()&&n.currentY===n.startY||t.isVertical()&&n.currentX===n.startX?a.isScrolling=!1:g*g+c*c>=25&&(L=Math.atan2(Math.abs(c),Math.abs(g))*180/Math.PI,a.isScrolling=t.isHorizontal()?L>i.touchAngle:90-L>i.touchAngle)}if(a.isScrolling&&t.emit("touchMoveOpposite",l),typeof a.startMoving>"u"&&(n.currentX!==n.startX||n.currentY!==n.startY)&&(a.startMoving=!0),a.isScrolling||l.type==="touchmove"&&a.preventTouchMoveFromPointerMove){a.isTouched=!1;return}if(!a.startMoving)return;t.allowClick=!1,!i.cssMode&&l.cancelable&&l.preventDefault(),i.touchMoveStopPropagation&&!i.nested&&l.stopPropagation();let m=t.isHorizontal()?g:c,p=t.isHorizontal()?n.currentX-n.previousX:n.currentY-n.previousY;i.oneWayMovement&&(m=Math.abs(m)*(r?1:-1),p=Math.abs(p)*(r?1:-1)),n.diff=m,m*=i.touchRatio,r&&(m=-m,p=-p);let b=t.touchesDirection;t.swipeDirection=m>0?"prev":"next",t.touchesDirection=p>0?"prev":"next";let y=t.params.loop&&!i.cssMode,S=t.touchesDirection==="next"&&t.allowSlideNext||t.touchesDirection==="prev"&&t.allowSlidePrev;if(!a.isMoved){if(y&&S&&t.loopFix({direction:t.swipeDirection}),a.startTranslate=t.getTranslate(),t.setTransition(0),t.animating){let L=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});t.wrapperEl.dispatchEvent(L)}a.allowMomentumBounce=!1,i.grabCursor&&(t.allowSlideNext===!0||t.allowSlidePrev===!0)&&t.setGrabCursor(!0),t.emit("sliderFirstMove",l)}let v;if(new Date().getTime(),i._loopSwapReset!==!1&&a.isMoved&&a.allowThresholdMove&&b!==t.touchesDirection&&y&&S&&Math.abs(m)>=1){Object.assign(n,{startX:f,startY:u,currentX:f,currentY:u,startTranslate:a.currentTranslate}),a.loopSwapReset=!0,a.startTranslate=a.currentTranslate;return}t.emit("sliderMove",l),a.isMoved=!0,a.currentTranslate=m+a.startTranslate;let C=!0,T=i.resistanceRatio;if(i.touchReleaseOnEdges&&(T=0),m>0?(y&&S&&!v&&a.allowThresholdMove&&a.currentTranslate>(i.centeredSlides?t.minTranslate()-t.slidesSizesGrid[t.activeIndex+1]-(i.slidesPerView!=="auto"&&t.slides.length-i.slidesPerView>=2?t.slidesSizesGrid[t.activeIndex+1]+t.params.spaceBetween:0)-t.params.spaceBetween:t.minTranslate())&&t.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),a.currentTranslate>t.minTranslate()&&(C=!1,i.resistance&&(a.currentTranslate=t.minTranslate()-1+(-t.minTranslate()+a.startTranslate+m)**T))):m<0&&(y&&S&&!v&&a.allowThresholdMove&&a.currentTranslate<(i.centeredSlides?t.maxTranslate()+t.slidesSizesGrid[t.slidesSizesGrid.length-1]+t.params.spaceBetween+(i.slidesPerView!=="auto"&&t.slides.length-i.slidesPerView>=2?t.slidesSizesGrid[t.slidesSizesGrid.length-1]+t.params.spaceBetween:0):t.maxTranslate())&&t.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:t.slides.length-(i.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(parseFloat(i.slidesPerView,10)))}),a.currentTranslate<t.maxTranslate()&&(C=!1,i.resistance&&(a.currentTranslate=t.maxTranslate()+1-(t.maxTranslate()-a.startTranslate-m)**T))),C&&(l.preventedByNestedSwiper=!0),!t.allowSlideNext&&t.swipeDirection==="next"&&a.currentTranslate<a.startTranslate&&(a.currentTranslate=a.startTranslate),!t.allowSlidePrev&&t.swipeDirection==="prev"&&a.currentTranslate>a.startTranslate&&(a.currentTranslate=a.startTranslate),!t.allowSlidePrev&&!t.allowSlideNext&&(a.currentTranslate=a.startTranslate),i.threshold>0)if(Math.abs(m)>i.threshold||a.allowThresholdMove){if(!a.allowThresholdMove){a.allowThresholdMove=!0,n.startX=n.currentX,n.startY=n.currentY,a.currentTranslate=a.startTranslate,n.diff=t.isHorizontal()?n.currentX-n.startX:n.currentY-n.startY;return}}else{a.currentTranslate=a.startTranslate;return}!i.followFinger||i.cssMode||((i.freeMode&&i.freeMode.enabled&&t.freeMode||i.watchSlidesProgress)&&(t.updateActiveIndex(),t.updateSlidesClasses()),i.freeMode&&i.freeMode.enabled&&t.freeMode&&t.freeMode.onTouchMove(),t.updateProgress(a.currentTranslate),t.setTranslate(a.currentTranslate))}function Qt(s){let e=this,t=e.touchEventsData,a=s;a.originalEvent&&(a=a.originalEvent);let i;if(a.type==="touchend"||a.type==="touchcancel"){if(i=[...a.changedTouches].find(T=>T.identifier===t.touchId),!i||i.identifier!==t.touchId)return}else{if(t.touchId!==null||a.pointerId!==t.pointerId)return;i=a}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(a.type)&&!(["pointercancel","contextmenu"].includes(a.type)&&(e.browser.isSafari||e.browser.isWebView)))return;t.pointerId=null,t.touchId=null;let{params:r,touches:o,rtlTranslate:l,slidesGrid:d,enabled:f}=e;if(!f||!r.simulateTouch&&a.pointerType==="mouse")return;if(t.allowTouchCallbacks&&e.emit("touchEnd",a),t.allowTouchCallbacks=!1,!t.isTouched){t.isMoved&&r.grabCursor&&e.setGrabCursor(!1),t.isMoved=!1,t.startMoving=!1;return}r.grabCursor&&t.isMoved&&t.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);let u=q(),g=u-t.touchStartTime;if(e.allowClick){let T=a.path||a.composedPath&&a.composedPath();e.updateClickedSlide(T&&T[0]||a.target,T),e.emit("tap click",a),g<300&&u-t.lastClickTime<300&&e.emit("doubleTap doubleClick",a)}if(t.lastClickTime=q(),U(()=>{e.destroyed||(e.allowClick=!0)}),!t.isTouched||!t.isMoved||!e.swipeDirection||o.diff===0&&!t.loopSwapReset||t.currentTranslate===t.startTranslate&&!t.loopSwapReset){t.isTouched=!1,t.isMoved=!1,t.startMoving=!1;return}t.isTouched=!1,t.isMoved=!1,t.startMoving=!1;let c;if(r.followFinger?c=l?e.translate:-e.translate:c=-t.currentTranslate,r.cssMode)return;if(r.freeMode&&r.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:c});return}let m=c>=-e.maxTranslate()&&!e.params.loop,p=0,b=e.slidesSizesGrid[0];for(let T=0;T<d.length;T+=T<r.slidesPerGroupSkip?1:r.slidesPerGroup){let L=T<r.slidesPerGroupSkip-1?1:r.slidesPerGroup;typeof d[T+L]<"u"?(m||c>=d[T]&&c<d[T+L])&&(p=T,b=d[T+L]-d[T]):(m||c>=d[T])&&(p=T,b=d[d.length-1]-d[d.length-2])}let y=null,S=null;r.rewind&&(e.isBeginning?S=r.virtual&&r.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(y=0));let v=(c-d[p])/b,C=p<r.slidesPerGroupSkip-1?1:r.slidesPerGroup;if(g>r.longSwipesMs){if(!r.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(v>=r.longSwipesRatio?e.slideTo(r.rewind&&e.isEnd?y:p+C):e.slideTo(p)),e.swipeDirection==="prev"&&(v>1-r.longSwipesRatio?e.slideTo(p+C):S!==null&&v<0&&Math.abs(v)>r.longSwipesRatio?e.slideTo(S):e.slideTo(p))}else{if(!r.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(a.target===e.navigation.nextEl||a.target===e.navigation.prevEl)?a.target===e.navigation.nextEl?e.slideTo(p+C):e.slideTo(p):(e.swipeDirection==="next"&&e.slideTo(y!==null?y:p+C),e.swipeDirection==="prev"&&e.slideTo(S!==null?S:p))}}function Ye(){let s=this,{params:e,el:t}=s;if(t&&t.offsetWidth===0)return;e.breakpoints&&s.setBreakpoint();let{allowSlideNext:a,allowSlidePrev:i,snapGrid:n}=s,r=s.virtual&&s.params.virtual.enabled;s.allowSlideNext=!0,s.allowSlidePrev=!0,s.updateSize(),s.updateSlides(),s.updateSlidesClasses();let o=r&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&s.isEnd&&!s.isBeginning&&!s.params.centeredSlides&&!o?s.slideTo(s.slides.length-1,0,!1,!0):s.params.loop&&!r?s.slideToLoop(s.realIndex,0,!1,!0):s.slideTo(s.activeIndex,0,!1,!0),s.autoplay&&s.autoplay.running&&s.autoplay.paused&&(clearTimeout(s.autoplay.resizeTimeout),s.autoplay.resizeTimeout=setTimeout(()=>{s.autoplay&&s.autoplay.running&&s.autoplay.paused&&s.autoplay.resume()},500)),s.allowSlidePrev=i,s.allowSlideNext=a,s.params.watchOverflow&&n!==s.snapGrid&&s.checkOverflow()}function Jt(s){let e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&s.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(s.stopPropagation(),s.stopImmediatePropagation())))}function es(){let s=this,{wrapperEl:e,rtlTranslate:t,enabled:a}=s;if(!a)return;s.previousTranslate=s.translate,s.isHorizontal()?s.translate=-e.scrollLeft:s.translate=-e.scrollTop,s.translate===0&&(s.translate=0),s.updateActiveIndex(),s.updateSlidesClasses();let i,n=s.maxTranslate()-s.minTranslate();n===0?i=0:i=(s.translate-s.minTranslate())/n,i!==s.progress&&s.updateProgress(t?-s.translate:s.translate),s.emit("setTranslate",s.translate,!1)}function ts(s){let e=this;he(e,s.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function ss(){let s=this;s.documentTouchHandlerProceeded||(s.documentTouchHandlerProceeded=!0,s.params.touchReleaseOnEdges&&(s.el.style.touchAction="auto"))}var Ue=(s,e)=>{let t=k(),{params:a,el:i,wrapperEl:n,device:r}=s,o=!!a.nested,l=e==="on"?"addEventListener":"removeEventListener",d=e;!i||typeof i=="string"||(t[l]("touchstart",s.onDocumentTouchStart,{passive:!1,capture:o}),i[l]("touchstart",s.onTouchStart,{passive:!1}),i[l]("pointerdown",s.onTouchStart,{passive:!1}),t[l]("touchmove",s.onTouchMove,{passive:!1,capture:o}),t[l]("pointermove",s.onTouchMove,{passive:!1,capture:o}),t[l]("touchend",s.onTouchEnd,{passive:!0}),t[l]("pointerup",s.onTouchEnd,{passive:!0}),t[l]("pointercancel",s.onTouchEnd,{passive:!0}),t[l]("touchcancel",s.onTouchEnd,{passive:!0}),t[l]("pointerout",s.onTouchEnd,{passive:!0}),t[l]("pointerleave",s.onTouchEnd,{passive:!0}),t[l]("contextmenu",s.onTouchEnd,{passive:!0}),(a.preventClicks||a.preventClicksPropagation)&&i[l]("click",s.onClick,!0),a.cssMode&&n[l]("scroll",s.onScroll),a.updateOnWindowResize?s[d](r.ios||r.android?"resize orientationchange observerUpdate":"resize observerUpdate",Ye,!0):s[d]("observerUpdate",Ye,!0),i[l]("load",s.onLoad,{capture:!0}))};function as(){let s=this,{params:e}=s;s.onTouchStart=Zt.bind(s),s.onTouchMove=Kt.bind(s),s.onTouchEnd=Qt.bind(s),s.onDocumentTouchStart=ss.bind(s),e.cssMode&&(s.onScroll=es.bind(s)),s.onClick=Jt.bind(s),s.onLoad=ts.bind(s),Ue(s,"on")}function is(){Ue(this,"off")}var ns={attachEvents:as,detachEvents:is},Xe=(s,e)=>s.grid&&e.grid&&e.grid.rows>1;function rs(){let s=this,{realIndex:e,initialized:t,params:a,el:i}=s,n=a.breakpoints;if(!n||n&&Object.keys(n).length===0)return;let r=k(),o=a.breakpointsBase==="window"||!a.breakpointsBase?a.breakpointsBase:"container",l=["window","container"].includes(a.breakpointsBase)||!a.breakpointsBase?s.el:r.querySelector(a.breakpointsBase),d=s.getBreakpoint(n,o,l);if(!d||s.currentBreakpoint===d)return;let u=(d in n?n[d]:void 0)||s.originalParams,g=Xe(s,a),c=Xe(s,u),m=s.params.grabCursor,p=u.grabCursor,b=a.enabled;g&&!c?(i.classList.remove("".concat(a.containerModifierClass,"grid"),"".concat(a.containerModifierClass,"grid-column")),s.emitContainerClasses()):!g&&c&&(i.classList.add("".concat(a.containerModifierClass,"grid")),(u.grid.fill&&u.grid.fill==="column"||!u.grid.fill&&a.grid.fill==="column")&&i.classList.add("".concat(a.containerModifierClass,"grid-column")),s.emitContainerClasses()),m&&!p?s.unsetGrabCursor():!m&&p&&s.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(L=>{if(typeof u[L]>"u")return;let I=a[L]&&a[L].enabled,x=u[L]&&u[L].enabled;I&&!x&&s[L].disable(),!I&&x&&s[L].enable()});let y=u.direction&&u.direction!==a.direction,S=a.loop&&(u.slidesPerView!==a.slidesPerView||y),v=a.loop;y&&t&&s.changeDirection(),B(s.params,u);let C=s.params.enabled,T=s.params.loop;Object.assign(s,{allowTouchMove:s.params.allowTouchMove,allowSlideNext:s.params.allowSlideNext,allowSlidePrev:s.params.allowSlidePrev}),b&&!C?s.disable():!b&&C&&s.enable(),s.currentBreakpoint=d,s.emit("_beforeBreakpoint",u),t&&(S?(s.loopDestroy(),s.loopCreate(e),s.updateSlides()):!v&&T?(s.loopCreate(e),s.updateSlides()):v&&!T&&s.loopDestroy()),s.emit("breakpoint",u)}function ls(s,e="window",t){if(!s||e==="container"&&!t)return;let a=!1,i=z(),n=e==="window"?i.innerHeight:t.clientHeight,r=Object.keys(s).map(o=>{if(typeof o=="string"&&o.indexOf("@")===0){let l=parseFloat(o.substr(1));return{value:n*l,point:o}}return{value:o,point:o}});r.sort((o,l)=>parseInt(o.value,10)-parseInt(l.value,10));for(let o=0;o<r.length;o+=1){let{point:l,value:d}=r[o];e==="window"?i.matchMedia("(min-width: ".concat(d,"px)")).matches&&(a=l):d<=t.clientWidth&&(a=l)}return a||"max"}var os={setBreakpoint:rs,getBreakpoint:ls};function ds(s,e){let t=[];return s.forEach(a=>{typeof a=="object"?Object.keys(a).forEach(i=>{a[i]&&t.push(e+i)}):typeof a=="string"&&t.push(e+a)}),t}function cs(){let s=this,{classNames:e,params:t,rtl:a,el:i,device:n}=s,r=ds(["initialized",t.direction,{"free-mode":s.params.freeMode&&t.freeMode.enabled},{autoheight:t.autoHeight},{rtl:a},{grid:t.grid&&t.grid.rows>1},{"grid-column":t.grid&&t.grid.rows>1&&t.grid.fill==="column"},{android:n.android},{ios:n.ios},{"css-mode":t.cssMode},{centered:t.cssMode&&t.centeredSlides},{"watch-progress":t.watchSlidesProgress}],t.containerModifierClass);e.push(...r),i.classList.add(...e),s.emitContainerClasses()}function us(){let s=this,{el:e,classNames:t}=s;!e||typeof e=="string"||(e.classList.remove(...t),s.emitContainerClasses())}var fs={addClasses:cs,removeClasses:us};function ms(){let s=this,{isLocked:e,params:t}=s,{slidesOffsetBefore:a}=t;if(a){let i=s.slides.length-1,n=s.slidesGrid[i]+s.slidesSizesGrid[i]+a*2;s.isLocked=s.size>n}else s.isLocked=s.snapGrid.length===1;t.allowSlideNext===!0&&(s.allowSlideNext=!s.isLocked),t.allowSlidePrev===!0&&(s.allowSlidePrev=!s.isLocked),e&&e!==s.isLocked&&(s.isEnd=!1),e!==s.isLocked&&s.emit(s.isLocked?"lock":"unlock")}var hs={checkOverflow:ms},Fe={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function ps(s,e){return function(a={}){let i=Object.keys(a)[0],n=a[i];if(typeof n!="object"||n===null){B(e,a);return}if(s[i]===!0&&(s[i]={enabled:!0}),i==="navigation"&&s[i]&&s[i].enabled&&!s[i].prevEl&&!s[i].nextEl&&(s[i].auto=!0),["pagination","scrollbar"].indexOf(i)>=0&&s[i]&&s[i].enabled&&!s[i].el&&(s[i].auto=!0),!(i in s&&"enabled"in n)){B(e,a);return}typeof s[i]=="object"&&!("enabled"in s[i])&&(s[i].enabled=!0),s[i]||(s[i]={enabled:!1}),B(e,a)}}var Ce={eventsEmitter:ft,update:Tt,translate:At,transition:zt,slide:Nt,loop:Wt,grabCursor:jt,events:ns,breakpoints:os,checkOverflow:hs,classes:fs},Pe={},W=class s{constructor(...e){let t,a;e.length===1&&e[0].constructor&&Object.prototype.toString.call(e[0]).slice(8,-1)==="Object"?a=e[0]:[t,a]=e,a||(a={}),a=B({},a),t&&!a.el&&(a.el=t);let i=k();if(a.el&&typeof a.el=="string"&&i.querySelectorAll(a.el).length>1){let l=[];return i.querySelectorAll(a.el).forEach(d=>{let f=B({},a,{el:d});l.push(new s(f))}),l}let n=this;n.__swiper__=!0,n.support=We(),n.device=Ve({userAgent:a.userAgent}),n.browser=qe(),n.eventsListeners={},n.eventsAnyListeners=[],n.modules=[...n.__modules__],a.modules&&Array.isArray(a.modules)&&n.modules.push(...a.modules);let r={};n.modules.forEach(l=>{l({params:a,swiper:n,extendParams:ps(a,r),on:n.on.bind(n),once:n.once.bind(n),off:n.off.bind(n),emit:n.emit.bind(n)})});let o=B({},Fe,r);return n.params=B({},o,Pe,a),n.originalParams=B({},n.params),n.passedParams=B({},a),n.params&&n.params.on&&Object.keys(n.params.on).forEach(l=>{n.on(l,n.params.on[l])}),n.params&&n.params.onAny&&n.onAny(n.params.onAny),Object.assign(n,{enabled:n.params.enabled,el:t,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return n.params.direction==="horizontal"},isVertical(){return n.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:n.params.allowSlideNext,allowSlidePrev:n.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:n.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:n.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),n.emit("_swiper"),n.params.init&&n.init(),n}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){let{slidesEl:t,params:a}=this,i=_(t,".".concat(a.slideClass,", swiper-slide")),n=oe(i[0]);return oe(e)-n}getSlideIndexByData(e){return this.getSlideIndex(this.slides.find(t=>t.getAttribute("data-swiper-slide-index")*1===e))}getSlideIndexWhenGrid(e){return this.grid&&this.params.grid&&this.params.grid.rows>1&&(this.params.grid.fill==="column"?e=Math.floor(e/this.params.grid.rows):this.params.grid.fill==="row"&&(e=e%Math.ceil(this.slides.length/this.params.grid.rows))),e}recalcSlides(){let e=this,{slidesEl:t,params:a}=e;e.slides=_(t,".".concat(a.slideClass,", swiper-slide"))}enable(){let e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){let e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,t){let a=this;e=Math.min(Math.max(e,0),1);let i=a.minTranslate(),r=(a.maxTranslate()-i)*e+i;a.translateTo(r,typeof t>"u"?0:t),a.updateActiveIndex(),a.updateSlidesClasses()}emitContainerClasses(){let e=this;if(!e.params._emitClasses||!e.el)return;let t=e.el.className.split(" ").filter(a=>a.indexOf("swiper")===0||a.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",t.join(" "))}getSlideClasses(e){let t=this;return t.destroyed?"":e.className.split(" ").filter(a=>a.indexOf("swiper-slide")===0||a.indexOf(t.params.slideClass)===0).join(" ")}emitSlidesClasses(){let e=this;if(!e.params._emitClasses||!e.el)return;let t=[];e.slides.forEach(a=>{let i=e.getSlideClasses(a);t.push({slideEl:a,classNames:i}),e.emit("_slideClass",a,i)}),e.emit("_slideClasses",t)}slidesPerViewDynamic(e="current",t=!1){let a=this,{params:i,slides:n,slidesGrid:r,slidesSizesGrid:o,size:l,activeIndex:d}=a,f=1;if(typeof i.slidesPerView=="number")return i.slidesPerView;if(i.centeredSlides){let u=n[d]?Math.ceil(n[d].swiperSlideSize):0,g;for(let c=d+1;c<n.length;c+=1)n[c]&&!g&&(u+=Math.ceil(n[c].swiperSlideSize),f+=1,u>l&&(g=!0));for(let c=d-1;c>=0;c-=1)n[c]&&!g&&(u+=n[c].swiperSlideSize,f+=1,u>l&&(g=!0))}else if(e==="current")for(let u=d+1;u<n.length;u+=1)(t?r[u]+o[u]-r[d]<l:r[u]-r[d]<l)&&(f+=1);else for(let u=d-1;u>=0;u-=1)r[d]-r[u]<l&&(f+=1);return f}update(){let e=this;if(!e||e.destroyed)return;let{snapGrid:t,params:a}=e;a.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(r=>{r.complete&&he(e,r)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function i(){let r=e.rtlTranslate?e.translate*-1:e.translate,o=Math.min(Math.max(r,e.maxTranslate()),e.minTranslate());e.setTranslate(o),e.updateActiveIndex(),e.updateSlidesClasses()}let n;if(a.freeMode&&a.freeMode.enabled&&!a.cssMode)i(),a.autoHeight&&e.updateAutoHeight();else{if((a.slidesPerView==="auto"||a.slidesPerView>1)&&e.isEnd&&!a.centeredSlides){let r=e.virtual&&a.virtual.enabled?e.virtual.slides:e.slides;n=e.slideTo(r.length-1,0,!1,!0)}else n=e.slideTo(e.activeIndex,0,!1,!0);n||i()}a.watchOverflow&&t!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,t=!0){let a=this,i=a.params.direction;return e||(e=i==="horizontal"?"vertical":"horizontal"),e===i||e!=="horizontal"&&e!=="vertical"||(a.el.classList.remove("".concat(a.params.containerModifierClass).concat(i)),a.el.classList.add("".concat(a.params.containerModifierClass).concat(e)),a.emitContainerClasses(),a.params.direction=e,a.slides.forEach(n=>{e==="vertical"?n.style.width="":n.style.height=""}),a.emit("changeDirection"),t&&a.update()),a}changeLanguageDirection(e){let t=this;t.rtl&&e==="rtl"||!t.rtl&&e==="ltr"||(t.rtl=e==="rtl",t.rtlTranslate=t.params.direction==="horizontal"&&t.rtl,t.rtl?(t.el.classList.add("".concat(t.params.containerModifierClass,"rtl")),t.el.dir="rtl"):(t.el.classList.remove("".concat(t.params.containerModifierClass,"rtl")),t.el.dir="ltr"),t.update())}mount(e){let t=this;if(t.mounted)return!0;let a=e||t.params.el;if(typeof a=="string"&&(a=document.querySelector(a)),!a)return!1;a.swiper=t,a.parentNode&&a.parentNode.host&&a.parentNode.host.nodeName===t.params.swiperElementNodeName.toUpperCase()&&(t.isElement=!0);let i=()=>".".concat((t.params.wrapperClass||"").trim().split(" ").join(".")),r=a&&a.shadowRoot&&a.shadowRoot.querySelector?a.shadowRoot.querySelector(i()):_(a,i())[0];return!r&&t.params.createElements&&(r=X("div",t.params.wrapperClass),a.append(r),_(a,".".concat(t.params.slideClass)).forEach(o=>{r.append(o)})),Object.assign(t,{el:a,wrapperEl:r,slidesEl:t.isElement&&!a.parentNode.host.slideSlots?a.parentNode.host:r,hostEl:t.isElement?a.parentNode.host:a,mounted:!0,rtl:a.dir.toLowerCase()==="rtl"||F(a,"direction")==="rtl",rtlTranslate:t.params.direction==="horizontal"&&(a.dir.toLowerCase()==="rtl"||F(a,"direction")==="rtl"),wrongRTL:F(r,"display")==="-webkit-box"}),!0}init(e){let t=this;if(t.initialized||t.mount(e)===!1)return t;t.emit("beforeInit"),t.params.breakpoints&&t.setBreakpoint(),t.addClasses(),t.updateSize(),t.updateSlides(),t.params.watchOverflow&&t.checkOverflow(),t.params.grabCursor&&t.enabled&&t.setGrabCursor(),t.params.loop&&t.virtual&&t.params.virtual.enabled?t.slideTo(t.params.initialSlide+t.virtual.slidesBefore,0,t.params.runCallbacksOnInit,!1,!0):t.slideTo(t.params.initialSlide,0,t.params.runCallbacksOnInit,!1,!0),t.params.loop&&t.loopCreate(void 0,!0),t.attachEvents();let i=[...t.el.querySelectorAll('[loading="lazy"]')];return t.isElement&&i.push(...t.hostEl.querySelectorAll('[loading="lazy"]')),i.forEach(n=>{n.complete?he(t,n):n.addEventListener("load",r=>{he(t,r.target)})}),Le(t),t.initialized=!0,Le(t),t.emit("init"),t.emit("afterInit"),t}destroy(e=!0,t=!0){let a=this,{params:i,el:n,wrapperEl:r,slides:o}=a;return typeof a.params>"u"||a.destroyed||(a.emit("beforeDestroy"),a.initialized=!1,a.detachEvents(),i.loop&&a.loopDestroy(),t&&(a.removeClasses(),n&&typeof n!="string"&&n.removeAttribute("style"),r&&r.removeAttribute("style"),o&&o.length&&o.forEach(l=>{l.classList.remove(i.slideVisibleClass,i.slideFullyVisibleClass,i.slideActiveClass,i.slideNextClass,i.slidePrevClass),l.removeAttribute("style"),l.removeAttribute("data-swiper-slide-index")})),a.emit("destroy"),Object.keys(a.eventsListeners).forEach(l=>{a.off(l)}),e!==!1&&(a.el&&typeof a.el!="string"&&(a.el.swiper=null),_e(a)),a.destroyed=!0),null}static extendDefaults(e){B(Pe,e)}static get extendedDefaults(){return Pe}static get defaults(){return Fe}static installModule(e){s.prototype.__modules__||(s.prototype.__modules__=[]);let t=s.prototype.__modules__;typeof e=="function"&&t.indexOf(e)<0&&t.push(e)}static use(e){return Array.isArray(e)?(e.forEach(t=>s.installModule(t)),s):(s.installModule(e),s)}};Object.keys(Ce).forEach(s=>{Object.keys(Ce[s]).forEach(e=>{W.prototype[e]=Ce[s][e]})});W.use([ct,ut]);function pe(s,e,t,a){return s.params.createElements&&Object.keys(a).forEach(i=>{if(!t[i]&&t.auto===!0){let n=_(s.el,".".concat(a[i]))[0];n||(n=X("div",a[i]),n.className=a[i],s.el.append(n)),t[i]=n,e[i]=n}}),t}var Ke='<svg class="swiper-navigation-icon" width="11" height="20" viewBox="0 0 11 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0.38296 20.0762C0.111788 19.805 0.111788 19.3654 0.38296 19.0942L9.19758 10.2796L0.38296 1.46497C0.111788 1.19379 0.111788 0.754138 0.38296 0.482966C0.654131 0.211794 1.09379 0.211794 1.36496 0.482966L10.4341 9.55214C10.8359 9.9539 10.8359 10.6053 10.4341 11.007L1.36496 20.0762C1.09379 20.3474 0.654131 20.3474 0.38296 20.0762Z" fill="currentColor"/></svg>';function Ie({swiper:s,extendParams:e,on:t,emit:a}){e({navigation:{nextEl:null,prevEl:null,addIcons:!0,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),s.navigation={nextEl:null,prevEl:null,arrowSvg:Ke};function i(c){let m;return c&&typeof c=="string"&&s.isElement&&(m=s.el.querySelector(c)||s.hostEl.querySelector(c),m)?m:(c&&(typeof c=="string"&&(m=[...document.querySelectorAll(c)]),s.params.uniqueNavElements&&typeof c=="string"&&m&&m.length>1&&s.el.querySelectorAll(c).length===1?m=s.el.querySelector(c):m&&m.length===1&&(m=m[0])),c&&!m?c:m)}function n(c,m){let p=s.params.navigation;c=G(c),c.forEach(b=>{b&&(b.classList[m?"add":"remove"](...p.disabledClass.split(" ")),b.tagName==="BUTTON"&&(b.disabled=m),s.params.watchOverflow&&s.enabled&&b.classList[s.isLocked?"add":"remove"](p.lockClass))})}function r(){let{nextEl:c,prevEl:m}=s.navigation;if(s.params.loop){n(m,!1),n(c,!1);return}n(m,s.isBeginning&&!s.params.rewind),n(c,s.isEnd&&!s.params.rewind)}function o(c){c.preventDefault(),!(s.isBeginning&&!s.params.loop&&!s.params.rewind)&&(s.slidePrev(),a("navigationPrev"))}function l(c){c.preventDefault(),!(s.isEnd&&!s.params.loop&&!s.params.rewind)&&(s.slideNext(),a("navigationNext"))}function d(){let c=s.params.navigation;if(s.params.navigation=pe(s,s.originalParams.navigation,s.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(c.nextEl||c.prevEl))return;let m=i(c.nextEl),p=i(c.prevEl);Object.assign(s.navigation,{nextEl:m,prevEl:p}),m=G(m),p=G(p);let b=(y,S)=>{if(y){if(c.addIcons&&y.matches(".swiper-button-next,.swiper-button-prev")&&!y.querySelector("svg")){let v=document.createElement("div");K(v,Ke),y.appendChild(v.querySelector("svg")),v.remove()}y.addEventListener("click",S==="next"?l:o)}!s.enabled&&y&&y.classList.add(...c.lockClass.split(" "))};m.forEach(y=>b(y,"next")),p.forEach(y=>b(y,"prev"))}function f(){let{nextEl:c,prevEl:m}=s.navigation;c=G(c),m=G(m);let p=(b,y)=>{b.removeEventListener("click",y==="next"?l:o),b.classList.remove(...s.params.navigation.disabledClass.split(" "))};c.forEach(b=>p(b,"next")),m.forEach(b=>p(b,"prev"))}t("init",()=>{s.params.navigation.enabled===!1?g():(d(),r())}),t("toEdge fromEdge lock unlock",()=>{r()}),t("destroy",()=>{f()}),t("enable disable",()=>{let{nextEl:c,prevEl:m}=s.navigation;if(c=G(c),m=G(m),s.enabled){r();return}[...c,...m].filter(p=>!!p).forEach(p=>p.classList.add(s.params.navigation.lockClass))}),t("click",(c,m)=>{let{nextEl:p,prevEl:b}=s.navigation;p=G(p),b=G(b);let y=m.target,S=b.includes(y)||p.includes(y);if(s.isElement&&!S){let v=m.path||m.composedPath&&m.composedPath();v&&(S=v.find(C=>p.includes(C)||b.includes(C)))}if(s.params.navigation.hideOnClick&&!S){if(s.pagination&&s.params.pagination&&s.params.pagination.clickable&&(s.pagination.el===y||s.pagination.el.contains(y)))return;let v;p.length?v=p[0].classList.contains(s.params.navigation.hiddenClass):b.length&&(v=b[0].classList.contains(s.params.navigation.hiddenClass)),a(v===!0?"navigationShow":"navigationHide"),[...p,...b].filter(C=>!!C).forEach(C=>C.classList.toggle(s.params.navigation.hiddenClass))}});let u=()=>{s.el.classList.remove(...s.params.navigation.navigationDisabledClass.split(" ")),d(),r()},g=()=>{s.el.classList.add(...s.params.navigation.navigationDisabledClass.split(" ")),f()};Object.assign(s.navigation,{enable:u,disable:g,update:r,init:d,destroy:f})}function Ae({swiper:s,extendParams:e,on:t,emit:a,params:i}){s.autoplay={running:!1,paused:!1,timeLeft:0},e({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let n,r,o=i&&i.autoplay?i.autoplay.delay:3e3,l=i&&i.autoplay?i.autoplay.delay:3e3,d,f=new Date().getTime(),u,g,c,m,p,b,y;function S(w){!s||s.destroyed||!s.wrapperEl||w.target===s.wrapperEl&&(s.wrapperEl.removeEventListener("transitionend",S),!(y||w.detail&&w.detail.bySwiperTouchMove)&&$())}let v=()=>{if(s.destroyed||!s.autoplay.running)return;s.autoplay.paused?u=!0:u&&(l=d,u=!1);let w=s.autoplay.paused?d:f+l-new Date().getTime();s.autoplay.timeLeft=w,a("autoplayTimeLeft",w,w/o),r=requestAnimationFrame(()=>{v()})},C=()=>{let w;return s.virtual&&s.params.virtual.enabled?w=s.slides.find(D=>D.classList.contains("swiper-slide-active")):w=s.slides[s.activeIndex],w?parseInt(w.getAttribute("data-swiper-autoplay"),10):void 0},T=w=>{if(s.destroyed||!s.autoplay.running)return;cancelAnimationFrame(r),v();let P=typeof w>"u"?s.params.autoplay.delay:w;o=s.params.autoplay.delay,l=s.params.autoplay.delay;let D=C();!Number.isNaN(D)&&D>0&&typeof w>"u"&&(P=D,o=D,l=D),d=P;let O=s.params.speed,Y=()=>{!s||s.destroyed||(s.params.autoplay.reverseDirection?!s.isBeginning||s.params.loop||s.params.rewind?(s.slidePrev(O,!0,!0),a("autoplay")):s.params.autoplay.stopOnLastSlide||(s.slideTo(s.slides.length-1,O,!0,!0),a("autoplay")):!s.isEnd||s.params.loop||s.params.rewind?(s.slideNext(O,!0,!0),a("autoplay")):s.params.autoplay.stopOnLastSlide||(s.slideTo(0,O,!0,!0),a("autoplay")),s.params.cssMode&&(f=new Date().getTime(),requestAnimationFrame(()=>{T()})))};return P>0?(clearTimeout(n),n=setTimeout(()=>{Y()},P)):requestAnimationFrame(()=>{Y()}),P},L=()=>{f=new Date().getTime(),s.autoplay.running=!0,T(),a("autoplayStart")},I=()=>{s.autoplay.running=!1,clearTimeout(n),cancelAnimationFrame(r),a("autoplayStop")},x=(w,P)=>{if(s.destroyed||!s.autoplay.running)return;clearTimeout(n),w||(b=!0);let D=()=>{a("autoplayPause"),s.params.autoplay.waitForTransition?s.wrapperEl.addEventListener("transitionend",S):$()};if(s.autoplay.paused=!0,P){p&&(d=s.params.autoplay.delay),p=!1,D();return}d=(d||s.params.autoplay.delay)-(new Date().getTime()-f),!(s.isEnd&&d<0&&!s.params.loop)&&(d<0&&(d=0),D())},$=()=>{s.isEnd&&d<0&&!s.params.loop||s.destroyed||!s.autoplay.running||(f=new Date().getTime(),b?(b=!1,T(d)):T(),s.autoplay.paused=!1,a("autoplayResume"))},M=()=>{if(s.destroyed||!s.autoplay.running)return;let w=k();w.visibilityState==="hidden"&&(b=!0,x(!0)),w.visibilityState==="visible"&&$()},E=w=>{w.pointerType==="mouse"&&(b=!0,y=!0,!(s.animating||s.autoplay.paused)&&x(!0))},A=w=>{w.pointerType==="mouse"&&(y=!1,s.autoplay.paused&&$())},H=()=>{s.params.autoplay.pauseOnMouseEnter&&(s.el.addEventListener("pointerenter",E),s.el.addEventListener("pointerleave",A))},R=()=>{s.el&&typeof s.el!="string"&&(s.el.removeEventListener("pointerenter",E),s.el.removeEventListener("pointerleave",A))},N=()=>{k().addEventListener("visibilitychange",M)},fe=()=>{k().removeEventListener("visibilitychange",M)};t("init",()=>{s.params.autoplay.enabled&&(H(),N(),L())}),t("destroy",()=>{R(),fe(),s.autoplay.running&&I()}),t("_freeModeStaticRelease",()=>{(c||b)&&$()}),t("_freeModeNoMomentumRelease",()=>{s.params.autoplay.disableOnInteraction?I():x(!0,!0)}),t("beforeTransitionStart",(w,P,D)=>{s.destroyed||!s.autoplay.running||(D||!s.params.autoplay.disableOnInteraction?x(!0,!0):I())}),t("sliderFirstMove",()=>{if(!(s.destroyed||!s.autoplay.running)){if(s.params.autoplay.disableOnInteraction){I();return}g=!0,c=!1,b=!1,m=setTimeout(()=>{b=!0,c=!0,x(!0)},200)}}),t("touchEnd",()=>{if(!(s.destroyed||!s.autoplay.running||!g)){if(clearTimeout(m),clearTimeout(n),s.params.autoplay.disableOnInteraction){c=!1,g=!1;return}c&&s.params.cssMode&&$(),c=!1,g=!1}}),t("slideChange",()=>{s.destroyed||!s.autoplay.running||(p=!0)}),Object.assign(s.autoplay,{start:L,stop:I,pause:x,resume:$})}var ue=class{constructor(){h(this,"MONTHS_BACK",6);h(this,"MONTHS_AHEAD",12);h(this,"TRANSITION",150);h(this,"UPCOMINGS",12);h(this,"TIMEZONE","America/Toronto");h(this,"DEFAULTPROPS",{organisation:"ssjb",type:"citoyen"});h(this,"RX_GOOGLE_CA",/^\s*(?:(?<place>(?!\d)[^,]+?),\s*)?(?<street>[^,]+?),\s*(?<city>[^,]+?),\s*(?<province>AB|BC|MB|NB|NL|NS|NT|NU|ON|PE|QC|SK|YT|Qubec|Quebec|QC\.?)(?:\s+(?<postal>[A-Z]\d[A-Z][ -]?\d[A-Z]\d))?(?:,\s*(?<country>Canada))?\s*$/iu);h(this,"secrets",null);h(this,"events",null);h(this,"options",null);h(this,"calendar",null);h(this,"swipedetector",null);h(this,"ytreplacer",null);h(this,"swiper",null);h(this,"modal",null);h(this,"prec",null);h(this,"suiv",null);h(this,"mutexSwiper",null);h(this,"mutexRem",null);h(this,"payload",[]);this.busy(new Promise(e=>{this.ytreplacer=new V({observer:!0}),this.modal=new ae({onlyBgClick:!0}),Promise.allSettled([this.initCalendar(),loadJsonProperties(this,{secrets:atob("L2J0MW9oOTdqN1guanNvbg=="),options:"/options.json"})]).then(async()=>{let t=this.initTypes(),a=await this.loadGoogleCalendar();Promise.allSettled([this.calendar.addEvents(a),this.addUpcomingEvents(),this.initParams(),t]).then(()=>e())})})).then(()=>this.processPayload())}async busy(e){document.documentElement.classList.add("is-busy");let t=await Promise.allSettled(typeof e=="array"?e:[e]);return document.documentElement.classList.remove("is-busy"),typeof e=="array"?t:t[0]}async working(e){document.documentElement.classList.add("is-working");let t=await Promise.allSettled(typeof e=="array"?e:[e]);return document.documentElement.classList.remove("is-working"),typeof e=="array"?t:t[0]}async initTypes(){let e=[{slug:"tous",name:"Tous"},...this.options.types],t=document.querySelector(".calendar__types");e.forEach(a=>{let i=t.create("input"),n=t.create("label",null,"<span>".concat(a.name,"</span>"));i.type="radio",i.name="type",i.value=a.slug,i.id="type-".concat(a.slug),n.htmlFor="type-".concat(a.slug)})}async initParams(){let e=new URLSearchParams(window.location.search)?.get("id");if(e){let t=this.getEventById(e);t&&(await this.calendar.setMonth(ymd(new Date(t.start))),await this.clickEventDay(t.id,"onload"))}}async initCalendar(){this.calendar=new ie(".calendar__container",{placeholder:".calendar__pagination__current",onRenderDate:(t,a)=>this.renderEvent(t,a),onClickDate:t=>this.clickEventDay(t,"calendar")}),document.querySelector(".calendar__pagination__prev > span").addEventListener("click",()=>this.previousMonth()),document.querySelector(".calendar__pagination__next > span").addEventListener("click",()=>this.nextMonth());let e=document.querySelector(".calendar__container");this.swipedetector=new ne(e,{threshold:Math.min(40,Math.max(10,e.clientWidth*.01)),maxTime:500,axis:"x",onSwipeLeft:()=>this.nextMonth(),onSwipeRight:()=>this.previousMonth()})}async loadGoogleCalendar(){return this.events=await this.queryGoogleCalendar(),new Set(await Promise.all(this.events.map(async e=>{let t=new Date(e.start),a=new Date(t.getFullYear(),t.getMonth(),t.getDate());return ymd(a)})))}async queryGoogleCalendar(){if(new URLSearchParams(window.location.search)?.get("cache")!==null){console.log("Google cache: active");let r=localStorage.getItem("lastItems");if(r)return this.mapGCalEvents(JSON.parse(r))}let{timeMin:e,timeMax:t}=this.getRangeBounds(),a=new URL("https://www.googleapis.com/calendar/v3/calendars/".concat(encodeURIComponent(this.secrets.CALENDAR_ID),"/events"));a.searchParams.set("key",this.secrets.GOOGLE_API_KEY),a.searchParams.set("singleEvents","true"),a.searchParams.set("orderBy","startTime"),a.searchParams.set("timeMin",e),a.searchParams.set("timeMax",t),a.searchParams.set("timeZone",this.TIMEZONE);let i=await fetch(a.toString());if(!i.ok)throw new Error("Erreur API Google Calendar");let n=await i.json();return localStorage.setItem("lastItems",JSON.stringify(n.items??[])),this.mapGCalEvents(n.items??[])}getRangeBounds(){let e=new Date,t=new Date(e),a=new Date(e);return t.setMonth(t.getMonth()-this.MONTHS_BACK),a.setMonth(a.getMonth()+this.MONTHS_AHEAD),{timeMin:t.toISOString(),timeMax:a.toISOString()}}mapGCalEvents(e){return Promise.all(e.filter(t=>t.status!=="cancelled").map(async t=>{let a=!!(t.start&&t.start.date),i=a?fmtDate(new Date(t.start.date)):isoLocal(t.start.dateTime||t.start),n=a?fmtDate(new Date(t.end.date)):isoLocal(t.end.dateTime||t.end),{html:r,tags:o,props:l}=this.extractLink(t.description||"",["image-couverture","image-calendrier","image-carte"],{...this.DEFAULTPROPS}),{newHtml:d,firstImage:f}=this.replaceImageLinks(r),u=this.ytreplacer.replaceAnchors(d);return o["image-couverture"]=o["image-couverture"]||f||null,o["image-calendrier"]=o["image-calendrier"]||o["image-couverture"],o["image-carte"]=o["image-carte"]||o["image-couverture"],f=o["image-couverture"]||f,{id:t.id,title:t.summary||"(Sans titre)",start:i,end:n,location:t.location||null,link:t.htmlLink,description:u,image:f,images:o,properties:l}}))}extractLink(e,t=[],a={}){let i=l=>l.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),n=Object.fromEntries(t.map(l=>[l,null])),r=t.reduce((l,d)=>{let f=new RegExp("<a\\s+href=([\"'])(.*?)\\1[^>]*>".concat(i(d),"<\\/a>"),"gi");return l.replace(f,(u,g,c)=>(n[d]=c,""))},e),o=/@([^\s:]+)\s*:\s*([^<\r\n]+)\s*(?:<br\s*\/?>|\r?\n|$)/gi;return r=r.replace(o,(l,d,f)=>(a[d]=f,"")),r=r.replace(/^(?:\s*<br\b[^>]*>\s*)+/i,"").replace(/<p>(?:\s|&nbsp;|<br\s*\/?>)*<\/p>/gi,"").trimStart(),{html:r,tags:n,props:a}}replaceImageLinks(e){if(typeof e!="string"||!e)return{newHtml:e,firstImage:null};let t=/<a\b[^>]*\bhref\s*=\s*(?:"([^"]*)"|'([^']*)'|([^\s"'<>]+))[^>]*>[\s\S]*?<\/a>/gi,a=null;return{newHtml:e.replace(t,(n,r,o,l)=>{let d=(r||o||l||"").trim();return this.isImageHref(d)?(a||(a=d),'<img src="'.concat(d,'">')):n}),firstImage:a}}isImageHref(e){if(!e)return!1;let t=e.replace(/&amp;/gi,"&");if(/^data:image\//i.test(t))return!0;let a=t.split("#")[0].split("?")[0];return/\.(?:avif|bmp|gif|heic|heif|ico|jpe?g|jfif|pjpeg|pjp|png|svg|tiff?|webp)$/i.test(a)}async renderEvent(e,t){let a=this.getEventsByDate(e),i=t.create("div","pxcalendar__month__day__bgimg"),r=t.create("div","pxcalendar__month__day__evtip").create("div","pxcalendar__month__day__evtip__cont");r.innerHTML=(await Promise.all(a.map(async l=>this.renderEventTip(l)))).join("<hr>");let o=[];return a[0].image&&(o.push(preloadImage(a[0].images["image-calendrier"])),i.style.setProperty("--image-1","url(".concat(a[0].images["image-calendrier"],")"))),a.length>1&&a[1].image&&(o.push(preloadImage(a[1].images["image-calendrier"])),i.style.setProperty("--image-2","url(".concat(a[1].images["image-calendrier"],")"))),a.forEach(l=>this.payload.push(l.images["image-couverture"])),Promise.allSettled(o)}getEventsByDate(e){return this.events.filter(t=>{let a=inTZ(t.start,this.TIMEZONE),i=inTZ(new Date(new Date(t.end)-1),this.TIMEZONE);return a<=e&&e<=i})}getEventById(e){return this.events.find(t=>t.id==e)}getUpcomingEvents(){let e=Date.now();return this.events.filter(t=>Date.parse(t.start)>e)}renderEventTip(e){let t=this.getOrganisation(e.properties.organisation),a=new Intl.DateTimeFormat("fr-CA",{timeZone:this.IMEZONE,hour:"2-digit",minute:"2-digit",hour12:!1}).format(new Date(e.start)),i="<h3>".concat(e.title,"</h3>");if(e.location){let{city:n,place:r}=this.parseGoogleAddress(e.location);if(n){let o=n;r&&(o="".concat(r,", ").concat(o)),i+="<strong>O\xF9:</strong> ".concat(o,"<br>")}}return i+="<strong>Quand:</strong> ".concat(a,"<br>"),i+="<strong>H\xF4te:</strong> ".concat(t.name),i}parseGoogleAddress(e){let t=e.match(this.RX_GOOGLE_CA);if(!t)return null;let a=t.groups||{};return{place:a.place?.trim()||null,street:a.street?.trim()||null,city:a.city?.trim()||null,province:a.province?.trim()||null,postal:a.postal?.replace(/\s+/g," ")||null,country:a.country?.trim()||null}}async addUpcomingEvents(){let e=[],t=this.getUpcomingEvents().slice(0,this.UPCOMINGS),a=document.querySelector(".events-swiper .swiper-wrapper"),i=Promise.all(t.map(async r=>{let o=a.create("div","swiper-slide");o.classList.add("event-card"),r.image&&(this.payload.push(r.images["image-couverture"]),e.push(preloadImage(r.images["image-carte"])),o.style.setProperty("--image","url(".concat(r.images["image-carte"],")"))),o.create("div","event-card__title",r.title);let l=new Intl.DateTimeFormat("fr-CA",{day:"numeric",month:"long",timeZone:this.TIMEZONE}).format(new Date(r.start));o.create("div","event-card__date",l),o.addEventListener("click",()=>this.clickEventDay(r.id,"upcoming")),o.title=r.title})),n=new Promise(r=>{this.swiper=new W(".events-swiper",{modules:[Ae,Ie],slidesPerView:3,spaceBetween:rem(2),allowTouchMove:!0,autoHeight:!1,preloadImages:!1,observer:!1,observeParents:!1,observeSlideChildren:!1,updateOnWindowResize:!1,preventClicks:!0,preventClicksPropagation:!0,lazy:{loadPrevNext:!0,loadOnTransitionStart:!0},autoplay:{delay:5e3,disableOnInteraction:!1},navigation:{nextEl:".events-swiper-next",prevEl:".events-swiper-prev"}}),r()});return window.addEventListener("resize",()=>{if(this.mutexSwiper!=null)return;let r=+(Math.round(rem(2)+"e+2")+"e-2");r!=this.swiper.params.spaceBetween&&(this.mutexSwiper=requestAnimationFrame(()=>{this.swiper.params.spaceBetween=r,this.swiper.update(),this.mutexSwiper=null}))}),Promise.all([n,i,...e])}clickEventDay(e,t="calendar"){return this.working(new Promise(async a=>{let i=/^\d{4}-\d{2}-\d{2}$/.test(e)?this.getEventsByDate(e):[this.getEventById(e)],n=(await Promise.allSettled(i.map(async c=>this.renderEventDetails(c)))).filter(c=>c.status==="fulfilled").map(c=>c.value),r=create("div","modal-events"),o=r.create("div","modal-events__placeholder"),l=o.create("div","modal-events__placeholder__close"),d=o.create("div","modal-events__placeholder__date"),f=o.create("div","modal-events__placeholder__events"),u=new Date("".concat(/^\d{4}-\d{2}-\d{2}$/.test(e)?e:fmtDate(new Date(i[0].start)),"T00:00:00")),g={weekday:"long",day:"numeric",month:"long",timeZone:this.TIMEZONE};d.innerHTML=new Intl.DateTimeFormat("fr-CA",g).format(u).replace(/^(\w+)/,"$1 le"),l.title="Fermer",l.addEventListener("click",c=>this.modal.hide()),f.append(...n),i.map(c=>this.logEvent(c,t)),this.modal.show(r).then(a)}))}renderEventDetails(e){let t=this.getOrganisation(e.properties.organisation),a=create("div","modal-events__placeholder__events__event"),i=this.formatLabel(e.start),n="";if(e.image&&(n+='<img src="'.concat(e.image,'"><br>')),n+="<h1>".concat(e.title,"</h1>"),e.location){let r=null,o=this.parseGoogleAddress(e.location);o.place?r="".concat(o.place,", ").concat(o.city):r="".concat(o.street,", ").concat(o.city);let l="https://www.google.com/maps/search/".concat(encodeURI(e.location));n+='<span class="label"><strong>O\xF9:</strong> <a href="'.concat(l,'" target="_blank" noopener noreferer>').concat(r,"</a></span><br>")}return n+='<span class="label"><strong>Quand:</strong> <a href="'.concat(e.link,'" target="_blank" noopener noreferer>').concat(i,"</a></span><br>"),n+='<span class="label"><strong>H\xF4te:</strong> <a href="'.concat(t.url,'" target="_blank" noopener noreferer>').concat(t.name,"</a></span><br><br>"),n+=e.description,a.innerHTML=n,e.image?new Promise(r=>preloadImage(e.image).then(()=>r(a))):a}getOrganisation(e){return this.options.organisations.find(t=>t.slug===e)??this.getOrganisation("ssjb")}formatLabel(e,t=this.TIMEZONE){let a=new Date(e),i=new Intl.DateTimeFormat("fr-CA",{timeZone:t,weekday:"long",day:"numeric",month:"long"}).format(a),r=new Intl.DateTimeFormat("fr-CA",{timeZone:t,hour:"2-digit",minute:"2-digit",hour12:!1}).format(a).replace(/\u202F|\u00A0/g," ");return"".concat(i," ").concat(r)}nextMonth(){return this.working(new Promise(async e=>{await new Promise(requestAnimationFrame);let t=this.calendar.parent.parentElement.style.overflow;this.calendar.parent.parentElement.style.overflow="hidden";let a=this.calendar.next();await this.calendar.parent.animate([{transform:"translateX(0)"},{transform:"translateX(-100%)"}],{duration:this.TRANSITION,easing:"ease-in",fill:"forwards"}).finished,await a,await this.calendar.parent.animate([{transform:"translateX(100%)"},{transform:"translateX(0)"}],{duration:this.TRANSITION,easing:"ease-out",fill:"forwards"}).finished,this.calendar.parent.parentElement.style.overflow=t,this.processPayload(),e()}))}previousMonth(){return this.working(new Promise(async e=>{await new Promise(requestAnimationFrame);let t=this.calendar.parent.parentElement.style.overflow;this.calendar.parent.parentElement.style.overflow="hidden";let a=this.calendar.previous();await this.calendar.parent.animate([{transform:"translateX(0)"},{transform:"translateX(100%)"}],{duration:this.TRANSITION,easing:"ease-in",fill:"forwards"}).finished,await a,await this.calendar.parent.animate([{transform:"translateX(-100%)"},{transform:"translateX(0)"}],{duration:this.TRANSITION,easing:"ease-out",fill:"forwards"}).finished,this.calendar.parent.parentElement.style.overflow=t,this.processPayload(),e()}))}processPayload(){let e=this.payload.filter(t=>t!=null).map(t=>preloadImage(t));return this.payload=[],Promise.allSettled(e)}async logEvent(e,t){gtag("event","select_content",{content_type:t,item_id:e.id,item_name:e.title,location:e.location,start_date:e.start})}};window.Quebec={libre:async()=>new J,unPays:async()=>new ue,independant:async()=>new se};})();
