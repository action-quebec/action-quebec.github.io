(()=>{var Ae=Object.defineProperty;var Ze=(e,t,n)=>t in e?Ae(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var S=(e,t,n)=>Ze(e,typeof t!="symbol"?t+"":t,n);self.create=(e,t=null,n=null,o={})=>{let r=document.createElement(e);return t&&(r.className=t),n&&(r.innerHTML=n),Object.entries(o).forEach(c=>r.setAttribute(c[0],c[1])),r};HTMLElement.prototype.create=function(e,t=null,n=null,o={}){let r=create(e,t,n,o);return this.append(r),r};self.documentReady=function(e=null){return new Promise(t=>{document.readyState==="loading"?document.addEventListener("DOMContentLoaded",async()=>{e&&t(e()),t()},{once:!0}):(e&&t(e()),t())})};self.loadJsonProperties=async function(e,t={}){let n=Object.entries(t),o=await Promise.allSettled(n.map(async([r,c])=>{let s=await fetch(c),l=null;try{l=await s.json()}catch{}return{key:r,url:c,status:s.status,ok:s.ok,data:l}}));for(let r of o)if(r.status==="fulfilled"){let{key:c,url:s,status:l,ok:h,data:g}=r.value;if(!h){console.error("".concat(c," [").concat(l," - ERREUR] ").concat(s));continue}e[c]=g}else console.error("Erreur r\xE9seau/JS pendant le chargement :",r.reason);return e};self.browse=e=>new Promise((t,n)=>{let o=document.createElement("input");o.type="file",o.accept=e,o.addEventListener("change",()=>{o.files.length>0?t(o.files[0]):n("cancelled")});let r=()=>{setTimeout(()=>{o.files.length||n("cancelled"),window.removeEventListener("focus",r)},200)};window.addEventListener("focus",r),o.click()});self.escapeForAttr=e=>e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;");self.rem=e=>e*parseFloat(getComputedStyle(document.documentElement).fontSize);self.sleep=e=>new Promise(t=>setTimeout(t,e));self.preloadImage=e=>new Promise((t,n)=>{let o=new Image;o.decoding="async",o.loading="eager",o.onload=()=>t("preloaded"),o.onerror=n,o.src=e,o.complete&&o.naturalWidth>0&&t("memory-cache")});self.copyToClipboard=async e=>{if(navigator.clipboard&&typeof navigator.clipboard.writeText=="function")try{return await navigator.clipboard.writeText(e),!0}catch{}try{let t=document.createElement("textarea");t.value=e,t.style.position="fixed",t.style.top="-9999px",t.style.left="-9999px",t.style.opacity="0",document.body.appendChild(t),t.focus(),t.select();let n=document.execCommand("copy");return document.body.removeChild(t),n}catch{return!1}};self.md5=e=>{let t="0123456789abcdef",n=v=>{let w,x="";for(w=0;w<=3;w++)x+=t.charAt(v>>w*8+4&15)+t.charAt(v>>w*8&15);return x},o=(v,w)=>{let x=(v&65535)+(w&65535);return(v>>16)+(w>>16)+(x>>16)<<16|x&65535},r=(v,w)=>v<<w|v>>>32-w,c=(v,w,x,y,T,M)=>o(r(o(o(w,v),o(y,M)),T),x),s=(v,w,x,y,T,M,V)=>c(w&x|~w&y,v,w,T,M,V),l=(v,w,x,y,T,M,V)=>c(w&y|x&~y,v,w,T,M,V),h=(v,w,x,y,T,M,V)=>c(w^x^y,v,w,T,M,V),g=(v,w,x,y,T,M,V)=>c(x^(w|~y),v,w,T,M,V),m=v=>{let w,x=(v.length+8>>6)+1,y=new Array(x*16);for(w=0;w<x*16;w++)y[w]=0;for(w=0;w<v.length;w++)y[w>>2]|=v.charCodeAt(w)<<w%4*8;return y[w>>2]|=128<<w%4*8,y[x*16-2]=v.length*8,y},i,f=m(""+e),a=1732584193,u=-271733879,d=-1732584194,p=271733878,B,O,J,$;for(i=0;i<f.length;i+=16)B=a,O=u,J=d,$=p,a=s(a,u,d,p,f[i+0],7,-680876936),p=s(p,a,u,d,f[i+1],12,-389564586),d=s(d,p,a,u,f[i+2],17,606105819),u=s(u,d,p,a,f[i+3],22,-1044525330),a=s(a,u,d,p,f[i+4],7,-176418897),p=s(p,a,u,d,f[i+5],12,1200080426),d=s(d,p,a,u,f[i+6],17,-1473231341),u=s(u,d,p,a,f[i+7],22,-45705983),a=s(a,u,d,p,f[i+8],7,1770035416),p=s(p,a,u,d,f[i+9],12,-1958414417),d=s(d,p,a,u,f[i+10],17,-42063),u=s(u,d,p,a,f[i+11],22,-1990404162),a=s(a,u,d,p,f[i+12],7,1804603682),p=s(p,a,u,d,f[i+13],12,-40341101),d=s(d,p,a,u,f[i+14],17,-1502002290),u=s(u,d,p,a,f[i+15],22,1236535329),a=l(a,u,d,p,f[i+1],5,-165796510),p=l(p,a,u,d,f[i+6],9,-1069501632),d=l(d,p,a,u,f[i+11],14,643717713),u=l(u,d,p,a,f[i+0],20,-373897302),a=l(a,u,d,p,f[i+5],5,-701558691),p=l(p,a,u,d,f[i+10],9,38016083),d=l(d,p,a,u,f[i+15],14,-660478335),u=l(u,d,p,a,f[i+4],20,-405537848),a=l(a,u,d,p,f[i+9],5,568446438),p=l(p,a,u,d,f[i+14],9,-1019803690),d=l(d,p,a,u,f[i+3],14,-187363961),u=l(u,d,p,a,f[i+8],20,1163531501),a=l(a,u,d,p,f[i+13],5,-1444681467),p=l(p,a,u,d,f[i+2],9,-51403784),d=l(d,p,a,u,f[i+7],14,1735328473),u=l(u,d,p,a,f[i+12],20,-1926607734),a=h(a,u,d,p,f[i+5],4,-378558),p=h(p,a,u,d,f[i+8],11,-2022574463),d=h(d,p,a,u,f[i+11],16,1839030562),u=h(u,d,p,a,f[i+14],23,-35309556),a=h(a,u,d,p,f[i+1],4,-1530992060),p=h(p,a,u,d,f[i+4],11,1272893353),d=h(d,p,a,u,f[i+7],16,-155497632),u=h(u,d,p,a,f[i+10],23,-1094730640),a=h(a,u,d,p,f[i+13],4,681279174),p=h(p,a,u,d,f[i+0],11,-358537222),d=h(d,p,a,u,f[i+3],16,-722521979),u=h(u,d,p,a,f[i+6],23,76029189),a=h(a,u,d,p,f[i+9],4,-640364487),p=h(p,a,u,d,f[i+12],11,-421815835),d=h(d,p,a,u,f[i+15],16,530742520),u=h(u,d,p,a,f[i+2],23,-995338651),a=g(a,u,d,p,f[i+0],6,-198630844),p=g(p,a,u,d,f[i+7],10,1126891415),d=g(d,p,a,u,f[i+14],15,-1416354905),u=g(u,d,p,a,f[i+5],21,-57434055),a=g(a,u,d,p,f[i+12],6,1700485571),p=g(p,a,u,d,f[i+3],10,-1894986606),d=g(d,p,a,u,f[i+10],15,-1051523),u=g(u,d,p,a,f[i+1],21,-2054922799),a=g(a,u,d,p,f[i+8],6,1873313359),p=g(p,a,u,d,f[i+15],10,-30611744),d=g(d,p,a,u,f[i+6],15,-1560198380),u=g(u,d,p,a,f[i+13],21,1309151649),a=g(a,u,d,p,f[i+4],6,-145523070),p=g(p,a,u,d,f[i+11],10,-1120210379),d=g(d,p,a,u,f[i+2],15,718787259),u=g(u,d,p,a,f[i+9],21,-343485551),a=o(a,B),u=o(u,O),d=o(d,J),p=o(p,$);return n(a)+n(u)+n(d)+n(p)};self.pad=e=>String(e).padStart(2,"0");self.fmtDate=e=>"".concat(e.getFullYear(),"-").concat(pad(e.getMonth()+1),"-").concat(pad(e.getDate()));self.isoLocal=e=>new Date(e).toISOString();self.addDays=(e,t)=>new Date(e.getFullYear(),e.getMonth(),e.getDate()+t);self.inTZ=(e,t="America/Toronto")=>new Date(e).toLocaleDateString("fr-CA",{timeZone:t});self.ymd=e=>new Date(e.getFullYear(),e.getMonth(),e.getDate()).toISOString().slice(0,10);self.startOfWeek=(e,t=0)=>{let n=new Date(e.getFullYear(),e.getMonth(),e.getDate()),o=(n.getDay()-t+7)%7;return n.setDate(n.getDate()-o),n};self.rectOf=e=>e.getBoundingClientRect();self.clamp=(e,t,n)=>Math.min(n,Math.max(t,e));self.distance=(e,t)=>Math.hypot(e.x-t.x,e.y-t.y);self.midpoint=(e,t)=>({x:(e.x+t.x)/2,y:(e.y+t.y)/2});self.hcd=(e,t)=>{do var n=e;while((t=n%(e=t))>0);return e};window.SECRETS=(async()=>{try{let e=await fetch(atob("L2J0MW9oOTdqN1guYmlu"),{cache:"no-store"});if(!e.ok)throw new Error("Error loading secrets: ".concat(e.status));let t=new Uint8Array([31,139,...new Uint8Array(await e.arrayBuffer())]);return JSON.parse(atob((await new Response(new Blob([t]).stream().pipeThrough(new DecompressionStream("gzip"))).text()).replace(/[A-Za-z]/g,n=>{let o=n<="Z"?65:97;return String.fromCharCode((n.charCodeAt(0)-o+13)%26+o)})))}catch(e){console.error(e.message)}})();window.LightSwitch={switch:null,mutexVwpx:null,init:async function(){let e=localStorage.getItem("theme");e&&document.documentElement.setAttribute("data-theme",e),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",t=>this.setTheme(t.matches?"dark":"light")),document.documentElement.style.setProperty("--vwpx",String(window.innerWidth)),document.addEventListener("DOMContentLoaded",async()=>{let t=document.body.create("div","lightswitch");t.addEventListener("click",()=>this.toogleTheme()),t.title="Nuit / Jour"}),window.addEventListener("resize",()=>{this.mutexVwpx==null&&(this.mutexVwpx=requestAnimationFrame(()=>{document.documentElement.style.setProperty("--vwpx",String(window.innerWidth)),this.mutexVwpx=null}))})},getTheme:function(){return getComputedStyle(document.documentElement).getPropertyValue("--theme").replace(/^['"]|['"]$/g,"").toLocaleLowerCase().trim()},setTheme:function(e){document.documentElement.setAttribute("data-theme",e),localStorage.setItem("theme",e)},toogleTheme:function(){this.setTheme(this.getTheme()==="dark"?"light":"dark")}};LightSwitch.init();var D=class{constructor(t,n={}){S(this,"container",null);S(this,"opts",{onFileDrop:null});this.opts={...this.opts,...n},typeof t!="string"?this.container=t:this.container=document.querySelector(t),this.container.addEventListener("dragover",o=>o.preventDefault()),this.container.addEventListener("dragenter",o=>this.dragEnter(o)),this.container.addEventListener("dragleave",o=>this.dragLeave(o)),this.container.addEventListener("drop",o=>this.drop(o))}dragEnter(t){t.preventDefault(),this.container.classList.add("dragover")}dragLeave(t){this.container.classList.remove("dragover")}async drop(t){t.preventDefault(),t.dataTransfer.files.length>0&&await this.opts.onFileDrop?.(t.dataTransfer.files[0]),this.container.classList.remove("dragover")}};var _=class{constructor(t,n){S(this,"state",{scale:1,minScale:1,maxScale:8,tx:0,ty:0,imgW:0,imgH:0,frameW:0,frameH:0});S(this,"pointers",new Map);S(this,"pinchStart",null);S(this,"lastTapTime",0);S(this,"mutex",null);S(this,"zoomTimer",null);S(this,"ratio",null);S(this,"frame",null);S(this,"img",null);S(this,"url",null);typeof t!="string"?this.frame=t:this.frame=document.querySelector(t),this.ratio=this.parseAspect(n),this.frame.style.aspectRatio="".concat(this.ratio.w," / ").concat(this.ratio.h),this.img=this.frame.create("img"),this.frame.addEventListener("wheel",o=>this.onWheel(o),{passive:!1}),this.frame.addEventListener("pointerdown",o=>this.onPointerDown(o)),this.frame.addEventListener("pointermove",o=>this.onPointerMove(o)),this.frame.addEventListener("pointerup",o=>this.endPointer(o)),this.frame.addEventListener("pointercancel",o=>this.endPointer(o)),this.frame.addEventListener("pointerleave",o=>{this.pointers.has(o.pointerId)&&this.endPointer(o)}),window.addEventListener("resize",()=>this.onResize())}loadImage(t){return new Promise(n=>{this.url=URL.createObjectURL(t),this.img.onload=()=>{this.state.imgW=this.img.naturalWidth,this.state.imgH=this.img.naturalHeight,URL.revokeObjectURL(this.url),n(this.fitCover())},this.img.src=this.url})}onResize(){!this.mutex&&this.img&&(this.mutex=requestAnimationFrame(()=>this.fitCover().then(()=>this.mutex=null)))}onWheel(t){t.preventDefault(),clearTimeout(this.zoomTimer),this.frame.classList.toggle("zooming-in",t.deltaY<0),this.frame.classList.toggle("zooming-out",t.deltaY>0),this.zoomTimer=setTimeout(()=>this.frame.classList.remove("zooming-in","zooming-out"),200);let n=this.state.scale*Math.exp(-t.deltaY*.001);this.zoomAt(t.clientX,t.clientY,n)}onPointerDown(t){this.frame.setPointerCapture(t.pointerId),this.setPointer(t);let n=performance.now();n-this.lastTapTime<280&&this.pointers.size===1?this.fitCover().then(()=>this.lastTapTime=0):this.lastTapTime=n}onPointerMove(t){if(!this.pointers.has(t.pointerId))return;let n=this.pointers.get(t.pointerId);if(this.setPointer(t),this.pointers.size===2){let[o,r]=[...this.pointers.values()],c=midpoint(o,r),s=distance(o,r);if(!this.pinchStart)this.pinchStart={dist:s,scale:this.state.scale,tx:this.state.tx,ty:this.state.ty};else{let l=s/(this.pinchStart.dist||1);this.zoomAt(c.x,c.y,clamp(this.pinchStart.scale*l,this.state.minScale,this.state.maxScale))}}else this.pointers.size===1&&(this.state.tx+=t.clientX-n.x,this.state.ty+=t.clientY-n.y,this.applyTransform())}fitCover(){let t=rectOf(this.frame);this.state.frameW=t.width,this.state.frameH=t.height;let n=this.state.imgW||this.img.naturalWidth||1,o=this.state.imgH||this.img.naturalHeight||1;this.state.imgW=n,this.state.imgH=o;let r=Math.max(this.state.frameW/n,this.state.frameH/o)||1;this.state.minScale=r,this.state.maxScale=r*8,this.state.scale=r;let c=n*r,s=o*r;return this.state.tx=(this.state.frameW-c)/2,this.state.ty=(this.state.frameH-s)/2,this.applyTransform()}applyTransform(){let t=this.state.imgW*this.state.scale,n=this.state.imgH*this.state.scale,o=this.state.frameW-t,r=0,c=this.state.frameH-n,s=0;return this.state.tx=clamp(this.state.tx,o,r),this.state.ty=clamp(this.state.ty,c,s),new Promise(l=>l(this.img.style.transform="translate3d(".concat(this.state.tx,"px, ").concat(this.state.ty,"px, 0) scale(").concat(this.state.scale,")")))}zoomAt(t,n,o){let r=rectOf(this.frame),c=t-r.left,s=n-r.top,l=this.state.scale,h=clamp(o,this.state.minScale,this.state.maxScale);if(h!==this.state.scale)return this.state.tx=c-(c-this.state.tx)*(h/l),this.state.ty=s-(s-this.state.ty)*(h/l),this.state.scale=h,this.applyTransform()}setPointer(t){this.pointers.set(t.pointerId,{x:t.clientX,y:t.clientY})}delPointer(t){this.pointers.delete(t.pointerId)}endPointer(t){this.delPointer(t),this.pointers.size<2&&(this.pinchStart=null)}parseAspect(t){let n=String(t).replace(/\s+/g,"").match(/^(\d+(?:\.\d+)?)[\/:](\d+(?:\.\d+)?)$/);return n?{w:parseFloat(n[1]),h:parseFloat(n[2])}:{w:5,h:4}}exportBlob(t,n="webp"){if(!this.img.src)throw new Error("Aucune image charg\xE9e.");let o=this.frame.clientWidth,r=this.frame.clientHeight,c=Math.max(0,-this.state.tx/this.state.scale),s=Math.max(0,-this.state.ty/this.state.scale),l=Math.min(this.state.imgW-c,o/this.state.scale),h=Math.min(this.state.imgH-s,r/this.state.scale),g=this.ratio.w/this.ratio.h,m=Math.round(t/g),i=document.createElement("canvas");i.width=t,i.height=m;let f=i.getContext("2d",{alpha:n!=="jpeg"});return f.imageSmoothingQuality="high",f.drawImage(this.img,c,s,l,h,0,0,t,m),new Promise((a,u)=>i.toBlob(d=>d?a(d):u(new Error("toBlob() a \xE9chou\xE9")),"image/".concat(n),.92))}};var Y=class{constructor(){S(this,"elm",null);S(this,"timeout",null);S(this,"duration",3e3);this.elm=document.body.create("div","notification")}thumbsUp(t){this.show(t,"thumbsup")}error(t){this.show(t,"error")}show(t,n){this.elm.innerHTML=t,this.elm.className="notification ".concat(n," show"),this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.elm.className="notification",this.timeout=null},this.duration)}};var Le="5.1.0";function q(e,t){return new Promise(n=>setTimeout(n,e,t))}function Ge(){return new Promise(e=>{let t=new MessageChannel;t.port1.onmessage=()=>e(),t.port2.postMessage(null)})}function De(e,t=1/0){let{requestIdleCallback:n}=window;return n?new Promise(o=>n.call(window,()=>o(),{timeout:t})):q(Math.min(e,t))}function xe(e){return!!e&&typeof e.then=="function"}function ce(e,t){try{let n=e();xe(n)?n.then(o=>t(!0,o),o=>t(!1,o)):t(!0,n)}catch(n){t(!1,n)}}async function le(e,t,n=16){let o=Array(e.length),r=Date.now();for(let c=0;c<e.length;++c){o[c]=t(e[c],c);let s=Date.now();s>=r+n&&(r=s,await Ge())}return o}function N(e){return e.then(void 0,()=>{}),e}function Ye(e,t){for(let n=0,o=e.length;n<o;++n)if(e[n]===t)return!0;return!1}function Ne(e,t){return!Ye(e,t)}function re(e){return parseInt(e)}function E(e){return parseFloat(e)}function R(e,t){return typeof e=="number"&&isNaN(e)?t:e}function k(e){return e.reduce((t,n)=>t+(n?1:0),0)}function Se(e,t=1){if(Math.abs(t)>=1)return Math.round(e/t)*t;{let n=1/t;return Math.round(e*n)/n}}function je(e){var t,n;let o="Unexpected syntax '".concat(e,"'"),r=/^\s*([a-z-]*)(.*)$/i.exec(e),c=r[1]||void 0,s={},l=/([.:#][\w-]+|\[.+?\])/gi,h=(g,m)=>{s[g]=s[g]||[],s[g].push(m)};for(;;){let g=l.exec(r[2]);if(!g)break;let m=g[0];switch(m[0]){case".":h("class",m.slice(1));break;case"#":h("id",m.slice(1));break;case"[":{let i=/^\[([\w-]+)([~|^$*]?=("(.*?)"|([\w-]+)))?(\s+[is])?\]$/.exec(m);if(i)h(i[1],(n=(t=i[4])!==null&&t!==void 0?t:i[5])!==null&&n!==void 0?n:"");else throw new Error(o);break}default:throw new Error(o)}}return[c,s]}function ze(e){let t=new Uint8Array(e.length);for(let n=0;n<e.length;n++){let o=e.charCodeAt(n);if(o>127)return new TextEncoder().encode(e);t[n]=o}return t}function W(e,t){let n=e[0]>>>16,o=e[0]&65535,r=e[1]>>>16,c=e[1]&65535,s=t[0]>>>16,l=t[0]&65535,h=t[1]>>>16,g=t[1]&65535,m=0,i=0,f=0,a=0;a+=c+g,f+=a>>>16,a&=65535,f+=r+h,i+=f>>>16,f&=65535,i+=o+l,m+=i>>>16,i&=65535,m+=n+s,m&=65535,e[0]=m<<16|i,e[1]=f<<16|a}function C(e,t){let n=e[0]>>>16,o=e[0]&65535,r=e[1]>>>16,c=e[1]&65535,s=t[0]>>>16,l=t[0]&65535,h=t[1]>>>16,g=t[1]&65535,m=0,i=0,f=0,a=0;a+=c*g,f+=a>>>16,a&=65535,f+=r*g,i+=f>>>16,f&=65535,f+=c*h,i+=f>>>16,f&=65535,i+=o*g,m+=i>>>16,i&=65535,i+=r*h,m+=i>>>16,i&=65535,i+=c*l,m+=i>>>16,i&=65535,m+=n*g+o*h+r*l+c*s,m&=65535,e[0]=m<<16|i,e[1]=f<<16|a}function A(e,t){let n=e[0];t%=64,t===32?(e[0]=e[1],e[1]=n):t<32?(e[0]=n<<t|e[1]>>>32-t,e[1]=e[1]<<t|n>>>32-t):(t-=32,e[0]=e[1]<<t|n>>>32-t,e[1]=n<<t|e[1]>>>32-t)}function P(e,t){t%=64,t!==0&&(t<32?(e[0]=e[1]>>>32-t,e[1]=e[1]<<t):(e[0]=e[1]<<t-32,e[1]=0))}function L(e,t){e[0]^=t[0],e[1]^=t[1]}var He=[4283543511,3981806797],Xe=[3301882366,444984403];function ue(e){let t=[0,e[0]>>>1];L(e,t),C(e,He),t[1]=e[0]>>>1,L(e,t),C(e,Xe),t[1]=e[0]>>>1,L(e,t)}var U=[2277735313,289559509],Q=[1291169091,658871167],de=[0,5],Be=[0,1390208809],Oe=[0,944331445];function Je(e,t){let n=ze(e);t=t||0;let o=[0,n.length],r=o[1]%16,c=o[1]-r,s=[0,t],l=[0,t],h=[0,0],g=[0,0],m;for(m=0;m<c;m=m+16)h[0]=n[m+4]|n[m+5]<<8|n[m+6]<<16|n[m+7]<<24,h[1]=n[m]|n[m+1]<<8|n[m+2]<<16|n[m+3]<<24,g[0]=n[m+12]|n[m+13]<<8|n[m+14]<<16|n[m+15]<<24,g[1]=n[m+8]|n[m+9]<<8|n[m+10]<<16|n[m+11]<<24,C(h,U),A(h,31),C(h,Q),L(s,h),A(s,27),W(s,l),C(s,de),W(s,Be),C(g,Q),A(g,33),C(g,U),L(l,g),A(l,31),W(l,s),C(l,de),W(l,Oe);h[0]=0,h[1]=0,g[0]=0,g[1]=0;let i=[0,0];switch(r){case 15:i[1]=n[m+14],P(i,48),L(g,i);case 14:i[1]=n[m+13],P(i,40),L(g,i);case 13:i[1]=n[m+12],P(i,32),L(g,i);case 12:i[1]=n[m+11],P(i,24),L(g,i);case 11:i[1]=n[m+10],P(i,16),L(g,i);case 10:i[1]=n[m+9],P(i,8),L(g,i);case 9:i[1]=n[m+8],L(g,i),C(g,Q),A(g,33),C(g,U),L(l,g);case 8:i[1]=n[m+7],P(i,56),L(h,i);case 7:i[1]=n[m+6],P(i,48),L(h,i);case 6:i[1]=n[m+5],P(i,40),L(h,i);case 5:i[1]=n[m+4],P(i,32),L(h,i);case 4:i[1]=n[m+3],P(i,24),L(h,i);case 3:i[1]=n[m+2],P(i,16),L(h,i);case 2:i[1]=n[m+1],P(i,8),L(h,i);case 1:i[1]=n[m],L(h,i),C(h,U),A(h,31),C(h,Q),L(s,h)}return L(s,o),L(l,o),W(s,l),W(l,s),ue(s),ue(l),W(s,l),W(l,s),("00000000"+(s[0]>>>0).toString(16)).slice(-8)+("00000000"+(s[1]>>>0).toString(16)).slice(-8)+("00000000"+(l[0]>>>0).toString(16)).slice(-8)+("00000000"+(l[1]>>>0).toString(16)).slice(-8)}function $e(e){var t;return{name:e.name,message:e.message,stack:(t=e.stack)===null||t===void 0?void 0:t.split("\n"),...e}}function Ue(e){return/^function\s.*?\{\s*\[native code]\s*}$/.test(String(e))}function Qe(e){return typeof e!="function"}function Ke(e,t){let n=N(new Promise(o=>{let r=Date.now();ce(e.bind(null,t),(...c)=>{let s=Date.now()-r;if(!c[0])return o(()=>({error:c[1],duration:s}));let l=c[1];if(Qe(l))return o(()=>({value:l,duration:s}));o(()=>new Promise(h=>{let g=Date.now();ce(l,(...m)=>{let i=s+Date.now()-g;if(!m[0])return h({error:m[1],duration:i});h({value:m[1],duration:i})})}))})}));return function(){return n.then(r=>r())}}function qe(e,t,n,o){let r=Object.keys(e).filter(s=>Ne(n,s)),c=N(le(r,s=>Ke(e[s],t),o));return async function(){let l=await c,h=await le(l,i=>N(i()),o),g=await Promise.all(h),m={};for(let i=0;i<r.length;++i)m[r[i]]=g[i];return m}}function ke(){let e=window,t=navigator;return k(["MSCSSMatrix"in e,"msSetImmediate"in e,"msIndexedDB"in e,"msMaxTouchPoints"in t,"msPointerEnabled"in t])>=4}function et(){let e=window,t=navigator;return k(["msWriteProfilerMark"in e,"MSStream"in e,"msLaunchUri"in t,"msSaveBlob"in t])>=3&&!ke()}function j(){let e=window,t=navigator;return k(["webkitPersistentStorage"in t,"webkitTemporaryStorage"in t,(t.vendor||"").indexOf("Google")===0,"webkitResolveLocalFileSystemURL"in e,"BatteryManager"in e,"webkitMediaStream"in e,"webkitSpeechGrammar"in e])>=5}function I(){let e=window,t=navigator;return k(["ApplePayError"in e,"CSSPrimitiveValue"in e,"Counter"in e,t.vendor.indexOf("Apple")===0,"RGBColor"in e,"WebKitMediaKeys"in e])>=4}function se(){let e=window,{HTMLElement:t,Document:n}=e;return k(["safari"in e,!("ongestureend"in e),!("TouchEvent"in e),!("orientation"in e),t&&!("autocapitalize"in t.prototype),n&&"pointerLockElement"in n.prototype])>=4}function z(){let e=window;return Ue(e.print)&&String(e.browser)==="[object WebPageNamespace]"}function H(){var e,t;let n=window;return k(["buildID"in navigator,"MozAppearance"in((t=(e=document.documentElement)===null||e===void 0?void 0:e.style)!==null&&t!==void 0?t:{}),"onmozfullscreenchange"in n,"mozInnerScreenX"in n,"CSSMozDocumentRule"in n,"CanvasCaptureMediaStream"in n])>=4}function tt(){let e=window,t=navigator,{CSS:n}=e;return k(["userActivation"in t,n.supports("color","light-dark(#000, #fff)"),n.supports("height","1lh"),"globalPrivacyControl"in t])>=3}function Fe(){let{CSS:e}=window;return k([e.supports("selector(::details-content)"),e.supports("selector(::before::marker)"),e.supports("selector(::after::marker)"),!("locale"in CompositionEvent.prototype)])>=3}function nt(){let e=window;return k([!("MediaSettingsRange"in e),"RTCEncodedAudioFrame"in e,""+e.Intl=="[object Intl]",""+e.Reflect=="[object Reflect]"])>=3}function ot(){let e=window,{URLPattern:t}=e;return k(["union"in Set.prototype,"Iterator"in e,t&&"hasRegExpGroups"in t.prototype,"RGB8"in WebGLRenderingContext.prototype])>=3}function it(){let e=window;return k(["DOMRectList"in e,"RTCPeerConnectionIceEvent"in e,"SVGGeometryElement"in e,"ontransitioncancel"in e])>=3}function X(){let e=window,t=navigator,{CSS:n,HTMLButtonElement:o}=e;return k([!("getStorageUpdates"in t),o&&"popover"in o.prototype,"CSSCounterStyleRule"in e,n.supports("font-size-adjust: ex-height 0.5"),n.supports("text-transform: full-width")])>=4}function rt(){if(navigator.platform==="iPad")return!0;let e=screen,t=e.width/e.height;return k(["MediaSource"in window,!!Element.prototype.webkitRequestFullscreen,t>.65&&t<1.53])>=2}function st(){let e=document;return e.fullscreenElement||e.msFullscreenElement||e.mozFullScreenElement||e.webkitFullscreenElement||null}function at(){let e=document;return(e.exitFullscreen||e.msExitFullscreen||e.mozCancelFullScreen||e.webkitExitFullscreen).call(e)}function ae(){let e=j(),t=H(),n=window,o=navigator,r="connection";return e?k([!("SharedWorker"in n),o[r]&&"ontypechange"in o[r],!("sinkId"in new Audio)])>=2:t?k(["onorientationchange"in n,"orientation"in n,/android/i.test(o.appVersion)])>=2:!1}function ct(){let e=navigator,t=window,n=Audio.prototype,{visualViewport:o}=t;return k(["srLatency"in n,"srChannelCount"in n,"devicePosture"in e,o&&"segments"in o,"getTextInformation"in Image.prototype])>=3}function lt(){return mt()?-4:ut()}function ut(){let e=window,t=e.OfflineAudioContext||e.webkitOfflineAudioContext;if(!t)return-2;if(dt())return-1;let n=4500,o=5e3,r=new t(1,o,44100),c=r.createOscillator();c.type="triangle",c.frequency.value=1e4;let s=r.createDynamicsCompressor();s.threshold.value=-50,s.knee.value=40,s.ratio.value=12,s.attack.value=0,s.release.value=.25,c.connect(s),s.connect(r.destination),c.start(0);let[l,h]=ft(r),g=N(l.then(m=>ht(m.getChannelData(0).subarray(n)),m=>{if(m.name==="timeout"||m.name==="suspended")return-3;throw m}));return()=>(h(),g)}function dt(){return I()&&!se()&&!it()}function mt(){return I()&&X()&&z()||j()&&ct()&&ot()}function ft(e){let c=()=>{};return[new Promise((l,h)=>{let g=!1,m=0,i=0;e.oncomplete=u=>l(u.renderedBuffer);let f=()=>{setTimeout(()=>h(me("timeout")),Math.min(500,i+5e3-Date.now()))},a=()=>{try{let u=e.startRendering();switch(xe(u)&&N(u),e.state){case"running":i=Date.now(),g&&f();break;case"suspended":document.hidden||m++,g&&m>=3?h(me("suspended")):setTimeout(a,500);break}}catch(u){h(u)}};a(),c=()=>{g||(g=!0,i>0&&f())}}),c]}function ht(e){let t=0;for(let n=0;n<e.length;++n)t+=Math.abs(e[n]);return t}function me(e){let t=new Error(e);return t.name=e,t}async function Pe(e,t,n=50){var o,r,c;let s=document;for(;!s.body;)await q(n);let l=s.createElement("iframe");try{for(await new Promise((h,g)=>{let m=!1,i=()=>{m=!0,h()},f=d=>{m=!0,g(d)};l.onload=i,l.onerror=f;let{style:a}=l;a.setProperty("display","block","important"),a.position="absolute",a.top="0",a.left="0",a.visibility="hidden",t&&"srcdoc"in l?l.srcdoc=t:l.src="about:blank",s.body.appendChild(l);let u=()=>{var d,p;m||(((p=(d=l.contentWindow)===null||d===void 0?void 0:d.document)===null||p===void 0?void 0:p.readyState)==="complete"?i():setTimeout(u,10))};u()});!(!((r=(o=l.contentWindow)===null||o===void 0?void 0:o.document)===null||r===void 0)&&r.body);)await q(n);return await e(l,l.contentWindow)}finally{(c=l.parentNode)===null||c===void 0||c.removeChild(l)}}function pt(e){let[t,n]=je(e),o=document.createElement(t??"div");for(let r of Object.keys(n)){let c=n[r].join(" ");r==="style"?gt(o.style,c):o.setAttribute(r,c)}return o}function gt(e,t){for(let n of t.split(";")){let o=/^\s*([\w-]+)\s*:\s*(.+?)(\s*!([\w-]+))?\s*$/.exec(n);if(o){let[,r,c,,s]=o;e.setProperty(r,c,s||"")}}}function yt(){let e=window;for(;;){let t=e.parent;if(!t||t===e)return!1;try{if(t.location.origin!==e.location.origin)return!0}catch(n){if(n instanceof Error&&n.name==="SecurityError")return!0;throw n}e=t}}var wt="mmMwWLliI0O&1",bt="48px",Z=["monospace","sans-serif","serif"],fe=["sans-serif-thin","ARNO PRO","Agency FB","Arabic Typesetting","Arial Unicode MS","AvantGarde Bk BT","BankGothic Md BT","Batang","Bitstream Vera Sans Mono","Calibri","Century","Century Gothic","Clarendon","EUROSTILE","Franklin Gothic","Futura Bk BT","Futura Md BT","GOTHAM","Gill Sans","HELV","Haettenschweiler","Helvetica Neue","Humanst521 BT","Leelawadee","Letter Gothic","Levenim MT","Lucida Bright","Lucida Sans","Menlo","MS Mincho","MS Outlook","MS Reference Specialty","MS UI Gothic","MT Extra","MYRIAD PRO","Marlett","Meiryo UI","Microsoft Uighur","Minion Pro","Monotype Corsiva","PMingLiU","Pristina","SCRIPTINA","Segoe UI Light","Serifa","SimHei","Small Fonts","Staccato222 BT","TRAJAN PRO","Univers CE 55 Medium","Vrinda","ZWAdobeF"];function vt(){return Pe(async(e,{document:t})=>{let n=t.body;n.style.fontSize=bt;let o=t.createElement("div");o.style.setProperty("visibility","hidden","important");let r={},c={},s=a=>{let u=t.createElement("span"),{style:d}=u;return d.position="absolute",d.top="0",d.left="0",d.fontFamily=a,u.textContent=wt,o.appendChild(u),u},l=(a,u)=>s("'".concat(a,"',").concat(u)),h=()=>Z.map(s),g=()=>{let a={};for(let u of fe)a[u]=Z.map(d=>l(u,d));return a},m=a=>Z.some((u,d)=>a[d].offsetWidth!==r[u]||a[d].offsetHeight!==c[u]),i=h(),f=g();n.appendChild(o);for(let a=0;a<Z.length;a++)r[Z[a]]=i[a].offsetWidth,c[Z[a]]=i[a].offsetHeight;return fe.filter(a=>m(f[a]))})}function Lt(){let e=navigator.plugins;if(!e)return;let t=[];for(let n=0;n<e.length;++n){let o=e[n];if(!o)continue;let r=[];for(let c=0;c<o.length;++c){let s=o[c];r.push({type:s.type,suffixes:s.suffixes})}t.push({name:o.name,description:o.description,mimeTypes:r})}return t}function xt(){return St(Tt())}function St(e){let t=!1,n,o,[r,c]=kt();return Ft(r,c)?(t=Pt(c),e?n=o="skipped":[n,o]=Ct(r,c)):n=o="unsupported",{winding:t,geometry:n,text:o}}function kt(){let e=document.createElement("canvas");return e.width=1,e.height=1,[e,e.getContext("2d")]}function Ft(e,t){return!!(t&&e.toDataURL)}function Pt(e){return e.rect(0,0,10,10),e.rect(2,2,6,6),!e.isPointInPath(5,5,"evenodd")}function Ct(e,t){Et(e,t);let n=ee(e),o=ee(e);return n!==o?["unstable","unstable"]:(It(e,t),[ee(e),n])}function Et(e,t){e.width=240,e.height=60,t.textBaseline="alphabetic",t.fillStyle="#f60",t.fillRect(100,1,62,20),t.fillStyle="#069",t.font='11pt "Times New Roman"';let n="Cwm fjordbank gly \u{1F603}";t.fillText(n,2,15),t.fillStyle="rgba(102, 204, 0, 0.2)",t.font="18pt Arial",t.fillText(n,4,45)}function It(e,t){e.width=122,e.height=110,t.globalCompositeOperation="multiply";for(let[n,o,r]of[["#f2f",40,40],["#2ff",80,40],["#ff2",60,80]])t.fillStyle=n,t.beginPath(),t.arc(o,r,40,0,Math.PI*2,!0),t.closePath(),t.fill();t.fillStyle="#f9c",t.arc(60,60,60,0,Math.PI*2,!0),t.arc(60,60,20,0,Math.PI*2,!0),t.fill("evenodd")}function ee(e){return e.toDataURL()}function Tt(){let e=I()&&X()&&z(),t=H()&&tt();return e||t}function Mt(){let e=navigator,t=0,n;e.maxTouchPoints!==void 0?t=re(e.maxTouchPoints):e.msMaxTouchPoints!==void 0&&(t=e.msMaxTouchPoints);try{document.createEvent("TouchEvent"),n=!0}catch{n=!1}let o="ontouchstart"in window;return{maxTouchPoints:t,touchEvent:n,touchStart:o}}function Rt(){return navigator.oscpu}function Wt(){let e=navigator,t=[],n=e.language||e.userLanguage||e.browserLanguage||e.systemLanguage;if(n!==void 0&&t.push([n]),Array.isArray(e.languages))j()&&nt()||t.push(e.languages);else if(typeof e.languages=="string"){let o=e.languages;o&&t.push(o.split(","))}return t}function Vt(){return window.screen.colorDepth}function _t(){return R(E(navigator.deviceMemory),void 0)}function At(){if(!(I()&&X()&&z()))return Zt()}function Zt(){let e=screen,t=o=>R(re(o),null),n=[t(e.width),t(e.height)];return n.sort().reverse(),n}var Gt=2500,Dt=10,K,te;function Yt(){if(te!==void 0)return;let e=()=>{let t=oe();ie(t)?te=setTimeout(e,Gt):(K=t,te=void 0)};e()}function Nt(){return Yt(),async()=>{let e=oe();if(ie(e)){if(K)return[...K];st()&&(await at(),e=oe())}return ie(e)||(K=e),e}}function jt(){let e=I()&&X()&&z(),t=H()&&Fe();if(e||t)return()=>Promise.resolve(void 0);let n=Nt();return async()=>{let o=await n(),r=c=>c===null?null:Se(c,Dt);return[r(o[0]),r(o[1]),r(o[2]),r(o[3])]}}function oe(){let e=screen;return[R(E(e.availTop),null),R(E(e.width)-E(e.availWidth)-R(E(e.availLeft),0),null),R(E(e.height)-E(e.availHeight)-R(E(e.availTop),0),null),R(E(e.availLeft),null)]}function ie(e){for(let t=0;t<4;++t)if(e[t])return!1;return!0}function zt(){let e=Ht();return e!==void 0&&H()&&Fe()?e>=8?8:4:e}function Ht(){return R(re(navigator.hardwareConcurrency),void 0)}function Xt(){var e;let t=(e=window.Intl)===null||e===void 0?void 0:e.DateTimeFormat;if(t){let o=new t().resolvedOptions().timeZone;if(o)return o}let n=-Bt();return"UTC".concat(n>=0?"+":"").concat(n)}function Bt(){let e=new Date().getFullYear();return Math.max(E(new Date(e,0,1).getTimezoneOffset()),E(new Date(e,6,1).getTimezoneOffset()))}function Ot(){try{return!!window.sessionStorage}catch{return!0}}function Jt(){try{return!!window.localStorage}catch{return!0}}function $t(){if(!(ke()||et()))try{return!!window.indexedDB}catch{return!0}}function Ut(){return!!window.openDatabase}function Qt(){return navigator.cpuClass}function Kt(){let{platform:e}=navigator;return e==="MacIntel"&&I()&&!se()?rt()?"iPad":"iPhone":e}function qt(){return navigator.vendor||""}function en(){let e=[];for(let t of["chrome","safari","__crWeb","__gCrWeb","yandex","__yb","__ybro","__firefox__","__edgeTrackingPreventionStatistics","webkit","oprt","samsungAr","ucweb","UCShellJava","puffinDevice"]){let n=window[t];n&&typeof n=="object"&&e.push(t)}return e.sort()}function tn(){let e=document;try{e.cookie="cookietest=1; SameSite=Strict;";let t=e.cookie.indexOf("cookietest=")!==-1;return e.cookie="cookietest=1; SameSite=Strict; expires=Thu, 01-Jan-1970 00:00:01 GMT",t}catch{return!1}}function nn(){let e=atob;return{abpIndo:["#Iklan-Melayang","#Kolom-Iklan-728","#SidebarIklan-wrapper",'[title="ALIENBOLA" i]',e("I0JveC1CYW5uZXItYWRz")],abpvn:[".quangcao","#mobileCatfish",e("LmNsb3NlLWFkcw=="),'[id^="bn_bottom_fixed_"]',"#pmadv"],adBlockFinland:[".mainostila",e("LnNwb25zb3JpdA=="),".ylamainos",e("YVtocmVmKj0iL2NsaWNrdGhyZ2guYXNwPyJd"),e("YVtocmVmXj0iaHR0cHM6Ly9hcHAucmVhZHBlYWsuY29tL2FkcyJd")],adBlockPersian:["#navbar_notice_50",".kadr",'TABLE[width="140px"]',"#divAgahi",e("YVtocmVmXj0iaHR0cDovL2cxLnYuZndtcm0ubmV0L2FkLyJd")],adBlockWarningRemoval:["#adblock-honeypot",".adblocker-root",".wp_adblock_detect",e("LmhlYWRlci1ibG9ja2VkLWFk"),e("I2FkX2Jsb2NrZXI=")],adGuardAnnoyances:[".hs-sosyal","#cookieconsentdiv",'div[class^="app_gdpr"]',".as-oil",'[data-cypress="soft-push-notification-modal"]'],adGuardBase:[".BetterJsPopOverlay",e("I2FkXzMwMFgyNTA="),e("I2Jhbm5lcmZsb2F0MjI="),e("I2NhbXBhaWduLWJhbm5lcg=="),e("I0FkLUNvbnRlbnQ=")],adGuardChinese:[e("LlppX2FkX2FfSA=="),e("YVtocmVmKj0iLmh0aGJldDM0LmNvbSJd"),"#widget-quan",e("YVtocmVmKj0iLzg0OTkyMDIwLnh5eiJd"),e("YVtocmVmKj0iLjE5NTZobC5jb20vIl0=")],adGuardFrench:["#pavePub",e("LmFkLWRlc2t0b3AtcmVjdGFuZ2xl"),".mobile_adhesion",".widgetadv",e("LmFkc19iYW4=")],adGuardGerman:['aside[data-portal-id="leaderboard"]'],adGuardJapanese:["#kauli_yad_1",e("YVtocmVmXj0iaHR0cDovL2FkMi50cmFmZmljZ2F0ZS5uZXQvIl0="),e("Ll9wb3BJbl9pbmZpbml0ZV9hZA=="),e("LmFkZ29vZ2xl"),e("Ll9faXNib29zdFJldHVybkFk")],adGuardMobile:[e("YW1wLWF1dG8tYWRz"),e("LmFtcF9hZA=="),'amp-embed[type="24smi"]',"#mgid_iframe1",e("I2FkX2ludmlld19hcmVh")],adGuardRussian:[e("YVtocmVmXj0iaHR0cHM6Ly9hZC5sZXRtZWFkcy5jb20vIl0="),e("LnJlY2xhbWE="),'div[id^="smi2adblock"]',e("ZGl2W2lkXj0iQWRGb3hfYmFubmVyXyJd"),"#psyduckpockeball"],adGuardSocial:[e("YVtocmVmXj0iLy93d3cuc3R1bWJsZXVwb24uY29tL3N1Ym1pdD91cmw9Il0="),e("YVtocmVmXj0iLy90ZWxlZ3JhbS5tZS9zaGFyZS91cmw/Il0="),".etsy-tweet","#inlineShare",".popup-social"],adGuardSpanishPortuguese:["#barraPublicidade","#Publicidade","#publiEspecial","#queTooltip",".cnt-publi"],adGuardTrackingProtection:["#qoo-counter",e("YVtocmVmXj0iaHR0cDovL2NsaWNrLmhvdGxvZy5ydS8iXQ=="),e("YVtocmVmXj0iaHR0cDovL2hpdGNvdW50ZXIucnUvdG9wL3N0YXQucGhwIl0="),e("YVtocmVmXj0iaHR0cDovL3RvcC5tYWlsLnJ1L2p1bXAiXQ=="),"#top100counter"],adGuardTurkish:["#backkapat",e("I3Jla2xhbWk="),e("YVtocmVmXj0iaHR0cDovL2Fkc2Vydi5vbnRlay5jb20udHIvIl0="),e("YVtocmVmXj0iaHR0cDovL2l6bGVuemkuY29tL2NhbXBhaWduLyJd"),e("YVtocmVmXj0iaHR0cDovL3d3dy5pbnN0YWxsYWRzLm5ldC8iXQ==")],bulgarian:[e("dGQjZnJlZW5ldF90YWJsZV9hZHM="),"#ea_intext_div",".lapni-pop-over","#xenium_hot_offers"],easyList:[".yb-floorad",e("LndpZGdldF9wb19hZHNfd2lkZ2V0"),e("LnRyYWZmaWNqdW5reS1hZA=="),".textad_headline",e("LnNwb25zb3JlZC10ZXh0LWxpbmtz")],easyListChina:[e("LmFwcGd1aWRlLXdyYXBbb25jbGljayo9ImJjZWJvcy5jb20iXQ=="),e("LmZyb250cGFnZUFkdk0="),"#taotaole","#aafoot.top_box",".cfa_popup"],easyListCookie:[".ezmob-footer",".cc-CookieWarning","[data-cookie-number]",e("LmF3LWNvb2tpZS1iYW5uZXI="),".sygnal24-gdpr-modal-wrap"],easyListCzechSlovak:["#onlajny-stickers",e("I3Jla2xhbW5pLWJveA=="),e("LnJla2xhbWEtbWVnYWJvYXJk"),".sklik",e("W2lkXj0ic2tsaWtSZWtsYW1hIl0=")],easyListDutch:[e("I2FkdmVydGVudGll"),e("I3ZpcEFkbWFya3RCYW5uZXJCbG9jaw=="),".adstekst",e("YVtocmVmXj0iaHR0cHM6Ly94bHR1YmUubmwvY2xpY2svIl0="),"#semilo-lrectangle"],easyListGermany:["#SSpotIMPopSlider",e("LnNwb25zb3JsaW5rZ3J1ZW4="),e("I3dlcmJ1bmdza3k="),e("I3Jla2xhbWUtcmVjaHRzLW1pdHRl"),e("YVtocmVmXj0iaHR0cHM6Ly9iZDc0Mi5jb20vIl0=")],easyListItaly:[e("LmJveF9hZHZfYW5udW5jaQ=="),".sb-box-pubbliredazionale",e("YVtocmVmXj0iaHR0cDovL2FmZmlsaWF6aW9uaWFkcy5zbmFpLml0LyJd"),e("YVtocmVmXj0iaHR0cHM6Ly9hZHNlcnZlci5odG1sLml0LyJd"),e("YVtocmVmXj0iaHR0cHM6Ly9hZmZpbGlhemlvbmlhZHMuc25haS5pdC8iXQ==")],easyListLithuania:[e("LnJla2xhbW9zX3RhcnBhcw=="),e("LnJla2xhbW9zX251b3JvZG9z"),e("aW1nW2FsdD0iUmVrbGFtaW5pcyBza3lkZWxpcyJd"),e("aW1nW2FsdD0iRGVkaWt1b3RpLmx0IHNlcnZlcmlhaSJd"),e("aW1nW2FsdD0iSG9zdGluZ2FzIFNlcnZlcmlhaS5sdCJd")],estonian:[e("QVtocmVmKj0iaHR0cDovL3BheTRyZXN1bHRzMjQuZXUiXQ==")],fanboyAnnoyances:["#ac-lre-player",".navigate-to-top","#subscribe_popup",".newsletter_holder","#back-top"],fanboyAntiFacebook:[".util-bar-module-firefly-visible"],fanboyEnhancedTrackers:[".open.pushModal","#issuem-leaky-paywall-articles-zero-remaining-nag","#sovrn_container",'div[class$="-hide"][zoompage-fontsize][style="display: block;"]',".BlockNag__Card"],fanboySocial:["#FollowUs","#meteored_share","#social_follow",".article-sharer",".community__social-desc"],frellwitSwedish:[e("YVtocmVmKj0iY2FzaW5vcHJvLnNlIl1bdGFyZ2V0PSJfYmxhbmsiXQ=="),e("YVtocmVmKj0iZG9rdG9yLXNlLm9uZWxpbmsubWUiXQ=="),"article.category-samarbete",e("ZGl2LmhvbGlkQWRz"),"ul.adsmodern"],greekAdBlock:[e("QVtocmVmKj0iYWRtYW4ub3RlbmV0LmdyL2NsaWNrPyJd"),e("QVtocmVmKj0iaHR0cDovL2F4aWFiYW5uZXJzLmV4b2R1cy5nci8iXQ=="),e("QVtocmVmKj0iaHR0cDovL2ludGVyYWN0aXZlLmZvcnRobmV0LmdyL2NsaWNrPyJd"),"DIV.agores300","TABLE.advright"],hungarian:["#cemp_doboz",".optimonk-iframe-container",e("LmFkX19tYWlu"),e("W2NsYXNzKj0iR29vZ2xlQWRzIl0="),"#hirdetesek_box"],iDontCareAboutCookies:['.alert-info[data-block-track*="CookieNotice"]',".ModuleTemplateCookieIndicator",".o--cookies--container","#cookies-policy-sticky","#stickyCookieBar"],icelandicAbp:[e("QVtocmVmXj0iL2ZyYW1ld29yay9yZXNvdXJjZXMvZm9ybXMvYWRzLmFzcHgiXQ==")],latvian:[e("YVtocmVmPSJodHRwOi8vd3d3LnNhbGlkemluaS5sdi8iXVtzdHlsZT0iZGlzcGxheTogYmxvY2s7IHdpZHRoOiAxMjBweDsgaGVpZ2h0OiA0MHB4OyBvdmVyZmxvdzogaGlkZGVuOyBwb3NpdGlvbjogcmVsYXRpdmU7Il0="),e("YVtocmVmPSJodHRwOi8vd3d3LnNhbGlkemluaS5sdi8iXVtzdHlsZT0iZGlzcGxheTogYmxvY2s7IHdpZHRoOiA4OHB4OyBoZWlnaHQ6IDMxcHg7IG92ZXJmbG93OiBoaWRkZW47IHBvc2l0aW9uOiByZWxhdGl2ZTsiXQ==")],listKr:[e("YVtocmVmKj0iLy9hZC5wbGFuYnBsdXMuY28ua3IvIl0="),e("I2xpdmVyZUFkV3JhcHBlcg=="),e("YVtocmVmKj0iLy9hZHYuaW1hZHJlcC5jby5rci8iXQ=="),e("aW5zLmZhc3R2aWV3LWFk"),".revenue_unit_item.dable"],listeAr:[e("LmdlbWluaUxCMUFk"),".right-and-left-sponsers",e("YVtocmVmKj0iLmFmbGFtLmluZm8iXQ=="),e("YVtocmVmKj0iYm9vcmFxLm9yZyJd"),e("YVtocmVmKj0iZHViaXp6bGUuY29tL2FyLz91dG1fc291cmNlPSJd")],listeFr:[e("YVtocmVmXj0iaHR0cDovL3Byb21vLnZhZG9yLmNvbS8iXQ=="),e("I2FkY29udGFpbmVyX3JlY2hlcmNoZQ=="),e("YVtocmVmKj0id2Vib3JhbWEuZnIvZmNnaS1iaW4vIl0="),".site-pub-interstitiel",'div[id^="crt-"][data-criteo-id]'],officialPolish:["#ceneo-placeholder-ceneo-12",e("W2hyZWZePSJodHRwczovL2FmZi5zZW5kaHViLnBsLyJd"),e("YVtocmVmXj0iaHR0cDovL2Fkdm1hbmFnZXIudGVjaGZ1bi5wbC9yZWRpcmVjdC8iXQ=="),e("YVtocmVmXj0iaHR0cDovL3d3dy50cml6ZXIucGwvP3V0bV9zb3VyY2UiXQ=="),e("ZGl2I3NrYXBpZWNfYWQ=")],ro:[e("YVtocmVmXj0iLy9hZmZ0cmsuYWx0ZXgucm8vQ291bnRlci9DbGljayJd"),e("YVtocmVmXj0iaHR0cHM6Ly9ibGFja2ZyaWRheXNhbGVzLnJvL3Ryay9zaG9wLyJd"),e("YVtocmVmXj0iaHR0cHM6Ly9ldmVudC4ycGVyZm9ybWFudC5jb20vZXZlbnRzL2NsaWNrIl0="),e("YVtocmVmXj0iaHR0cHM6Ly9sLnByb2ZpdHNoYXJlLnJvLyJd"),'a[href^="/url/"]'],ruAd:[e("YVtocmVmKj0iLy9mZWJyYXJlLnJ1LyJd"),e("YVtocmVmKj0iLy91dGltZy5ydS8iXQ=="),e("YVtocmVmKj0iOi8vY2hpa2lkaWtpLnJ1Il0="),"#pgeldiz",".yandex-rtb-block"],thaiAds:["a[href*=macau-uta-popup]",e("I2Fkcy1nb29nbGUtbWlkZGxlX3JlY3RhbmdsZS1ncm91cA=="),e("LmFkczMwMHM="),".bumq",".img-kosana"],webAnnoyancesUltralist:["#mod-social-share-2","#social-tools",e("LmN0cGwtZnVsbGJhbm5lcg=="),".zergnet-recommend",".yt.btn-link.btn-md.btn"]}}async function on({debug:e}={}){if(!rn())return;let t=nn(),n=Object.keys(t),o=[].concat(...n.map(s=>t[s])),r=await sn(o);e&&an(t,r);let c=n.filter(s=>{let l=t[s];return k(l.map(g=>r[g]))>l.length*.6});return c.sort(),c}function rn(){return I()||ae()}async function sn(e){var t;let n=document,o=n.createElement("div"),r=new Array(e.length),c={};he(o);for(let s=0;s<e.length;++s){let l=pt(e[s]);l.tagName==="DIALOG"&&l.show();let h=n.createElement("div");he(h),h.appendChild(l),o.appendChild(h),r[s]=l}for(;!n.body;)await q(50);n.body.appendChild(o);try{for(let s=0;s<e.length;++s)r[s].offsetParent||(c[e[s]]=!0)}finally{(t=o.parentNode)===null||t===void 0||t.removeChild(o)}return c}function he(e){e.style.setProperty("visibility","hidden","important"),e.style.setProperty("display","block","important")}function an(e,t){let n="DOM blockers debug:\n```";for(let o of Object.keys(e)){n+="\n".concat(o,":");for(let r of e[o])n+="\n  ".concat(t[r]?"\u{1F6AB}":"\u27A1\uFE0F"," ").concat(r)}console.log("".concat(n,"\n```"))}function cn(){for(let e of["rec2020","p3","srgb"])if(matchMedia("(color-gamut: ".concat(e,")")).matches)return e}function ln(){if(pe("inverted"))return!0;if(pe("none"))return!1}function pe(e){return matchMedia("(inverted-colors: ".concat(e,")")).matches}function un(){if(ge("active"))return!0;if(ge("none"))return!1}function ge(e){return matchMedia("(forced-colors: ".concat(e,")")).matches}var dn=100;function mn(){if(matchMedia("(min-monochrome: 0)").matches){for(let e=0;e<=dn;++e)if(matchMedia("(max-monochrome: ".concat(e,")")).matches)return e;throw new Error("Too high value")}}function fn(){if(G("no-preference"))return 0;if(G("high")||G("more"))return 1;if(G("low")||G("less"))return-1;if(G("forced"))return 10}function G(e){return matchMedia("(prefers-contrast: ".concat(e,")")).matches}function hn(){if(ye("reduce"))return!0;if(ye("no-preference"))return!1}function ye(e){return matchMedia("(prefers-reduced-motion: ".concat(e,")")).matches}function pn(){if(we("reduce"))return!0;if(we("no-preference"))return!1}function we(e){return matchMedia("(prefers-reduced-transparency: ".concat(e,")")).matches}function gn(){if(be("high"))return!0;if(be("standard"))return!1}function be(e){return matchMedia("(dynamic-range: ".concat(e,")")).matches}var b=Math,F=()=>0;function yn(){let e=b.acos||F,t=b.acosh||F,n=b.asin||F,o=b.asinh||F,r=b.atanh||F,c=b.atan||F,s=b.sin||F,l=b.sinh||F,h=b.cos||F,g=b.cosh||F,m=b.tan||F,i=b.tanh||F,f=b.exp||F,a=b.expm1||F,u=b.log1p||F,d=y=>b.pow(b.PI,y),p=y=>b.log(y+b.sqrt(y*y-1)),B=y=>b.log(y+b.sqrt(y*y+1)),O=y=>b.log((1+y)/(1-y))/2,J=y=>b.exp(y)-1/b.exp(y)/2,$=y=>(b.exp(y)+1/b.exp(y))/2,v=y=>b.exp(y)-1,w=y=>(b.exp(2*y)-1)/(b.exp(2*y)+1),x=y=>b.log(1+y);return{acos:e(.12312423423423424),acosh:t(1e308),acoshPf:p(1e154),asin:n(.12312423423423424),asinh:o(1),asinhPf:B(1),atanh:r(.5),atanhPf:O(.5),atan:c(.5),sin:s(-1e300),sinh:l(1),sinhPf:J(1),cos:h(10.000000000123),cosh:g(1),coshPf:$(1),tan:m(-1e300),tanh:i(1),tanhPf:w(1),exp:f(1),expm1:a(1),expm1Pf:v(1),log1p:u(10),log1pPf:x(10),powPI:d(-100)}}var wn="mmMwWLliI0fiflO&1",ne={default:[],apple:[{font:"-apple-system-body"}],serif:[{fontFamily:"serif"}],sans:[{fontFamily:"sans-serif"}],mono:[{fontFamily:"monospace"}],min:[{fontSize:"1px"}],system:[{fontFamily:"system-ui"}]};function bn(){return vn((e,t)=>{let n={},o={};for(let r of Object.keys(ne)){let[c={},s=wn]=ne[r],l=e.createElement("span");l.textContent=s,l.style.whiteSpace="nowrap";for(let h of Object.keys(c)){let g=c[h];g!==void 0&&(l.style[h]=g)}n[r]=l,t.append(e.createElement("br"),l)}for(let r of Object.keys(ne))o[r]=n[r].getBoundingClientRect().width;return o})}function vn(e,t=4e3){return Pe((n,o)=>{let r=o.document,c=r.body,s=c.style;s.width="".concat(t,"px"),s.webkitTextSizeAdjust=s.textSizeAdjust="none",j()?c.style.zoom="".concat(1/o.devicePixelRatio):I()&&(c.style.zoom="reset");let l=r.createElement("div");return l.textContent=[...Array(t/20<<0)].map(()=>"word").join(" "),c.appendChild(l),e(r,c)},'<!doctype html><html><head><meta name="viewport" content="width=device-width, initial-scale=1">')}function Ln(){return navigator.pdfViewerEnabled}function xn(){let e=new Float32Array(1),t=new Uint8Array(e.buffer);return e[0]=1/0,e[0]=e[0]-e[0],t[3]}function Sn(){let{ApplePaySession:e}=window;if(typeof e?.canMakePayments!="function")return-1;if(kn())return-3;try{return e.canMakePayments()?1:0}catch(t){return Fn(t)}}var kn=yt;function Fn(e){if(e instanceof Error&&e.name==="InvalidAccessError"&&/\bfrom\b.*\binsecure\b/i.test(e.message))return-2;throw e}function Pn(){var e;let t=document.createElement("a"),n=(e=t.attributionSourceId)!==null&&e!==void 0?e:t.attributionsourceid;return n===void 0?void 0:String(n)}var Ce=-1,Ee=-2,Cn=new Set([10752,2849,2884,2885,2886,2928,2929,2930,2931,2932,2960,2961,2962,2963,2964,2965,2966,2967,2968,2978,3024,3042,3088,3089,3106,3107,32773,32777,32777,32823,32824,32936,32937,32938,32939,32968,32969,32970,32971,3317,33170,3333,3379,3386,33901,33902,34016,34024,34076,3408,3410,3411,3412,3413,3414,3415,34467,34816,34817,34818,34819,34877,34921,34930,35660,35661,35724,35738,35739,36003,36004,36005,36347,36348,36349,37440,37441,37443,7936,7937,7938]),En=new Set([34047,35723,36063,34852,34853,34854,34229,36392,36795,38449]),In=["FRAGMENT_SHADER","VERTEX_SHADER"],Tn=["LOW_FLOAT","MEDIUM_FLOAT","HIGH_FLOAT","LOW_INT","MEDIUM_INT","HIGH_INT"],Ie="WEBGL_debug_renderer_info",Mn="WEBGL_polygon_mode";function Rn({cache:e}){var t,n,o,r,c,s;let l=Te(e);if(!l)return Ce;if(!Re(l))return Ee;let h=Me()?null:l.getExtension(Ie);return{version:((t=l.getParameter(l.VERSION))===null||t===void 0?void 0:t.toString())||"",vendor:((n=l.getParameter(l.VENDOR))===null||n===void 0?void 0:n.toString())||"",vendorUnmasked:h?(o=l.getParameter(h.UNMASKED_VENDOR_WEBGL))===null||o===void 0?void 0:o.toString():"",renderer:((r=l.getParameter(l.RENDERER))===null||r===void 0?void 0:r.toString())||"",rendererUnmasked:h?(c=l.getParameter(h.UNMASKED_RENDERER_WEBGL))===null||c===void 0?void 0:c.toString():"",shadingLanguageVersion:((s=l.getParameter(l.SHADING_LANGUAGE_VERSION))===null||s===void 0?void 0:s.toString())||""}}function Wn({cache:e}){let t=Te(e);if(!t)return Ce;if(!Re(t))return Ee;let n=t.getSupportedExtensions(),o=t.getContextAttributes(),r=[],c=[],s=[],l=[],h=[];if(o)for(let m of Object.keys(o))c.push("".concat(m,"=").concat(o[m]));let g=ve(t);for(let m of g){let i=t[m];s.push("".concat(m,"=").concat(i).concat(Cn.has(i)?"=".concat(t.getParameter(i)):""))}if(n)for(let m of n){if(m===Ie&&Me()||m===Mn&&An())continue;let i=t.getExtension(m);if(!i){r.push(m);continue}for(let f of ve(i)){let a=i[f];l.push("".concat(f,"=").concat(a).concat(En.has(a)?"=".concat(t.getParameter(a)):""))}}for(let m of In)for(let i of Tn){let f=Vn(t,m,i);h.push("".concat(m,".").concat(i,"=").concat(f.join(",")))}return l.sort(),s.sort(),{contextAttributes:c,parameters:s,shaderPrecisions:h,extensions:n,extensionParameters:l,unsupportedExtensions:r}}function Te(e){if(e.webgl)return e.webgl.context;let t=document.createElement("canvas"),n;t.addEventListener("webglCreateContextError",()=>n=void 0);for(let o of["webgl","experimental-webgl"]){try{n=t.getContext(o)}catch{}if(n)break}return e.webgl={context:n},n}function Vn(e,t,n){let o=e.getShaderPrecisionFormat(e[t],e[n]);return o?[o.rangeMin,o.rangeMax,o.precision]:[]}function ve(e){return Object.keys(e.__proto__).filter(_n)}function _n(e){return typeof e=="string"&&!e.match(/[^A-Z0-9_x]/)}function Me(){return H()}function An(){return j()||I()}function Re(e){return typeof e.getParameter=="function"}function Zn(){if(!(ae()||I()))return-2;if(!window.AudioContext)return-1;let t=new AudioContext().baseLatency;return t==null?-1:isFinite(t)?t:-3}function Gn(){if(!window.Intl)return-1;let e=window.Intl.DateTimeFormat;if(!e)return-2;let t=e().resolvedOptions().locale;return!t&&t!==""?-3:t}var Dn={fonts:vt,domBlockers:on,fontPreferences:bn,audio:lt,screenFrame:jt,canvas:xt,osCpu:Rt,languages:Wt,colorDepth:Vt,deviceMemory:_t,screenResolution:At,hardwareConcurrency:zt,timezone:Xt,sessionStorage:Ot,localStorage:Jt,indexedDB:$t,openDatabase:Ut,cpuClass:Qt,platform:Kt,plugins:Lt,touchSupport:Mt,vendor:qt,vendorFlavors:en,cookiesEnabled:tn,colorGamut:cn,invertedColors:ln,forcedColors:un,monochrome:mn,contrast:fn,reducedMotion:hn,reducedTransparency:pn,hdr:gn,math:yn,pdfViewerEnabled:Ln,architecture:xn,applePay:Sn,privateClickMeasurement:Pn,audioBaseLatency:Zn,dateTimeLocale:Gn,webGlBasics:Rn,webGlExtensions:Wn};function Yn(e){return qe(Dn,e,[])}var Nn="$ if upgrade to Pro: https://fingerprint.com/github/?utm_source=oss&utm_medium=referral&utm_campaign=confidence_score";function jn(e){let t=zn(e),n=Hn(t);return{score:t,comment:Nn.replace(/\$/g,"".concat(n))}}function zn(e){if(ae())return .4;if(I())return se()&&!(X()&&z())?.5:.3;let t="value"in e.platform?e.platform.value:"";return/^Win/.test(t)?.6:/^Mac/.test(t)?.5:.7}function Hn(e){return Se(.99+.01*e,1e-4)}function Xn(e){let t="";for(let n of Object.keys(e).sort()){let o=e[n],r="error"in o?"error":JSON.stringify(o.value);t+="".concat(t?"|":"").concat(n.replace(/([:|\\])/g,"\\$1"),":").concat(r)}return t}function We(e){return JSON.stringify(e,(t,n)=>n instanceof Error?$e(n):n,2)}function Ve(e){return Je(Xn(e))}function Bn(e){let t,n=jn(e);return{get visitorId(){return t===void 0&&(t=Ve(this.components)),t},set visitorId(o){t=o},confidence:n,components:e,version:Le}}function On(e=50){return De(e,e*2)}function Jn(e,t){let n=Date.now();return{async get(o){let r=Date.now(),c=await e(),s=Bn(c);return(t||o?.debug)&&console.log("Copy the text below to get the debug data:\n\n```\nversion: ".concat(s.version,"\nuserAgent: ").concat(navigator.userAgent,"\ntimeBetweenLoadAndGet: ").concat(r-n,"\nvisitorId: ").concat(s.visitorId,"\ncomponents: ").concat(We(c),"\n```")),s}}}function $n(){if(!(window.__fpjs_d_m||Math.random()>=.001))try{let e=new XMLHttpRequest;e.open("get","https://m1.openfpcdn.io/fingerprintjs/v".concat(Le,"/npm-monitoring"),!0),e.send()}catch(e){console.error(e)}}async function Un(e={}){let{delayFallback:t,debug:n,monitoring:o=!0}=e;o&&$n(),await On(t);let r=Yn({cache:{},debug:n});return Jn(r,n)}var _e={load:Un,hashComponents:Ve,componentsToDebugString:We};({API_ENDPOINT:"https://images.action.quebec",secrets:null,options:null,parent:null,container:null,selorg:null,seltype:null,imagegroup:null,imageL:null,imageR:null,image:null,frameL:null,frameR:null,btngroup:null,uploadbtn:null,browsebtn:null,results:null,copybtn:null,browse2btn:null,links:null,splash:null,splashdnd:null,screenpass:null,fingerprint:null,passform:null,passinput:null,passtry:0,loader:null,notif:null,init:async function(){let e=this.loadOptions();await Promise.all([this.loadSecrets(),this.loadFingerprint(),documentReady(()=>this.initUI(e))]),sessionStorage.getItem(this.fingerprint)!=md5("".concat(this.secrets.SERVICE_PWD,":").concat(this.fingerprint))&&this.screenpass.classList.add("show"),this.container.replaceChildren(this.imagegroup,this.btngroup,this.results,this.splash,this.loader,this.screenpass),this.parent.replaceWith(this.container),this.screenpass.classList.contains("show")&&this.passinput.focus()},initUI:async function(e){this.parent=document.querySelector("service-image"),this.container=create("div","croper"),this.imagegroup=create("div","croper__images");let t=this.imagegroup.create("div","croper__images__options");this.selorg=t.create("select"),this.selorg.required=!0,this.selorg.create("option",null,"-- Organisation --").value="",this.selorg.addEventListener("change",()=>this.changeSel()),this.seltype=t.create("select"),this.seltype.required=!0,this.seltype.create("option",null,"-- Type --").value="",this.seltype.addEventListener("change",()=>this.changeSel()),this.image=create("img"),this.imageL=this.imagegroup.create("div","croper__images__box box--2-3"),this.imageR=this.imagegroup.create("div","croper__images__box box--5-4"),this.imageL.title="Utilisez la molette pour zoomer",this.imageR.title="Utilisez la molette pour zoomer",this.btngroup=create("div","croper__button"),this.uploadbtn=this.btngroup.create("button",null,"T\xE9l\xE9verser"),this.uploadbtn.addEventListener("click",()=>this.uploadFiles()),this.browsebtn=this.btngroup.create("button",null,"Parcourir"),this.browsebtn.addEventListener("click",()=>this.browseFile()),this.results=create("div","croper__results"),this.results.create("div","croper__results__winner").title="Tu veux-tu une m\xE9daille?",this.results.create("div","croper__results__congrats","F\xE9licitations!"),this.results.create("div","croper__results__text","Image t\xE9l\xE9vers\xE9e avec succ\xE8s. Il ne reste qu\u2019\xE0 copier les liens et les coller dans la description de votre \xE9v\xE9nement.");let n=this.results.create("div","croper__results__btn");this.copybtn=n.create("button","croper__results__copy","Copier les liens"),this.copybtn.addEventListener("click",()=>this.copyLinks()),this.browse2btn=n.create("button","croper__results__browse","Parcourir"),this.browse2btn.addEventListener("click",()=>this.browseFile()),this.splash=create("div","croper__splash show","Glissez-d\xE9posez votre image ici ou<br> cliquez ici pour choisir un fichier."),this.splash.addEventListener("click",()=>this.browseFile()),this.splashdnd=new D(this.splash,{onFileDrop:r=>this.drop(r)}),this.loader=create("div","croper__loader"),this.loader.create("div","loading-double-circular"),this.screenpass=create("div","screenpass");let o=this.screenpass.create("div",null,"<div>Entrez votre mot de passe:</div>");this.passform=o.create("form"),this.passinput=this.passform.create("input",null,null,{name:"password",type:"password",autocomplete:!0}),this.passform.create("input",null,null,{type:"submit",value:"Soumettre"}),this.passform.addEventListener("submit",r=>this.verifyPassword(r)),this.frameL=new _(this.imageL,"2/3"),this.frameR=new _(this.imageR,"5:4"),this.notif=new Y,await e,this.options.organisations.forEach(r=>this.selorg.create("option",null,r.name).value=r.slug),this.options.types.forEach(r=>this.seltype.create("option",null,r.name).value=r.slug),this.selorg.value=localStorage.getItem("selorg")??"",this.seltype.value=localStorage.getItem("seltype")??"",this.changeSel()},loadSecrets:async function(){this.secrets=await SECRETS},loadFingerprint:async function(){let e=await _e.load();this.fingerprint=(await e.get()).visitorId},loadOptions:async function(){let e=await fetch("https://action.quebec/options.json");this.options=await e.json()},busy:async function(e){document.documentElement.classList.add("is-busy");let t=await Promise.allSettled(typeof e=="array"?e:[e]);return document.documentElement.classList.remove("is-busy"),typeof e=="array"?t:t[0]},working:async function(e){document.documentElement.classList.add("is-working");let t=await Promise.allSettled(typeof e=="array"?e:[e]);return document.documentElement.classList.remove("is-working"),typeof e=="array"?t:t[0]},changeSel:async function(){this.uploadbtn.disabled=!(this.selorg.value&&this.seltype.value),localStorage.setItem("selorg",this.selorg.value),localStorage.setItem("seltype",this.seltype.value)},verifyPassword:function(e){if(e.preventDefault(),e.stopPropagation(),md5(this.passinput.value)!=this.secrets.SERVICE_PWD){if(this.passtry>=2)return document.location.href="https://action.quebec/";this.notif.error("Mot de passe invalide"),this.passinput.value="",this.passinput.focus(),this.passtry++}else sessionStorage.setItem(this.fingerprint,md5("".concat(this.secrets.SERVICE_PWD,":").concat(this.fingerprint))),this.notif.thumbsUp("Mot de passe accept\xE9"),this.screenpass.classList.remove("show")},handleFile:function(e){return new Promise((t,n)=>{e.type.startsWith("image/")&&e.size<=5242880?t(this.loadImage(e)):n("Fichier rejet\xE9")})},browseFile:async function(){browse("image/*").then(async e=>{await this.handleFile(e)}).catch(e=>this.notif.error("Fichier rejet\xE9"))},drop:function(e){this.handleFile(e).catch(t=>this.notif.error(t))},loadImage:async function(e){this.image.src=URL.createObjectURL(e),await Promise.all([this.frameL.loadImage(e),this.frameR.loadImage(e)]),this.splash.classList.remove("show"),this.results.classList.remove("show")},uploadFiles:async function(){return this.busy(new Promise(async(e,t)=>{await new Promise(requestAnimationFrame),this.loader.classList.add("show");try{this.links=await Promise.all([this.uploadBlob(this.exportBlob(640)),this.uploadBlob(this.frameR.exportBlob(140)),this.uploadBlob(this.frameL.exportBlob(280)),this.uploadBlob(this.exportBlob(1200,630))]),await sleep(2e3),await new Promise(requestAnimationFrame),this.results.classList.add("show"),this.loader.classList.remove("show"),e()}catch{await sleep(1e3),await new Promise(requestAnimationFrame),this.loader.classList.remove("show"),this.notif.error("\xC9chec de t\xE9l\xE9versement"),t()}}))},exportBlob:async function(e,t){let n=this.image.naturalWidth,o=this.image.naturalHeight;t||(t=Math.round(e*o/n));let r=document.createElement("canvas");r.width=e,r.height=t;let c=r.getContext("2d",{alpha:!0});c.imageSmoothingEnabled=!0,c.imageSmoothingQuality="high";let s=e/t,l=n/o,h=0,g=0,m=n,i=o;return l>s?(m=Math.round(o*s),h=Math.round((n-m)/2)):l<s&&(i=Math.round(n/s),g=Math.round((o-i)/2)),c.drawImage(this.image,h,g,m,i,0,0,e,t),new Promise((f,a)=>r.toBlob(u=>u?f(u):a(new Error("toBlob() a \xE9chou\xE9")),"image/webp",.92))},uploadBlob:async function(e){let t=new FormData;t.append("image",new File([await e],"image.webp",{type:"image/webp"}));let n={headers:{Authorization:"Bearer ".concat(this.secrets.IMAGE_API_KEY)},method:"POST",body:t},o=await fetch(this.API_ENDPOINT,n),r=(await o.text()).trim();if(!o.ok||!/^https?:\/\//i.test(r))throw new Error(r||"T\xE9l\xE9versement \xE9chou\xE9");return r},copyLinks:function(){this.copyLabeledLinks([{label:"image-couverture",url:this.links[0]},{label:"image-calendrier",url:this.links[1]},{label:"image-carte",url:this.links[2]},{label:"image-scraper",url:this.links[3]}],[{label:"organisation",value:this.selorg.value},{label:"type",value:this.seltype.value}]).then(()=>this.notif.thumbsUp("Liens copi\xE9s!"))},copyLabeledLinks:function(e,t){let n=c=>c.replace(/[&<>"']/g,s=>({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"})[s]),o=t.map(({label:c,value:s})=>"@".concat(c,": ").concat(s)).join("<br>")+"<br>",r=t.map(({label:c,value:s})=>"@".concat(c,": ").concat(s)).join("\n")+"\n";return o+=e.map(({label:c,url:s})=>'<a href="'.concat(n(s),'">').concat(n(c),"</a>")).join("<br>"),r+=e.map(({label:c,url:s})=>"".concat(c," \u2014 ").concat(s)).join("\n")+"\n",o+="<p>Plus de d\xE9tails \xE0 venir...</p>",navigator.clipboard.write([new ClipboardItem({"text/html":new Blob(["<p>"+o+"</p>"],{type:"text/html"}),"text/plain":new Blob([r],{type:"text/plain"})})])}}).init();})();
