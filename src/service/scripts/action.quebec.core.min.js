(()=>{var _e=Object.defineProperty;var Ae=(e,t,n)=>t in e?_e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var S=(e,t,n)=>Ae(e,typeof t!="symbol"?t+"":t,n);self.create=(e,t=null,n=null,i={})=>{let r=document.createElement(e);return t&&(r.className=t),n&&(r.innerHTML=n),Object.entries(i).forEach(l=>r.setAttribute(l[0],l[1])),r};HTMLElement.prototype.create=function(e,t=null,n=null,i={}){let r=create(e,t,n,i);return this.append(r),r};self.documentReady=function(e=null){return new Promise(t=>{document.readyState==="loading"?document.addEventListener("DOMContentLoaded",async()=>{e&&t(e()),t()},{once:!0}):(e&&t(e()),t())})};self.loadJsonProperties=async function(e,t={}){let n=Object.entries(t),i=await Promise.allSettled(n.map(async([r,l])=>{let s=await fetch(l),c=null;try{c=await s.json()}catch{}return{key:r,url:l,status:s.status,ok:s.ok,data:c}}));for(let r of i)if(r.status==="fulfilled"){let{key:l,url:s,status:c,ok:h,data:g}=r.value;if(!h){console.error("".concat(l," [").concat(c," - ERREUR] ").concat(s));continue}e[l]=g}else console.error("Erreur r\xE9seau/JS pendant le chargement :",r.reason);return e};self.browse=e=>new Promise((t,n)=>{let i=document.createElement("input");i.type="file",i.accept=e,i.addEventListener("change",()=>{i.files.length>0?t(i.files[0]):n("cancelled")});let r=()=>{setTimeout(()=>{i.files.length||n("cancelled"),window.removeEventListener("focus",r)},200)};window.addEventListener("focus",r),i.click()});self.escapeForAttr=e=>e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;");self.rem=e=>e*parseFloat(getComputedStyle(document.documentElement).fontSize);self.sleep=e=>new Promise(t=>setTimeout(t,e));self.preloadImage=e=>new Promise((t,n)=>{let i=new Image;i.decoding="async",i.loading="eager",i.onload=()=>t("preloaded"),i.onerror=n,i.src=e,i.complete&&i.naturalWidth>0&&t("memory-cache")});self.copyToClipboard=async e=>{if(navigator.clipboard&&typeof navigator.clipboard.writeText=="function")try{return await navigator.clipboard.writeText(e),!0}catch{}try{let t=document.createElement("textarea");t.value=e,t.style.position="fixed",t.style.top="-9999px",t.style.left="-9999px",t.style.opacity="0",document.body.appendChild(t),t.focus(),t.select();let n=document.execCommand("copy");return document.body.removeChild(t),n}catch{return!1}};self.md5=e=>{let t="0123456789abcdef",n=v=>{let w,x="";for(w=0;w<=3;w++)x+=t.charAt(v>>w*8+4&15)+t.charAt(v>>w*8&15);return x},i=(v,w)=>{let x=(v&65535)+(w&65535);return(v>>16)+(w>>16)+(x>>16)<<16|x&65535},r=(v,w)=>v<<w|v>>>32-w,l=(v,w,x,y,T,M)=>i(r(i(i(w,v),i(y,M)),T),x),s=(v,w,x,y,T,M,V)=>l(w&x|~w&y,v,w,T,M,V),c=(v,w,x,y,T,M,V)=>l(w&y|x&~y,v,w,T,M,V),h=(v,w,x,y,T,M,V)=>l(w^x^y,v,w,T,M,V),g=(v,w,x,y,T,M,V)=>l(x^(w|~y),v,w,T,M,V),m=v=>{let w,x=(v.length+8>>6)+1,y=new Array(x*16);for(w=0;w<x*16;w++)y[w]=0;for(w=0;w<v.length;w++)y[w>>2]|=v.charCodeAt(w)<<w%4*8;return y[w>>2]|=128<<w%4*8,y[x*16-2]=v.length*8,y},o,f=m(""+e),a=1732584193,u=-271733879,d=-1732584194,p=271733878,X,B,O,$;for(o=0;o<f.length;o+=16)X=a,B=u,O=d,$=p,a=s(a,u,d,p,f[o+0],7,-680876936),p=s(p,a,u,d,f[o+1],12,-389564586),d=s(d,p,a,u,f[o+2],17,606105819),u=s(u,d,p,a,f[o+3],22,-1044525330),a=s(a,u,d,p,f[o+4],7,-176418897),p=s(p,a,u,d,f[o+5],12,1200080426),d=s(d,p,a,u,f[o+6],17,-1473231341),u=s(u,d,p,a,f[o+7],22,-45705983),a=s(a,u,d,p,f[o+8],7,1770035416),p=s(p,a,u,d,f[o+9],12,-1958414417),d=s(d,p,a,u,f[o+10],17,-42063),u=s(u,d,p,a,f[o+11],22,-1990404162),a=s(a,u,d,p,f[o+12],7,1804603682),p=s(p,a,u,d,f[o+13],12,-40341101),d=s(d,p,a,u,f[o+14],17,-1502002290),u=s(u,d,p,a,f[o+15],22,1236535329),a=c(a,u,d,p,f[o+1],5,-165796510),p=c(p,a,u,d,f[o+6],9,-1069501632),d=c(d,p,a,u,f[o+11],14,643717713),u=c(u,d,p,a,f[o+0],20,-373897302),a=c(a,u,d,p,f[o+5],5,-701558691),p=c(p,a,u,d,f[o+10],9,38016083),d=c(d,p,a,u,f[o+15],14,-660478335),u=c(u,d,p,a,f[o+4],20,-405537848),a=c(a,u,d,p,f[o+9],5,568446438),p=c(p,a,u,d,f[o+14],9,-1019803690),d=c(d,p,a,u,f[o+3],14,-187363961),u=c(u,d,p,a,f[o+8],20,1163531501),a=c(a,u,d,p,f[o+13],5,-1444681467),p=c(p,a,u,d,f[o+2],9,-51403784),d=c(d,p,a,u,f[o+7],14,1735328473),u=c(u,d,p,a,f[o+12],20,-1926607734),a=h(a,u,d,p,f[o+5],4,-378558),p=h(p,a,u,d,f[o+8],11,-2022574463),d=h(d,p,a,u,f[o+11],16,1839030562),u=h(u,d,p,a,f[o+14],23,-35309556),a=h(a,u,d,p,f[o+1],4,-1530992060),p=h(p,a,u,d,f[o+4],11,1272893353),d=h(d,p,a,u,f[o+7],16,-155497632),u=h(u,d,p,a,f[o+10],23,-1094730640),a=h(a,u,d,p,f[o+13],4,681279174),p=h(p,a,u,d,f[o+0],11,-358537222),d=h(d,p,a,u,f[o+3],16,-722521979),u=h(u,d,p,a,f[o+6],23,76029189),a=h(a,u,d,p,f[o+9],4,-640364487),p=h(p,a,u,d,f[o+12],11,-421815835),d=h(d,p,a,u,f[o+15],16,530742520),u=h(u,d,p,a,f[o+2],23,-995338651),a=g(a,u,d,p,f[o+0],6,-198630844),p=g(p,a,u,d,f[o+7],10,1126891415),d=g(d,p,a,u,f[o+14],15,-1416354905),u=g(u,d,p,a,f[o+5],21,-57434055),a=g(a,u,d,p,f[o+12],6,1700485571),p=g(p,a,u,d,f[o+3],10,-1894986606),d=g(d,p,a,u,f[o+10],15,-1051523),u=g(u,d,p,a,f[o+1],21,-2054922799),a=g(a,u,d,p,f[o+8],6,1873313359),p=g(p,a,u,d,f[o+15],10,-30611744),d=g(d,p,a,u,f[o+6],15,-1560198380),u=g(u,d,p,a,f[o+13],21,1309151649),a=g(a,u,d,p,f[o+4],6,-145523070),p=g(p,a,u,d,f[o+11],10,-1120210379),d=g(d,p,a,u,f[o+2],15,718787259),u=g(u,d,p,a,f[o+9],21,-343485551),a=i(a,X),u=i(u,B),d=i(d,O),p=i(p,$);return n(a)+n(u)+n(d)+n(p)};self.pad=e=>String(e).padStart(2,"0");self.fmtDate=e=>"".concat(e.getFullYear(),"-").concat(pad(e.getMonth()+1),"-").concat(pad(e.getDate()));self.isoLocal=e=>new Date(e).toISOString();self.addDays=(e,t)=>new Date(e.getFullYear(),e.getMonth(),e.getDate()+t);self.inTZ=(e,t="America/Toronto")=>new Date(e).toLocaleDateString("fr-CA",{timeZone:t});self.ymd=e=>new Date(e.getFullYear(),e.getMonth(),e.getDate()).toISOString().slice(0,10);self.startOfWeek=(e,t=0)=>{let n=new Date(e.getFullYear(),e.getMonth(),e.getDate()),i=(n.getDay()-t+7)%7;return n.setDate(n.getDate()-i),n};self.rectOf=e=>e.getBoundingClientRect();self.clamp=(e,t,n)=>Math.min(n,Math.max(t,e));self.distance=(e,t)=>Math.hypot(e.x-t.x,e.y-t.y);self.midpoint=(e,t)=>({x:(e.x+t.x)/2,y:(e.y+t.y)/2});self.hcd=(e,t)=>{do var n=e;while((t=n%(e=t))>0);return e};window.SECRETS=(async()=>{try{let e=await fetch(atob("L2J0MW9oOTdqN1guYmlu"),{cache:"no-store"});if(!e.ok)throw new Error("Error loading secrets: ".concat(e.status));let t=new Uint8Array([31,139,...new Uint8Array(await e.arrayBuffer())]);return JSON.parse(atob((await new Response(new Blob([t]).stream().pipeThrough(new DecompressionStream("gzip"))).text()).replace(/[A-Za-z]/g,n=>{let i=n<="Z"?65:97;return String.fromCharCode((n.charCodeAt(0)-i+13)%26+i)})))}catch(e){console.error(e.message)}})();window.LightSwitch={switch:null,mutexVwpx:null,init:async function(){let e=localStorage.getItem("theme");e&&document.documentElement.setAttribute("data-theme",e),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",t=>this.setTheme(t.matches?"dark":"light")),document.documentElement.style.setProperty("--vwpx",String(window.innerWidth)),document.addEventListener("DOMContentLoaded",async()=>{let t=document.body.create("div","lightswitch");t.addEventListener("click",()=>this.toogleTheme()),t.title="Nuit / Jour"}),window.addEventListener("resize",()=>{this.mutexVwpx==null&&(this.mutexVwpx=requestAnimationFrame(()=>{document.documentElement.style.setProperty("--vwpx",String(window.innerWidth)),this.mutexVwpx=null}))})},getTheme:function(){return getComputedStyle(document.documentElement).getPropertyValue("--theme").replace(/^['"]|['"]$/g,"").toLocaleLowerCase().trim()},setTheme:function(e){document.documentElement.setAttribute("data-theme",e),localStorage.setItem("theme",e)},toogleTheme:function(){this.setTheme(this.getTheme()==="dark"?"light":"dark")}};LightSwitch.init();var D=class{constructor(t,n={}){S(this,"container",null);S(this,"opts",{onFileDrop:null});this.opts={...this.opts,...n},typeof t!="string"?this.container=t:this.container=document.querySelector(t),this.container.addEventListener("dragover",i=>i.preventDefault()),this.container.addEventListener("dragenter",i=>this.dragEnter(i)),this.container.addEventListener("dragleave",i=>this.dragLeave(i)),this.container.addEventListener("drop",i=>this.drop(i))}dragEnter(t){t.preventDefault(),this.container.classList.add("dragover")}dragLeave(t){this.container.classList.remove("dragover")}async drop(t){t.preventDefault(),t.dataTransfer.files.length>0&&await this.opts.onFileDrop?.(t.dataTransfer.files[0]),this.container.classList.remove("dragover")}};var _=class{constructor(t,n){S(this,"state",{scale:1,minScale:1,maxScale:8,tx:0,ty:0,imgW:0,imgH:0,frameW:0,frameH:0});S(this,"pointers",new Map);S(this,"pinchStart",null);S(this,"lastTapTime",0);S(this,"mutex",null);S(this,"zoomTimer",null);S(this,"ratio",null);S(this,"frame",null);S(this,"img",null);S(this,"url",null);typeof t!="string"?this.frame=t:this.frame=document.querySelector(t),this.ratio=this.parseAspect(n),this.frame.style.aspectRatio="".concat(this.ratio.w," / ").concat(this.ratio.h),this.img=this.frame.create("img"),this.frame.addEventListener("wheel",i=>this.onWheel(i),{passive:!1}),this.frame.addEventListener("pointerdown",i=>this.onPointerDown(i)),this.frame.addEventListener("pointermove",i=>this.onPointerMove(i)),this.frame.addEventListener("pointerup",i=>this.endPointer(i)),this.frame.addEventListener("pointercancel",i=>this.endPointer(i)),this.frame.addEventListener("pointerleave",i=>{this.pointers.has(i.pointerId)&&this.endPointer(i)}),window.addEventListener("resize",()=>this.onResize())}loadImage(t){return new Promise(n=>{this.url=URL.createObjectURL(t),this.img.onload=()=>{this.state.imgW=this.img.naturalWidth,this.state.imgH=this.img.naturalHeight,URL.revokeObjectURL(this.url),n(this.fitCover())},this.img.src=this.url})}onResize(){!this.mutex&&this.img&&(this.mutex=requestAnimationFrame(()=>this.fitCover().then(()=>this.mutex=null)))}onWheel(t){t.preventDefault(),clearTimeout(this.zoomTimer),this.frame.classList.toggle("zooming-in",t.deltaY<0),this.frame.classList.toggle("zooming-out",t.deltaY>0),this.zoomTimer=setTimeout(()=>this.frame.classList.remove("zooming-in","zooming-out"),200);let n=this.state.scale*Math.exp(-t.deltaY*.001);this.zoomAt(t.clientX,t.clientY,n)}onPointerDown(t){this.frame.setPointerCapture(t.pointerId),this.setPointer(t);let n=performance.now();n-this.lastTapTime<280&&this.pointers.size===1?this.fitCover().then(()=>this.lastTapTime=0):this.lastTapTime=n}onPointerMove(t){if(!this.pointers.has(t.pointerId))return;let n=this.pointers.get(t.pointerId);if(this.setPointer(t),this.pointers.size===2){let[i,r]=[...this.pointers.values()],l=midpoint(i,r),s=distance(i,r);if(!this.pinchStart)this.pinchStart={dist:s,scale:this.state.scale,tx:this.state.tx,ty:this.state.ty};else{let c=s/(this.pinchStart.dist||1);this.zoomAt(l.x,l.y,clamp(this.pinchStart.scale*c,this.state.minScale,this.state.maxScale))}}else this.pointers.size===1&&(this.state.tx+=t.clientX-n.x,this.state.ty+=t.clientY-n.y,this.applyTransform())}fitCover(){let t=rectOf(this.frame);this.state.frameW=t.width,this.state.frameH=t.height;let n=this.state.imgW||this.img.naturalWidth||1,i=this.state.imgH||this.img.naturalHeight||1;this.state.imgW=n,this.state.imgH=i;let r=Math.max(this.state.frameW/n,this.state.frameH/i)||1;this.state.minScale=r,this.state.maxScale=r*8,this.state.scale=r;let l=n*r,s=i*r;return this.state.tx=(this.state.frameW-l)/2,this.state.ty=(this.state.frameH-s)/2,this.applyTransform()}applyTransform(){let t=this.state.imgW*this.state.scale,n=this.state.imgH*this.state.scale,i=this.state.frameW-t,r=0,l=this.state.frameH-n,s=0;return this.state.tx=clamp(this.state.tx,i,r),this.state.ty=clamp(this.state.ty,l,s),new Promise(c=>c(this.img.style.transform="translate3d(".concat(this.state.tx,"px, ").concat(this.state.ty,"px, 0) scale(").concat(this.state.scale,")")))}zoomAt(t,n,i){let r=rectOf(this.frame),l=t-r.left,s=n-r.top,c=this.state.scale,h=clamp(i,this.state.minScale,this.state.maxScale);if(h!==this.state.scale)return this.state.tx=l-(l-this.state.tx)*(h/c),this.state.ty=s-(s-this.state.ty)*(h/c),this.state.scale=h,this.applyTransform()}setPointer(t){this.pointers.set(t.pointerId,{x:t.clientX,y:t.clientY})}delPointer(t){this.pointers.delete(t.pointerId)}endPointer(t){this.delPointer(t),this.pointers.size<2&&(this.pinchStart=null)}parseAspect(t){let n=String(t).replace(/\s+/g,"").match(/^(\d+(?:\.\d+)?)[\/:](\d+(?:\.\d+)?)$/);return n?{w:parseFloat(n[1]),h:parseFloat(n[2])}:{w:5,h:4}}exportBlob(t,n="webp"){if(!this.img.src)throw new Error("Aucune image charg\xE9e.");let i=this.frame.clientWidth,r=this.frame.clientHeight,l=Math.max(0,-this.state.tx/this.state.scale),s=Math.max(0,-this.state.ty/this.state.scale),c=Math.min(this.state.imgW-l,i/this.state.scale),h=Math.min(this.state.imgH-s,r/this.state.scale),g=this.ratio.w/this.ratio.h,m=Math.round(t/g),o=document.createElement("canvas");o.width=t,o.height=m;let f=o.getContext("2d",{alpha:n!=="jpeg"});return f.imageSmoothingQuality="high",f.drawImage(this.img,l,s,c,h,0,0,t,m),new Promise((a,u)=>o.toBlob(d=>d?a(d):u(new Error("toBlob() a \xE9chou\xE9")),"image/".concat(n),.92))}};var Y=class{constructor(){S(this,"elm",null);S(this,"timeout",null);S(this,"duration",3e3);this.elm=document.body.create("div","notification")}thumbsUp(t){this.show(t,"thumbsup")}error(t){this.show(t,"error")}show(t,n){this.elm.innerHTML=t,this.elm.className="notification ".concat(n," show"),this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.elm.className="notification",this.timeout=null},this.duration)}};var ve="5.0.1";function K(e,t){return new Promise(n=>setTimeout(n,e,t))}function Ze(){return new Promise(e=>{let t=new MessageChannel;t.port1.onmessage=()=>e(),t.port2.postMessage(null)})}function Ge(e,t=1/0){let{requestIdleCallback:n}=window;return n?new Promise(i=>n.call(window,()=>i(),{timeout:t})):K(Math.min(e,t))}function Le(e){return!!e&&typeof e.then=="function"}function ae(e,t){try{let n=e();Le(n)?n.then(i=>t(!0,i),i=>t(!1,i)):t(!0,n)}catch(n){t(!1,n)}}async function ce(e,t,n=16){let i=Array(e.length),r=Date.now();for(let l=0;l<e.length;++l){i[l]=t(e[l],l);let s=Date.now();s>=r+n&&(r=s,await Ze())}return i}function j(e){return e.then(void 0,()=>{}),e}function De(e,t){for(let n=0,i=e.length;n<i;++n)if(e[n]===t)return!0;return!1}function Ye(e,t){return!De(e,t)}function oe(e){return parseInt(e)}function C(e){return parseFloat(e)}function R(e,t){return typeof e=="number"&&isNaN(e)?t:e}function F(e){return e.reduce((t,n)=>t+(n?1:0),0)}function xe(e,t=1){if(Math.abs(t)>=1)return Math.round(e/t)*t;{let n=1/t;return Math.round(e*n)/n}}function je(e){var t,n;let i="Unexpected syntax '".concat(e,"'"),r=/^\s*([a-z-]*)(.*)$/i.exec(e),l=r[1]||void 0,s={},c=/([.:#][\w-]+|\[.+?\])/gi,h=(g,m)=>{s[g]=s[g]||[],s[g].push(m)};for(;;){let g=c.exec(r[2]);if(!g)break;let m=g[0];switch(m[0]){case".":h("class",m.slice(1));break;case"#":h("id",m.slice(1));break;case"[":{let o=/^\[([\w-]+)([~|^$*]?=("(.*?)"|([\w-]+)))?(\s+[is])?\]$/.exec(m);if(o)h(o[1],(n=(t=o[4])!==null&&t!==void 0?t:o[5])!==null&&n!==void 0?n:"");else throw new Error(i);break}default:throw new Error(i)}}return[l,s]}function ze(e){let t=new Uint8Array(e.length);for(let n=0;n<e.length;n++){let i=e.charCodeAt(n);if(i>127)return new TextEncoder().encode(e);t[n]=i}return t}function W(e,t){let n=e[0]>>>16,i=e[0]&65535,r=e[1]>>>16,l=e[1]&65535,s=t[0]>>>16,c=t[0]&65535,h=t[1]>>>16,g=t[1]&65535,m=0,o=0,f=0,a=0;a+=l+g,f+=a>>>16,a&=65535,f+=r+h,o+=f>>>16,f&=65535,o+=i+c,m+=o>>>16,o&=65535,m+=n+s,m&=65535,e[0]=m<<16|o,e[1]=f<<16|a}function E(e,t){let n=e[0]>>>16,i=e[0]&65535,r=e[1]>>>16,l=e[1]&65535,s=t[0]>>>16,c=t[0]&65535,h=t[1]>>>16,g=t[1]&65535,m=0,o=0,f=0,a=0;a+=l*g,f+=a>>>16,a&=65535,f+=r*g,o+=f>>>16,f&=65535,f+=l*h,o+=f>>>16,f&=65535,o+=i*g,m+=o>>>16,o&=65535,o+=r*h,m+=o>>>16,o&=65535,o+=l*c,m+=o>>>16,o&=65535,m+=n*g+i*h+r*c+l*s,m&=65535,e[0]=m<<16|o,e[1]=f<<16|a}function A(e,t){let n=e[0];t%=64,t===32?(e[0]=e[1],e[1]=n):t<32?(e[0]=n<<t|e[1]>>>32-t,e[1]=e[1]<<t|n>>>32-t):(t-=32,e[0]=e[1]<<t|n>>>32-t,e[1]=n<<t|e[1]>>>32-t)}function P(e,t){t%=64,t!==0&&(t<32?(e[0]=e[1]>>>32-t,e[1]=e[1]<<t):(e[0]=e[1]<<t-32,e[1]=0))}function L(e,t){e[0]^=t[0],e[1]^=t[1]}var Ne=[4283543511,3981806797],He=[3301882366,444984403];function le(e){let t=[0,e[0]>>>1];L(e,t),E(e,Ne),t[1]=e[0]>>>1,L(e,t),E(e,He),t[1]=e[0]>>>1,L(e,t)}var J=[2277735313,289559509],U=[1291169091,658871167],ue=[0,5],Xe=[0,1390208809],Be=[0,944331445];function Oe(e,t){let n=ze(e);t=t||0;let i=[0,n.length],r=i[1]%16,l=i[1]-r,s=[0,t],c=[0,t],h=[0,0],g=[0,0],m;for(m=0;m<l;m=m+16)h[0]=n[m+4]|n[m+5]<<8|n[m+6]<<16|n[m+7]<<24,h[1]=n[m]|n[m+1]<<8|n[m+2]<<16|n[m+3]<<24,g[0]=n[m+12]|n[m+13]<<8|n[m+14]<<16|n[m+15]<<24,g[1]=n[m+8]|n[m+9]<<8|n[m+10]<<16|n[m+11]<<24,E(h,J),A(h,31),E(h,U),L(s,h),A(s,27),W(s,c),E(s,ue),W(s,Xe),E(g,U),A(g,33),E(g,J),L(c,g),A(c,31),W(c,s),E(c,ue),W(c,Be);h[0]=0,h[1]=0,g[0]=0,g[1]=0;let o=[0,0];switch(r){case 15:o[1]=n[m+14],P(o,48),L(g,o);case 14:o[1]=n[m+13],P(o,40),L(g,o);case 13:o[1]=n[m+12],P(o,32),L(g,o);case 12:o[1]=n[m+11],P(o,24),L(g,o);case 11:o[1]=n[m+10],P(o,16),L(g,o);case 10:o[1]=n[m+9],P(o,8),L(g,o);case 9:o[1]=n[m+8],L(g,o),E(g,U),A(g,33),E(g,J),L(c,g);case 8:o[1]=n[m+7],P(o,56),L(h,o);case 7:o[1]=n[m+6],P(o,48),L(h,o);case 6:o[1]=n[m+5],P(o,40),L(h,o);case 5:o[1]=n[m+4],P(o,32),L(h,o);case 4:o[1]=n[m+3],P(o,24),L(h,o);case 3:o[1]=n[m+2],P(o,16),L(h,o);case 2:o[1]=n[m+1],P(o,8),L(h,o);case 1:o[1]=n[m],L(h,o),E(h,J),A(h,31),E(h,U),L(s,h)}return L(s,i),L(c,i),W(s,c),W(c,s),le(s),le(c),W(s,c),W(c,s),("00000000"+(s[0]>>>0).toString(16)).slice(-8)+("00000000"+(s[1]>>>0).toString(16)).slice(-8)+("00000000"+(c[0]>>>0).toString(16)).slice(-8)+("00000000"+(c[1]>>>0).toString(16)).slice(-8)}function $e(e){var t;return{name:e.name,message:e.message,stack:(t=e.stack)===null||t===void 0?void 0:t.split("\n"),...e}}function Je(e){return/^function\s.*?\{\s*\[native code]\s*}$/.test(String(e))}function Ue(e){return typeof e!="function"}function Qe(e,t){let n=j(new Promise(i=>{let r=Date.now();ae(e.bind(null,t),(...l)=>{let s=Date.now()-r;if(!l[0])return i(()=>({error:l[1],duration:s}));let c=l[1];if(Ue(c))return i(()=>({value:c,duration:s}));i(()=>new Promise(h=>{let g=Date.now();ae(c,(...m)=>{let o=s+Date.now()-g;if(!m[0])return h({error:m[1],duration:o});h({value:m[1],duration:o})})}))})}));return function(){return n.then(r=>r())}}function Ke(e,t,n,i){let r=Object.keys(e).filter(s=>Ye(n,s)),l=j(ce(r,s=>Qe(e[s],t),i));return async function(){let c=await l,h=await ce(c,o=>j(o()),i),g=await Promise.all(h),m={};for(let o=0;o<r.length;++o)m[r[o]]=g[o];return m}}function Se(){let e=window,t=navigator;return F(["MSCSSMatrix"in e,"msSetImmediate"in e,"msIndexedDB"in e,"msMaxTouchPoints"in t,"msPointerEnabled"in t])>=4}function qe(){let e=window,t=navigator;return F(["msWriteProfilerMark"in e,"MSStream"in e,"msLaunchUri"in t,"msSaveBlob"in t])>=3&&!Se()}function z(){let e=window,t=navigator;return F(["webkitPersistentStorage"in t,"webkitTemporaryStorage"in t,(t.vendor||"").indexOf("Google")===0,"webkitResolveLocalFileSystemURL"in e,"BatteryManager"in e,"webkitMediaStream"in e,"webkitSpeechGrammar"in e])>=5}function I(){let e=window,t=navigator;return F(["ApplePayError"in e,"CSSPrimitiveValue"in e,"Counter"in e,t.vendor.indexOf("Apple")===0,"RGBColor"in e,"WebKitMediaKeys"in e])>=4}function re(){let e=window,{HTMLElement:t,Document:n}=e;return F(["safari"in e,!("ongestureend"in e),!("TouchEvent"in e),!("orientation"in e),t&&!("autocapitalize"in t.prototype),n&&"pointerLockElement"in n.prototype])>=4}function N(){let e=window;return Je(e.print)&&String(e.browser)==="[object WebPageNamespace]"}function ke(){var e,t;let n=window;return F(["buildID"in navigator,"MozAppearance"in((t=(e=document.documentElement)===null||e===void 0?void 0:e.style)!==null&&t!==void 0?t:{}),"onmozfullscreenchange"in n,"mozInnerScreenX"in n,"CSSMozDocumentRule"in n,"CanvasCaptureMediaStream"in n])>=4}function et(){let e=window;return F([!("MediaSettingsRange"in e),"RTCEncodedAudioFrame"in e,""+e.Intl=="[object Intl]",""+e.Reflect=="[object Reflect]"])>=3}function tt(){let e=window,{URLPattern:t}=e;return F(["union"in Set.prototype,"Iterator"in e,t&&"hasRegExpGroups"in t.prototype,"RGB8"in WebGLRenderingContext.prototype])>=3}function nt(){let e=window;return F(["DOMRectList"in e,"RTCPeerConnectionIceEvent"in e,"SVGGeometryElement"in e,"ontransitioncancel"in e])>=3}function H(){let e=window,t=navigator,{CSS:n,HTMLButtonElement:i}=e;return F([!("getStorageUpdates"in t),i&&"popover"in i.prototype,"CSSCounterStyleRule"in e,n.supports("font-size-adjust: ex-height 0.5"),n.supports("text-transform: full-width")])>=4}function it(){if(navigator.platform==="iPad")return!0;let e=screen,t=e.width/e.height;return F(["MediaSource"in window,!!Element.prototype.webkitRequestFullscreen,t>.65&&t<1.53])>=2}function ot(){let e=document;return e.fullscreenElement||e.msFullscreenElement||e.mozFullScreenElement||e.webkitFullscreenElement||null}function rt(){let e=document;return(e.exitFullscreen||e.msExitFullscreen||e.mozCancelFullScreen||e.webkitExitFullscreen).call(e)}function se(){let e=z(),t=ke(),n=window,i=navigator,r="connection";return e?F([!("SharedWorker"in n),i[r]&&"ontypechange"in i[r],!("sinkId"in new Audio)])>=2:t?F(["onorientationchange"in n,"orientation"in n,/android/i.test(i.appVersion)])>=2:!1}function st(){let e=navigator,t=window,n=Audio.prototype,{visualViewport:i}=t;return F(["srLatency"in n,"srChannelCount"in n,"devicePosture"in e,i&&"segments"in i,"getTextInformation"in Image.prototype])>=3}function at(){return ut()?-4:ct()}function ct(){let e=window,t=e.OfflineAudioContext||e.webkitOfflineAudioContext;if(!t)return-2;if(lt())return-1;let n=4500,i=5e3,r=new t(1,i,44100),l=r.createOscillator();l.type="triangle",l.frequency.value=1e4;let s=r.createDynamicsCompressor();s.threshold.value=-50,s.knee.value=40,s.ratio.value=12,s.attack.value=0,s.release.value=.25,l.connect(s),s.connect(r.destination),l.start(0);let[c,h]=dt(r),g=j(c.then(m=>mt(m.getChannelData(0).subarray(n)),m=>{if(m.name==="timeout"||m.name==="suspended")return-3;throw m}));return()=>(h(),g)}function lt(){return I()&&!re()&&!nt()}function ut(){return I()&&H()&&N()||z()&&st()&&tt()}function dt(e){let l=()=>{};return[new Promise((c,h)=>{let g=!1,m=0,o=0;e.oncomplete=u=>c(u.renderedBuffer);let f=()=>{setTimeout(()=>h(de("timeout")),Math.min(500,o+5e3-Date.now()))},a=()=>{try{let u=e.startRendering();switch(Le(u)&&j(u),e.state){case"running":o=Date.now(),g&&f();break;case"suspended":document.hidden||m++,g&&m>=3?h(de("suspended")):setTimeout(a,500);break}}catch(u){h(u)}};a(),l=()=>{g||(g=!0,o>0&&f())}}),l]}function mt(e){let t=0;for(let n=0;n<e.length;++n)t+=Math.abs(e[n]);return t}function de(e){let t=new Error(e);return t.name=e,t}async function Fe(e,t,n=50){var i,r,l;let s=document;for(;!s.body;)await K(n);let c=s.createElement("iframe");try{for(await new Promise((h,g)=>{let m=!1,o=()=>{m=!0,h()},f=d=>{m=!0,g(d)};c.onload=o,c.onerror=f;let{style:a}=c;a.setProperty("display","block","important"),a.position="absolute",a.top="0",a.left="0",a.visibility="hidden",t&&"srcdoc"in c?c.srcdoc=t:c.src="about:blank",s.body.appendChild(c);let u=()=>{var d,p;m||(((p=(d=c.contentWindow)===null||d===void 0?void 0:d.document)===null||p===void 0?void 0:p.readyState)==="complete"?o():setTimeout(u,10))};u()});!(!((r=(i=c.contentWindow)===null||i===void 0?void 0:i.document)===null||r===void 0)&&r.body);)await K(n);return await e(c,c.contentWindow)}finally{(l=c.parentNode)===null||l===void 0||l.removeChild(c)}}function ft(e){let[t,n]=je(e),i=document.createElement(t??"div");for(let r of Object.keys(n)){let l=n[r].join(" ");r==="style"?ht(i.style,l):i.setAttribute(r,l)}return i}function ht(e,t){for(let n of t.split(";")){let i=/^\s*([\w-]+)\s*:\s*(.+?)(\s*!([\w-]+))?\s*$/.exec(n);if(i){let[,r,l,,s]=i;e.setProperty(r,l,s||"")}}}function pt(){let e=window;for(;;){let t=e.parent;if(!t||t===e)return!1;try{if(t.location.origin!==e.location.origin)return!0}catch(n){if(n instanceof Error&&n.name==="SecurityError")return!0;throw n}e=t}}var gt="mmMwWLliI0O&1",yt="48px",Z=["monospace","sans-serif","serif"],me=["sans-serif-thin","ARNO PRO","Agency FB","Arabic Typesetting","Arial Unicode MS","AvantGarde Bk BT","BankGothic Md BT","Batang","Bitstream Vera Sans Mono","Calibri","Century","Century Gothic","Clarendon","EUROSTILE","Franklin Gothic","Futura Bk BT","Futura Md BT","GOTHAM","Gill Sans","HELV","Haettenschweiler","Helvetica Neue","Humanst521 BT","Leelawadee","Letter Gothic","Levenim MT","Lucida Bright","Lucida Sans","Menlo","MS Mincho","MS Outlook","MS Reference Specialty","MS UI Gothic","MT Extra","MYRIAD PRO","Marlett","Meiryo UI","Microsoft Uighur","Minion Pro","Monotype Corsiva","PMingLiU","Pristina","SCRIPTINA","Segoe UI Light","Serifa","SimHei","Small Fonts","Staccato222 BT","TRAJAN PRO","Univers CE 55 Medium","Vrinda","ZWAdobeF"];function wt(){return Fe(async(e,{document:t})=>{let n=t.body;n.style.fontSize=yt;let i=t.createElement("div");i.style.setProperty("visibility","hidden","important");let r={},l={},s=a=>{let u=t.createElement("span"),{style:d}=u;return d.position="absolute",d.top="0",d.left="0",d.fontFamily=a,u.textContent=gt,i.appendChild(u),u},c=(a,u)=>s("'".concat(a,"',").concat(u)),h=()=>Z.map(s),g=()=>{let a={};for(let u of me)a[u]=Z.map(d=>c(u,d));return a},m=a=>Z.some((u,d)=>a[d].offsetWidth!==r[u]||a[d].offsetHeight!==l[u]),o=h(),f=g();n.appendChild(i);for(let a=0;a<Z.length;a++)r[Z[a]]=o[a].offsetWidth,l[Z[a]]=o[a].offsetHeight;return me.filter(a=>m(f[a]))})}function bt(){let e=navigator.plugins;if(!e)return;let t=[];for(let n=0;n<e.length;++n){let i=e[n];if(!i)continue;let r=[];for(let l=0;l<i.length;++l){let s=i[l];r.push({type:s.type,suffixes:s.suffixes})}t.push({name:i.name,description:i.description,mimeTypes:r})}return t}function vt(){return Lt(Ct())}function Lt(e){let t=!1,n,i,[r,l]=xt();return St(r,l)?(t=kt(l),e?n=i="skipped":[n,i]=Ft(r,l)):n=i="unsupported",{winding:t,geometry:n,text:i}}function xt(){let e=document.createElement("canvas");return e.width=1,e.height=1,[e,e.getContext("2d")]}function St(e,t){return!!(t&&e.toDataURL)}function kt(e){return e.rect(0,0,10,10),e.rect(2,2,6,6),!e.isPointInPath(5,5,"evenodd")}function Ft(e,t){Pt(e,t);let n=q(e),i=q(e);return n!==i?["unstable","unstable"]:(Et(e,t),[q(e),n])}function Pt(e,t){e.width=240,e.height=60,t.textBaseline="alphabetic",t.fillStyle="#f60",t.fillRect(100,1,62,20),t.fillStyle="#069",t.font='11pt "Times New Roman"';let n="Cwm fjordbank gly \u{1F603}";t.fillText(n,2,15),t.fillStyle="rgba(102, 204, 0, 0.2)",t.font="18pt Arial",t.fillText(n,4,45)}function Et(e,t){e.width=122,e.height=110,t.globalCompositeOperation="multiply";for(let[n,i,r]of[["#f2f",40,40],["#2ff",80,40],["#ff2",60,80]])t.fillStyle=n,t.beginPath(),t.arc(i,r,40,0,Math.PI*2,!0),t.closePath(),t.fill();t.fillStyle="#f9c",t.arc(60,60,60,0,Math.PI*2,!0),t.arc(60,60,20,0,Math.PI*2,!0),t.fill("evenodd")}function q(e){return e.toDataURL()}function Ct(){return I()&&H()&&N()}function It(){let e=navigator,t=0,n;e.maxTouchPoints!==void 0?t=oe(e.maxTouchPoints):e.msMaxTouchPoints!==void 0&&(t=e.msMaxTouchPoints);try{document.createEvent("TouchEvent"),n=!0}catch{n=!1}let i="ontouchstart"in window;return{maxTouchPoints:t,touchEvent:n,touchStart:i}}function Tt(){return navigator.oscpu}function Mt(){let e=navigator,t=[],n=e.language||e.userLanguage||e.browserLanguage||e.systemLanguage;if(n!==void 0&&t.push([n]),Array.isArray(e.languages))z()&&et()||t.push(e.languages);else if(typeof e.languages=="string"){let i=e.languages;i&&t.push(i.split(","))}return t}function Rt(){return window.screen.colorDepth}function Wt(){return R(C(navigator.deviceMemory),void 0)}function Vt(){if(!(I()&&H()&&N()))return _t()}function _t(){let e=screen,t=i=>R(oe(i),null),n=[t(e.width),t(e.height)];return n.sort().reverse(),n}var At=2500,Zt=10,Q,ee;function Gt(){if(ee!==void 0)return;let e=()=>{let t=ne();ie(t)?ee=setTimeout(e,At):(Q=t,ee=void 0)};e()}function Dt(){return Gt(),async()=>{let e=ne();if(ie(e)){if(Q)return[...Q];ot()&&(await rt(),e=ne())}return ie(e)||(Q=e),e}}function Yt(){if(I()&&H()&&N())return()=>Promise.resolve(void 0);let e=Dt();return async()=>{let t=await e(),n=i=>i===null?null:xe(i,Zt);return[n(t[0]),n(t[1]),n(t[2]),n(t[3])]}}function ne(){let e=screen;return[R(C(e.availTop),null),R(C(e.width)-C(e.availWidth)-R(C(e.availLeft),0),null),R(C(e.height)-C(e.availHeight)-R(C(e.availTop),0),null),R(C(e.availLeft),null)]}function ie(e){for(let t=0;t<4;++t)if(e[t])return!1;return!0}function jt(){return R(oe(navigator.hardwareConcurrency),void 0)}function zt(){var e;let t=(e=window.Intl)===null||e===void 0?void 0:e.DateTimeFormat;if(t){let i=new t().resolvedOptions().timeZone;if(i)return i}let n=-Nt();return"UTC".concat(n>=0?"+":"").concat(n)}function Nt(){let e=new Date().getFullYear();return Math.max(C(new Date(e,0,1).getTimezoneOffset()),C(new Date(e,6,1).getTimezoneOffset()))}function Ht(){try{return!!window.sessionStorage}catch{return!0}}function Xt(){try{return!!window.localStorage}catch{return!0}}function Bt(){if(!(Se()||qe()))try{return!!window.indexedDB}catch{return!0}}function Ot(){return!!window.openDatabase}function $t(){return navigator.cpuClass}function Jt(){let{platform:e}=navigator;return e==="MacIntel"&&I()&&!re()?it()?"iPad":"iPhone":e}function Ut(){return navigator.vendor||""}function Qt(){let e=[];for(let t of["chrome","safari","__crWeb","__gCrWeb","yandex","__yb","__ybro","__firefox__","__edgeTrackingPreventionStatistics","webkit","oprt","samsungAr","ucweb","UCShellJava","puffinDevice"]){let n=window[t];n&&typeof n=="object"&&e.push(t)}return e.sort()}function Kt(){let e=document;try{e.cookie="cookietest=1; SameSite=Strict;";let t=e.cookie.indexOf("cookietest=")!==-1;return e.cookie="cookietest=1; SameSite=Strict; expires=Thu, 01-Jan-1970 00:00:01 GMT",t}catch{return!1}}function qt(){let e=atob;return{abpIndo:["#Iklan-Melayang","#Kolom-Iklan-728","#SidebarIklan-wrapper",'[title="ALIENBOLA" i]',e("I0JveC1CYW5uZXItYWRz")],abpvn:[".quangcao","#mobileCatfish",e("LmNsb3NlLWFkcw=="),'[id^="bn_bottom_fixed_"]',"#pmadv"],adBlockFinland:[".mainostila",e("LnNwb25zb3JpdA=="),".ylamainos",e("YVtocmVmKj0iL2NsaWNrdGhyZ2guYXNwPyJd"),e("YVtocmVmXj0iaHR0cHM6Ly9hcHAucmVhZHBlYWsuY29tL2FkcyJd")],adBlockPersian:["#navbar_notice_50",".kadr",'TABLE[width="140px"]',"#divAgahi",e("YVtocmVmXj0iaHR0cDovL2cxLnYuZndtcm0ubmV0L2FkLyJd")],adBlockWarningRemoval:["#adblock-honeypot",".adblocker-root",".wp_adblock_detect",e("LmhlYWRlci1ibG9ja2VkLWFk"),e("I2FkX2Jsb2NrZXI=")],adGuardAnnoyances:[".hs-sosyal","#cookieconsentdiv",'div[class^="app_gdpr"]',".as-oil",'[data-cypress="soft-push-notification-modal"]'],adGuardBase:[".BetterJsPopOverlay",e("I2FkXzMwMFgyNTA="),e("I2Jhbm5lcmZsb2F0MjI="),e("I2NhbXBhaWduLWJhbm5lcg=="),e("I0FkLUNvbnRlbnQ=")],adGuardChinese:[e("LlppX2FkX2FfSA=="),e("YVtocmVmKj0iLmh0aGJldDM0LmNvbSJd"),"#widget-quan",e("YVtocmVmKj0iLzg0OTkyMDIwLnh5eiJd"),e("YVtocmVmKj0iLjE5NTZobC5jb20vIl0=")],adGuardFrench:["#pavePub",e("LmFkLWRlc2t0b3AtcmVjdGFuZ2xl"),".mobile_adhesion",".widgetadv",e("LmFkc19iYW4=")],adGuardGerman:['aside[data-portal-id="leaderboard"]'],adGuardJapanese:["#kauli_yad_1",e("YVtocmVmXj0iaHR0cDovL2FkMi50cmFmZmljZ2F0ZS5uZXQvIl0="),e("Ll9wb3BJbl9pbmZpbml0ZV9hZA=="),e("LmFkZ29vZ2xl"),e("Ll9faXNib29zdFJldHVybkFk")],adGuardMobile:[e("YW1wLWF1dG8tYWRz"),e("LmFtcF9hZA=="),'amp-embed[type="24smi"]',"#mgid_iframe1",e("I2FkX2ludmlld19hcmVh")],adGuardRussian:[e("YVtocmVmXj0iaHR0cHM6Ly9hZC5sZXRtZWFkcy5jb20vIl0="),e("LnJlY2xhbWE="),'div[id^="smi2adblock"]',e("ZGl2W2lkXj0iQWRGb3hfYmFubmVyXyJd"),"#psyduckpockeball"],adGuardSocial:[e("YVtocmVmXj0iLy93d3cuc3R1bWJsZXVwb24uY29tL3N1Ym1pdD91cmw9Il0="),e("YVtocmVmXj0iLy90ZWxlZ3JhbS5tZS9zaGFyZS91cmw/Il0="),".etsy-tweet","#inlineShare",".popup-social"],adGuardSpanishPortuguese:["#barraPublicidade","#Publicidade","#publiEspecial","#queTooltip",".cnt-publi"],adGuardTrackingProtection:["#qoo-counter",e("YVtocmVmXj0iaHR0cDovL2NsaWNrLmhvdGxvZy5ydS8iXQ=="),e("YVtocmVmXj0iaHR0cDovL2hpdGNvdW50ZXIucnUvdG9wL3N0YXQucGhwIl0="),e("YVtocmVmXj0iaHR0cDovL3RvcC5tYWlsLnJ1L2p1bXAiXQ=="),"#top100counter"],adGuardTurkish:["#backkapat",e("I3Jla2xhbWk="),e("YVtocmVmXj0iaHR0cDovL2Fkc2Vydi5vbnRlay5jb20udHIvIl0="),e("YVtocmVmXj0iaHR0cDovL2l6bGVuemkuY29tL2NhbXBhaWduLyJd"),e("YVtocmVmXj0iaHR0cDovL3d3dy5pbnN0YWxsYWRzLm5ldC8iXQ==")],bulgarian:[e("dGQjZnJlZW5ldF90YWJsZV9hZHM="),"#ea_intext_div",".lapni-pop-over","#xenium_hot_offers"],easyList:[".yb-floorad",e("LndpZGdldF9wb19hZHNfd2lkZ2V0"),e("LnRyYWZmaWNqdW5reS1hZA=="),".textad_headline",e("LnNwb25zb3JlZC10ZXh0LWxpbmtz")],easyListChina:[e("LmFwcGd1aWRlLXdyYXBbb25jbGljayo9ImJjZWJvcy5jb20iXQ=="),e("LmZyb250cGFnZUFkdk0="),"#taotaole","#aafoot.top_box",".cfa_popup"],easyListCookie:[".ezmob-footer",".cc-CookieWarning","[data-cookie-number]",e("LmF3LWNvb2tpZS1iYW5uZXI="),".sygnal24-gdpr-modal-wrap"],easyListCzechSlovak:["#onlajny-stickers",e("I3Jla2xhbW5pLWJveA=="),e("LnJla2xhbWEtbWVnYWJvYXJk"),".sklik",e("W2lkXj0ic2tsaWtSZWtsYW1hIl0=")],easyListDutch:[e("I2FkdmVydGVudGll"),e("I3ZpcEFkbWFya3RCYW5uZXJCbG9jaw=="),".adstekst",e("YVtocmVmXj0iaHR0cHM6Ly94bHR1YmUubmwvY2xpY2svIl0="),"#semilo-lrectangle"],easyListGermany:["#SSpotIMPopSlider",e("LnNwb25zb3JsaW5rZ3J1ZW4="),e("I3dlcmJ1bmdza3k="),e("I3Jla2xhbWUtcmVjaHRzLW1pdHRl"),e("YVtocmVmXj0iaHR0cHM6Ly9iZDc0Mi5jb20vIl0=")],easyListItaly:[e("LmJveF9hZHZfYW5udW5jaQ=="),".sb-box-pubbliredazionale",e("YVtocmVmXj0iaHR0cDovL2FmZmlsaWF6aW9uaWFkcy5zbmFpLml0LyJd"),e("YVtocmVmXj0iaHR0cHM6Ly9hZHNlcnZlci5odG1sLml0LyJd"),e("YVtocmVmXj0iaHR0cHM6Ly9hZmZpbGlhemlvbmlhZHMuc25haS5pdC8iXQ==")],easyListLithuania:[e("LnJla2xhbW9zX3RhcnBhcw=="),e("LnJla2xhbW9zX251b3JvZG9z"),e("aW1nW2FsdD0iUmVrbGFtaW5pcyBza3lkZWxpcyJd"),e("aW1nW2FsdD0iRGVkaWt1b3RpLmx0IHNlcnZlcmlhaSJd"),e("aW1nW2FsdD0iSG9zdGluZ2FzIFNlcnZlcmlhaS5sdCJd")],estonian:[e("QVtocmVmKj0iaHR0cDovL3BheTRyZXN1bHRzMjQuZXUiXQ==")],fanboyAnnoyances:["#ac-lre-player",".navigate-to-top","#subscribe_popup",".newsletter_holder","#back-top"],fanboyAntiFacebook:[".util-bar-module-firefly-visible"],fanboyEnhancedTrackers:[".open.pushModal","#issuem-leaky-paywall-articles-zero-remaining-nag","#sovrn_container",'div[class$="-hide"][zoompage-fontsize][style="display: block;"]',".BlockNag__Card"],fanboySocial:["#FollowUs","#meteored_share","#social_follow",".article-sharer",".community__social-desc"],frellwitSwedish:[e("YVtocmVmKj0iY2FzaW5vcHJvLnNlIl1bdGFyZ2V0PSJfYmxhbmsiXQ=="),e("YVtocmVmKj0iZG9rdG9yLXNlLm9uZWxpbmsubWUiXQ=="),"article.category-samarbete",e("ZGl2LmhvbGlkQWRz"),"ul.adsmodern"],greekAdBlock:[e("QVtocmVmKj0iYWRtYW4ub3RlbmV0LmdyL2NsaWNrPyJd"),e("QVtocmVmKj0iaHR0cDovL2F4aWFiYW5uZXJzLmV4b2R1cy5nci8iXQ=="),e("QVtocmVmKj0iaHR0cDovL2ludGVyYWN0aXZlLmZvcnRobmV0LmdyL2NsaWNrPyJd"),"DIV.agores300","TABLE.advright"],hungarian:["#cemp_doboz",".optimonk-iframe-container",e("LmFkX19tYWlu"),e("W2NsYXNzKj0iR29vZ2xlQWRzIl0="),"#hirdetesek_box"],iDontCareAboutCookies:['.alert-info[data-block-track*="CookieNotice"]',".ModuleTemplateCookieIndicator",".o--cookies--container","#cookies-policy-sticky","#stickyCookieBar"],icelandicAbp:[e("QVtocmVmXj0iL2ZyYW1ld29yay9yZXNvdXJjZXMvZm9ybXMvYWRzLmFzcHgiXQ==")],latvian:[e("YVtocmVmPSJodHRwOi8vd3d3LnNhbGlkemluaS5sdi8iXVtzdHlsZT0iZGlzcGxheTogYmxvY2s7IHdpZHRoOiAxMjBweDsgaGVpZ2h0OiA0MHB4OyBvdmVyZmxvdzogaGlkZGVuOyBwb3NpdGlvbjogcmVsYXRpdmU7Il0="),e("YVtocmVmPSJodHRwOi8vd3d3LnNhbGlkemluaS5sdi8iXVtzdHlsZT0iZGlzcGxheTogYmxvY2s7IHdpZHRoOiA4OHB4OyBoZWlnaHQ6IDMxcHg7IG92ZXJmbG93OiBoaWRkZW47IHBvc2l0aW9uOiByZWxhdGl2ZTsiXQ==")],listKr:[e("YVtocmVmKj0iLy9hZC5wbGFuYnBsdXMuY28ua3IvIl0="),e("I2xpdmVyZUFkV3JhcHBlcg=="),e("YVtocmVmKj0iLy9hZHYuaW1hZHJlcC5jby5rci8iXQ=="),e("aW5zLmZhc3R2aWV3LWFk"),".revenue_unit_item.dable"],listeAr:[e("LmdlbWluaUxCMUFk"),".right-and-left-sponsers",e("YVtocmVmKj0iLmFmbGFtLmluZm8iXQ=="),e("YVtocmVmKj0iYm9vcmFxLm9yZyJd"),e("YVtocmVmKj0iZHViaXp6bGUuY29tL2FyLz91dG1fc291cmNlPSJd")],listeFr:[e("YVtocmVmXj0iaHR0cDovL3Byb21vLnZhZG9yLmNvbS8iXQ=="),e("I2FkY29udGFpbmVyX3JlY2hlcmNoZQ=="),e("YVtocmVmKj0id2Vib3JhbWEuZnIvZmNnaS1iaW4vIl0="),".site-pub-interstitiel",'div[id^="crt-"][data-criteo-id]'],officialPolish:["#ceneo-placeholder-ceneo-12",e("W2hyZWZePSJodHRwczovL2FmZi5zZW5kaHViLnBsLyJd"),e("YVtocmVmXj0iaHR0cDovL2Fkdm1hbmFnZXIudGVjaGZ1bi5wbC9yZWRpcmVjdC8iXQ=="),e("YVtocmVmXj0iaHR0cDovL3d3dy50cml6ZXIucGwvP3V0bV9zb3VyY2UiXQ=="),e("ZGl2I3NrYXBpZWNfYWQ=")],ro:[e("YVtocmVmXj0iLy9hZmZ0cmsuYWx0ZXgucm8vQ291bnRlci9DbGljayJd"),e("YVtocmVmXj0iaHR0cHM6Ly9ibGFja2ZyaWRheXNhbGVzLnJvL3Ryay9zaG9wLyJd"),e("YVtocmVmXj0iaHR0cHM6Ly9ldmVudC4ycGVyZm9ybWFudC5jb20vZXZlbnRzL2NsaWNrIl0="),e("YVtocmVmXj0iaHR0cHM6Ly9sLnByb2ZpdHNoYXJlLnJvLyJd"),'a[href^="/url/"]'],ruAd:[e("YVtocmVmKj0iLy9mZWJyYXJlLnJ1LyJd"),e("YVtocmVmKj0iLy91dGltZy5ydS8iXQ=="),e("YVtocmVmKj0iOi8vY2hpa2lkaWtpLnJ1Il0="),"#pgeldiz",".yandex-rtb-block"],thaiAds:["a[href*=macau-uta-popup]",e("I2Fkcy1nb29nbGUtbWlkZGxlX3JlY3RhbmdsZS1ncm91cA=="),e("LmFkczMwMHM="),".bumq",".img-kosana"],webAnnoyancesUltralist:["#mod-social-share-2","#social-tools",e("LmN0cGwtZnVsbGJhbm5lcg=="),".zergnet-recommend",".yt.btn-link.btn-md.btn"]}}async function en({debug:e}={}){if(!tn())return;let t=qt(),n=Object.keys(t),i=[].concat(...n.map(s=>t[s])),r=await nn(i);e&&on(t,r);let l=n.filter(s=>{let c=t[s];return F(c.map(g=>r[g]))>c.length*.6});return l.sort(),l}function tn(){return I()||se()}async function nn(e){var t;let n=document,i=n.createElement("div"),r=new Array(e.length),l={};fe(i);for(let s=0;s<e.length;++s){let c=ft(e[s]);c.tagName==="DIALOG"&&c.show();let h=n.createElement("div");fe(h),h.appendChild(c),i.appendChild(h),r[s]=c}for(;!n.body;)await K(50);n.body.appendChild(i);try{for(let s=0;s<e.length;++s)r[s].offsetParent||(l[e[s]]=!0)}finally{(t=i.parentNode)===null||t===void 0||t.removeChild(i)}return l}function fe(e){e.style.setProperty("visibility","hidden","important"),e.style.setProperty("display","block","important")}function on(e,t){let n="DOM blockers debug:\n```";for(let i of Object.keys(e)){n+="\n".concat(i,":");for(let r of e[i])n+="\n  ".concat(t[r]?"\u{1F6AB}":"\u27A1\uFE0F"," ").concat(r)}console.log("".concat(n,"\n```"))}function rn(){for(let e of["rec2020","p3","srgb"])if(matchMedia("(color-gamut: ".concat(e,")")).matches)return e}function sn(){if(he("inverted"))return!0;if(he("none"))return!1}function he(e){return matchMedia("(inverted-colors: ".concat(e,")")).matches}function an(){if(pe("active"))return!0;if(pe("none"))return!1}function pe(e){return matchMedia("(forced-colors: ".concat(e,")")).matches}var cn=100;function ln(){if(matchMedia("(min-monochrome: 0)").matches){for(let e=0;e<=cn;++e)if(matchMedia("(max-monochrome: ".concat(e,")")).matches)return e;throw new Error("Too high value")}}function un(){if(G("no-preference"))return 0;if(G("high")||G("more"))return 1;if(G("low")||G("less"))return-1;if(G("forced"))return 10}function G(e){return matchMedia("(prefers-contrast: ".concat(e,")")).matches}function dn(){if(ge("reduce"))return!0;if(ge("no-preference"))return!1}function ge(e){return matchMedia("(prefers-reduced-motion: ".concat(e,")")).matches}function mn(){if(ye("reduce"))return!0;if(ye("no-preference"))return!1}function ye(e){return matchMedia("(prefers-reduced-transparency: ".concat(e,")")).matches}function fn(){if(we("high"))return!0;if(we("standard"))return!1}function we(e){return matchMedia("(dynamic-range: ".concat(e,")")).matches}var b=Math,k=()=>0;function hn(){let e=b.acos||k,t=b.acosh||k,n=b.asin||k,i=b.asinh||k,r=b.atanh||k,l=b.atan||k,s=b.sin||k,c=b.sinh||k,h=b.cos||k,g=b.cosh||k,m=b.tan||k,o=b.tanh||k,f=b.exp||k,a=b.expm1||k,u=b.log1p||k,d=y=>b.pow(b.PI,y),p=y=>b.log(y+b.sqrt(y*y-1)),X=y=>b.log(y+b.sqrt(y*y+1)),B=y=>b.log((1+y)/(1-y))/2,O=y=>b.exp(y)-1/b.exp(y)/2,$=y=>(b.exp(y)+1/b.exp(y))/2,v=y=>b.exp(y)-1,w=y=>(b.exp(2*y)-1)/(b.exp(2*y)+1),x=y=>b.log(1+y);return{acos:e(.12312423423423424),acosh:t(1e308),acoshPf:p(1e154),asin:n(.12312423423423424),asinh:i(1),asinhPf:X(1),atanh:r(.5),atanhPf:B(.5),atan:l(.5),sin:s(-1e300),sinh:c(1),sinhPf:O(1),cos:h(10.000000000123),cosh:g(1),coshPf:$(1),tan:m(-1e300),tanh:o(1),tanhPf:w(1),exp:f(1),expm1:a(1),expm1Pf:v(1),log1p:u(10),log1pPf:x(10),powPI:d(-100)}}var pn="mmMwWLliI0fiflO&1",te={default:[],apple:[{font:"-apple-system-body"}],serif:[{fontFamily:"serif"}],sans:[{fontFamily:"sans-serif"}],mono:[{fontFamily:"monospace"}],min:[{fontSize:"1px"}],system:[{fontFamily:"system-ui"}]};function gn(){return yn((e,t)=>{let n={},i={};for(let r of Object.keys(te)){let[l={},s=pn]=te[r],c=e.createElement("span");c.textContent=s,c.style.whiteSpace="nowrap";for(let h of Object.keys(l)){let g=l[h];g!==void 0&&(c.style[h]=g)}n[r]=c,t.append(e.createElement("br"),c)}for(let r of Object.keys(te))i[r]=n[r].getBoundingClientRect().width;return i})}function yn(e,t=4e3){return Fe((n,i)=>{let r=i.document,l=r.body,s=l.style;s.width="".concat(t,"px"),s.webkitTextSizeAdjust=s.textSizeAdjust="none",z()?l.style.zoom="".concat(1/i.devicePixelRatio):I()&&(l.style.zoom="reset");let c=r.createElement("div");return c.textContent=[...Array(t/20<<0)].map(()=>"word").join(" "),l.appendChild(c),e(r,l)},'<!doctype html><html><head><meta name="viewport" content="width=device-width, initial-scale=1">')}function wn(){return navigator.pdfViewerEnabled}function bn(){let e=new Float32Array(1),t=new Uint8Array(e.buffer);return e[0]=1/0,e[0]=e[0]-e[0],t[3]}function vn(){let{ApplePaySession:e}=window;if(typeof e?.canMakePayments!="function")return-1;if(Ln())return-3;try{return e.canMakePayments()?1:0}catch(t){return xn(t)}}var Ln=pt;function xn(e){if(e instanceof Error&&e.name==="InvalidAccessError"&&/\bfrom\b.*\binsecure\b/i.test(e.message))return-2;throw e}function Sn(){var e;let t=document.createElement("a"),n=(e=t.attributionSourceId)!==null&&e!==void 0?e:t.attributionsourceid;return n===void 0?void 0:String(n)}var Pe=-1,Ee=-2,kn=new Set([10752,2849,2884,2885,2886,2928,2929,2930,2931,2932,2960,2961,2962,2963,2964,2965,2966,2967,2968,2978,3024,3042,3088,3089,3106,3107,32773,32777,32777,32823,32824,32936,32937,32938,32939,32968,32969,32970,32971,3317,33170,3333,3379,3386,33901,33902,34016,34024,34076,3408,3410,3411,3412,3413,3414,3415,34467,34816,34817,34818,34819,34877,34921,34930,35660,35661,35724,35738,35739,36003,36004,36005,36347,36348,36349,37440,37441,37443,7936,7937,7938]),Fn=new Set([34047,35723,36063,34852,34853,34854,34229,36392,36795,38449]),Pn=["FRAGMENT_SHADER","VERTEX_SHADER"],En=["LOW_FLOAT","MEDIUM_FLOAT","HIGH_FLOAT","LOW_INT","MEDIUM_INT","HIGH_INT"],Ce="WEBGL_debug_renderer_info",Cn="WEBGL_polygon_mode";function In({cache:e}){var t,n,i,r,l,s;let c=Ie(e);if(!c)return Pe;if(!Me(c))return Ee;let h=Te()?null:c.getExtension(Ce);return{version:((t=c.getParameter(c.VERSION))===null||t===void 0?void 0:t.toString())||"",vendor:((n=c.getParameter(c.VENDOR))===null||n===void 0?void 0:n.toString())||"",vendorUnmasked:h?(i=c.getParameter(h.UNMASKED_VENDOR_WEBGL))===null||i===void 0?void 0:i.toString():"",renderer:((r=c.getParameter(c.RENDERER))===null||r===void 0?void 0:r.toString())||"",rendererUnmasked:h?(l=c.getParameter(h.UNMASKED_RENDERER_WEBGL))===null||l===void 0?void 0:l.toString():"",shadingLanguageVersion:((s=c.getParameter(c.SHADING_LANGUAGE_VERSION))===null||s===void 0?void 0:s.toString())||""}}function Tn({cache:e}){let t=Ie(e);if(!t)return Pe;if(!Me(t))return Ee;let n=t.getSupportedExtensions(),i=t.getContextAttributes(),r=[],l=[],s=[],c=[],h=[];if(i)for(let m of Object.keys(i))l.push("".concat(m,"=").concat(i[m]));let g=be(t);for(let m of g){let o=t[m];s.push("".concat(m,"=").concat(o).concat(kn.has(o)?"=".concat(t.getParameter(o)):""))}if(n)for(let m of n){if(m===Ce&&Te()||m===Cn&&Wn())continue;let o=t.getExtension(m);if(!o){r.push(m);continue}for(let f of be(o)){let a=o[f];c.push("".concat(f,"=").concat(a).concat(Fn.has(a)?"=".concat(t.getParameter(a)):""))}}for(let m of Pn)for(let o of En){let f=Mn(t,m,o);h.push("".concat(m,".").concat(o,"=").concat(f.join(",")))}return c.sort(),s.sort(),{contextAttributes:l,parameters:s,shaderPrecisions:h,extensions:n,extensionParameters:c,unsupportedExtensions:r}}function Ie(e){if(e.webgl)return e.webgl.context;let t=document.createElement("canvas"),n;t.addEventListener("webglCreateContextError",()=>n=void 0);for(let i of["webgl","experimental-webgl"]){try{n=t.getContext(i)}catch{}if(n)break}return e.webgl={context:n},n}function Mn(e,t,n){let i=e.getShaderPrecisionFormat(e[t],e[n]);return i?[i.rangeMin,i.rangeMax,i.precision]:[]}function be(e){return Object.keys(e.__proto__).filter(Rn)}function Rn(e){return typeof e=="string"&&!e.match(/[^A-Z0-9_x]/)}function Te(){return ke()}function Wn(){return z()||I()}function Me(e){return typeof e.getParameter=="function"}function Vn(){if(!(se()||I()))return-2;if(!window.AudioContext)return-1;let t=new AudioContext().baseLatency;return t==null?-1:isFinite(t)?t:-3}function _n(){if(!window.Intl)return-1;let e=window.Intl.DateTimeFormat;if(!e)return-2;let t=e().resolvedOptions().locale;return!t&&t!==""?-3:t}var An={fonts:wt,domBlockers:en,fontPreferences:gn,audio:at,screenFrame:Yt,canvas:vt,osCpu:Tt,languages:Mt,colorDepth:Rt,deviceMemory:Wt,screenResolution:Vt,hardwareConcurrency:jt,timezone:zt,sessionStorage:Ht,localStorage:Xt,indexedDB:Bt,openDatabase:Ot,cpuClass:$t,platform:Jt,plugins:bt,touchSupport:It,vendor:Ut,vendorFlavors:Qt,cookiesEnabled:Kt,colorGamut:rn,invertedColors:sn,forcedColors:an,monochrome:ln,contrast:un,reducedMotion:dn,reducedTransparency:mn,hdr:fn,math:hn,pdfViewerEnabled:wn,architecture:bn,applePay:vn,privateClickMeasurement:Sn,audioBaseLatency:Vn,dateTimeLocale:_n,webGlBasics:In,webGlExtensions:Tn};function Zn(e){return Ke(An,e,[])}var Gn="$ if upgrade to Pro: https://fpjs.dev/pro";function Dn(e){let t=Yn(e),n=jn(t);return{score:t,comment:Gn.replace(/\$/g,"".concat(n))}}function Yn(e){if(se())return .4;if(I())return re()&&!(H()&&N())?.5:.3;let t="value"in e.platform?e.platform.value:"";return/^Win/.test(t)?.6:/^Mac/.test(t)?.5:.7}function jn(e){return xe(.99+.01*e,1e-4)}function zn(e){let t="";for(let n of Object.keys(e).sort()){let i=e[n],r="error"in i?"error":JSON.stringify(i.value);t+="".concat(t?"|":"").concat(n.replace(/([:|\\])/g,"\\$1"),":").concat(r)}return t}function Re(e){return JSON.stringify(e,(t,n)=>n instanceof Error?$e(n):n,2)}function We(e){return Oe(zn(e))}function Nn(e){let t,n=Dn(e);return{get visitorId(){return t===void 0&&(t=We(this.components)),t},set visitorId(i){t=i},confidence:n,components:e,version:ve}}function Hn(e=50){return Ge(e,e*2)}function Xn(e,t){let n=Date.now();return{async get(i){let r=Date.now(),l=await e(),s=Nn(l);return(t||i?.debug)&&console.log("Copy the text below to get the debug data:\n\n```\nversion: ".concat(s.version,"\nuserAgent: ").concat(navigator.userAgent,"\ntimeBetweenLoadAndGet: ").concat(r-n,"\nvisitorId: ").concat(s.visitorId,"\ncomponents: ").concat(Re(l),"\n```")),s}}}function Bn(){if(!(window.__fpjs_d_m||Math.random()>=.001))try{let e=new XMLHttpRequest;e.open("get","https://m1.openfpcdn.io/fingerprintjs/v".concat(ve,"/npm-monitoring"),!0),e.send()}catch(e){console.error(e)}}async function On(e={}){var t;(!((t=e.monitoring)!==null&&t!==void 0)||t)&&Bn();let{delayFallback:n,debug:i}=e;await Hn(n);let r=Zn({cache:{},debug:i});return Xn(r,i)}var Ve={load:On,hashComponents:We,componentsToDebugString:Re};({API_ENDPOINT:"https://images.action.quebec",secrets:null,options:null,parent:null,container:null,selorg:null,seltype:null,imagegroup:null,imageL:null,imageR:null,image:null,frameL:null,frameR:null,btngroup:null,uploadbtn:null,browsebtn:null,results:null,copybtn:null,browse2btn:null,links:null,splash:null,splashdnd:null,screenpass:null,fingerprint:null,passform:null,passinput:null,passtry:0,loader:null,notif:null,init:async function(){let e=this.loadOptions();await Promise.all([this.loadSecrets(),this.loadFingerprint(),documentReady(()=>this.initUI(e))]),sessionStorage.getItem(this.fingerprint)!=md5("".concat(this.secrets.SERVICE_PWD,":").concat(this.fingerprint))&&this.screenpass.classList.add("show"),this.container.replaceChildren(this.imagegroup,this.btngroup,this.results,this.splash,this.loader,this.screenpass),this.parent.replaceWith(this.container),this.screenpass.classList.contains("show")&&this.passinput.focus()},initUI:async function(e){this.parent=document.querySelector("service-image"),this.container=create("div","croper"),this.imagegroup=create("div","croper__images");let t=this.imagegroup.create("div","croper__images__options");this.selorg=t.create("select"),this.selorg.required=!0,this.selorg.create("option",null,"-- Organisation --").value="",this.selorg.addEventListener("change",()=>this.changeSel()),this.seltype=t.create("select"),this.seltype.required=!0,this.seltype.create("option",null,"-- Type --").value="",this.seltype.addEventListener("change",()=>this.changeSel()),this.image=create("img"),this.imageL=this.imagegroup.create("div","croper__images__box box--2-3"),this.imageR=this.imagegroup.create("div","croper__images__box box--5-4"),this.imageL.title="Utilisez la molette pour zoomer",this.imageR.title="Utilisez la molette pour zoomer",this.btngroup=create("div","croper__button"),this.uploadbtn=this.btngroup.create("button",null,"T\xE9l\xE9verser"),this.uploadbtn.addEventListener("click",()=>this.uploadFiles()),this.browsebtn=this.btngroup.create("button",null,"Parcourir"),this.browsebtn.addEventListener("click",()=>this.browseFile()),this.results=create("div","croper__results"),this.results.create("div","croper__results__winner").title="Tu veux-tu une m\xE9daille?",this.results.create("div","croper__results__congrats","F\xE9licitations!"),this.results.create("div","croper__results__text","Image t\xE9l\xE9vers\xE9e avec succ\xE8s. Il ne reste qu\u2019\xE0 copier les liens et les coller dans la description de votre \xE9v\xE9nement.");let n=this.results.create("div","croper__results__btn");this.copybtn=n.create("button","croper__results__copy","Copier les liens"),this.copybtn.addEventListener("click",()=>this.copyLinks()),this.browse2btn=n.create("button","croper__results__browse","Parcourir"),this.browse2btn.addEventListener("click",()=>this.browseFile()),this.splash=create("div","croper__splash show","Glissez-d\xE9posez votre image ici ou<br> cliquez ici pour choisir un fichier."),this.splash.addEventListener("click",()=>this.browseFile()),this.splashdnd=new D(this.splash,{onFileDrop:r=>this.drop(r)}),this.loader=create("div","croper__loader"),this.loader.create("div","loading-double-circular"),this.screenpass=create("div","screenpass");let i=this.screenpass.create("div",null,"<div>Entrez votre mot de passe:</div>");this.passform=i.create("form"),this.passinput=this.passform.create("input",null,null,{name:"password",type:"password",autocomplete:!0}),this.passform.create("input",null,null,{type:"submit",value:"Soumettre"}),this.passform.addEventListener("submit",r=>this.verifyPassword(r)),this.frameL=new _(this.imageL,"2/3"),this.frameR=new _(this.imageR,"5:4"),this.notif=new Y,await e,this.options.organisations.forEach(r=>this.selorg.create("option",null,r.name).value=r.slug),this.options.types.forEach(r=>this.seltype.create("option",null,r.name).value=r.slug),this.selorg.value=localStorage.getItem("selorg")??"",this.seltype.value=localStorage.getItem("seltype")??"",this.changeSel()},loadSecrets:async function(){this.secrets=await SECRETS},loadFingerprint:async function(){let e=await Ve.load();this.fingerprint=(await e.get()).visitorId},loadOptions:async function(){let e=await fetch("https://action.quebec/options.json");this.options=await e.json()},busy:async function(e){document.documentElement.classList.add("is-busy");let t=await Promise.allSettled(typeof e=="array"?e:[e]);return document.documentElement.classList.remove("is-busy"),typeof e=="array"?t:t[0]},working:async function(e){document.documentElement.classList.add("is-working");let t=await Promise.allSettled(typeof e=="array"?e:[e]);return document.documentElement.classList.remove("is-working"),typeof e=="array"?t:t[0]},changeSel:async function(){this.uploadbtn.disabled=!(this.selorg.value&&this.seltype.value),localStorage.setItem("selorg",this.selorg.value),localStorage.setItem("seltype",this.seltype.value)},verifyPassword:function(e){if(e.preventDefault(),e.stopPropagation(),md5(this.passinput.value)!=this.secrets.SERVICE_PWD){if(this.passtry>=2)return document.location.href="https://action.quebec/";this.notif.error("Mot de passe invalide"),this.passinput.value="",this.passinput.focus(),this.passtry++}else sessionStorage.setItem(this.fingerprint,md5("".concat(this.secrets.SERVICE_PWD,":").concat(this.fingerprint))),this.notif.thumbsUp("Mot de passe accept\xE9"),this.screenpass.classList.remove("show")},handleFile:function(e){return new Promise((t,n)=>{e.type.startsWith("image/")&&e.size<=5242880?t(this.loadImage(e)):n("Fichier rejet\xE9")})},browseFile:async function(){browse("image/*").then(async e=>{await this.handleFile(e)}).catch(e=>this.notif.error("Fichier rejet\xE9"))},drop:function(e){this.handleFile(e).catch(t=>this.notif.error(t))},loadImage:async function(e){this.image.src=URL.createObjectURL(e),await Promise.all([this.frameL.loadImage(e),this.frameR.loadImage(e)]),this.splash.classList.remove("show"),this.results.classList.remove("show")},uploadFiles:async function(){return this.busy(new Promise(async(e,t)=>{await new Promise(requestAnimationFrame),this.loader.classList.add("show");try{this.links=await Promise.all([this.uploadBlob(this.exportBlob(640)),this.uploadBlob(this.frameR.exportBlob(140)),this.uploadBlob(this.frameL.exportBlob(280)),this.uploadBlob(this.exportBlob(1200,630))]),await sleep(2e3),await new Promise(requestAnimationFrame),this.results.classList.add("show"),this.loader.classList.remove("show"),e()}catch{await sleep(1e3),await new Promise(requestAnimationFrame),this.loader.classList.remove("show"),this.notif.error("\xC9chec de t\xE9l\xE9versement"),t()}}))},exportBlob:async function(e,t){let n=this.image.naturalWidth,i=this.image.naturalHeight;t||(t=Math.round(e*i/n));let r=document.createElement("canvas");r.width=e,r.height=t;let l=r.getContext("2d",{alpha:!0});l.imageSmoothingEnabled=!0,l.imageSmoothingQuality="high";let s=e/t,c=n/i,h=0,g=0,m=n,o=i;return c>s?(m=Math.round(i*s),h=Math.round((n-m)/2)):c<s&&(o=Math.round(n/s),g=Math.round((i-o)/2)),l.drawImage(this.image,h,g,m,o,0,0,e,t),new Promise((f,a)=>r.toBlob(u=>u?f(u):a(new Error("toBlob() a \xE9chou\xE9")),"image/webp",.92))},uploadBlob:async function(e){let t=new FormData;t.append("image",new File([await e],"image.webp",{type:"image/webp"}));let n={headers:{Authorization:"Bearer ".concat(this.secrets.IMAGE_API_KEY)},method:"POST",body:t},i=await fetch(this.API_ENDPOINT,n),r=(await i.text()).trim();if(!i.ok||!/^https?:\/\//i.test(r))throw new Error(r||"T\xE9l\xE9versement \xE9chou\xE9");return r},copyLinks:function(){this.copyLabeledLinks([{label:"image-couverture",url:this.links[0]},{label:"image-calendrier",url:this.links[1]},{label:"image-carte",url:this.links[2]},{label:"image-scraper",url:this.links[3]}],[{label:"organisation",value:this.selorg.value},{label:"type",value:this.seltype.value}]).then(()=>this.notif.thumbsUp("Liens copi\xE9s!"))},copyLabeledLinks:function(e,t){let n=l=>l.replace(/[&<>"']/g,s=>({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"})[s]),i=t.map(({label:l,value:s})=>"@".concat(l,": ").concat(s)).join("<br>")+"<br>",r=t.map(({label:l,value:s})=>"@".concat(l,": ").concat(s)).join("\n")+"\n";return i+=e.map(({label:l,url:s})=>'<a href="'.concat(n(s),'">').concat(n(l),"</a>")).join("<br>"),r+=e.map(({label:l,url:s})=>"".concat(l," \u2014 ").concat(s)).join("\n")+"\n",i+="<p>Plus de d\xE9tails \xE0 venir...</p>",navigator.clipboard.write([new ClipboardItem({"text/html":new Blob(["<p>"+i+"</p>"],{type:"text/html"}),"text/plain":new Blob([r],{type:"text/plain"})})])}}).init();})();
