@use 'sass:color';


$light-bg: #e3ebff;
$dark-bg:  #192641;




$light-bg-alpha: color.adjust($light-bg, $alpha: -0.7);
$dark-bg-alpha:  color.adjust($dark-bg, $alpha: -0.7);


// ===>>> Thème Light
@mixin theme-light {
	--theme: light;
	
	--bg: #{$light-bg};
	--bg-alpha: #{$light-bg-alpha};
	--fg: #0f172a;
	--border: #e2e8f0;

	--sky-color: #c2eafa;
	--sky-image: url(../images/ciel-jour.webp);

}


// ===>>> Thème Dark
@mixin theme-dark {
	color-scheme: dark;
	--theme: dark;

	--bg: #{$dark-bg};
	--bg-alpha: #{$dark-bg-alpha};
	
	--fg:#e5e7eb;
	--border:#1f2937;

	--sky-color: #{$dark-bg};
	--sky-image: url(../images/ciel-nuit.webp);

	.lightswitch::before {
		background-color: White;
		transform: rotate(-45deg);
		clip-path: var(--moon-path);
		-webkit-clip-path: var(--moon-path);
	}


}


// ===>>> Thème par défaut
:root {
	@include theme-light;
}


// ===>>> Thème Dark
html[data-theme="dark"] {
	@include theme-dark;
}


// ===>>> Thème Auto
@media (prefers-color-scheme: dark) {
	html[data-theme="auto"] {
		@include theme-dark;
	}
}


// ===>>> Lightswitch
.lightswitch {
	--toggle-size: 55px;
	--scheme-transition-duration: 500ms;
	--sun-path: path("M55 27.5C55 42.6878 42.6878 55 27.5 55C12.3122 55 0 42.6878 0 27.5C0 12.3122 12.3122 0 27.5 0C42.6878 0 55 12.3122 55 27.5Z");
	--moon-path: path("M17.5 28C17.5 43.1878 28.5681 55.5 27.5 55.5C12.3122 55.5 0 43.1878 0 28C0 12.8122 12.3122 0.5 27.5 0.5C27.5 0.5 17.5 12.8122 17.5 28Z");

	position: fixed;
	width: calc(var(--toggle-size) * 2);
	height: var(--toggle-size);
	background-color: Grey;
	border-radius: calc(var(--toggle-size) / 2);
	top: 10px;
	right: 10px;
	
	transform: scale(0.5);
	transform-origin: top right;
	box-sizing: content-box;
	border: 4px solid Grey;
	cursor: pointer;

	&::before {
		content: '';
		position: absolute;
		width: var(--toggle-size);
		height: var(--toggle-size);
		background-color: GoldenRod;
		transform: translateX(100%);
		clip-path: var(--sun-path);
		-webkit-clip-path: var(--sun-path);
		transition-property: clip-path -webkit-clip-path transform background-color;
		transition-duration: var(--scheme-transition-duration);
	}
}
