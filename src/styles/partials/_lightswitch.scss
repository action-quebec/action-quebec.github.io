@use 'sass:color';
@use 'sass:string';

$accent: #f9d71c;

$light-fg: #0f172a;
$light-bg: #e3ebff;
$light-bg-alpha: color.adjust($light-bg, $alpha: -0.7);
$light-fg-hex: string.unquote('#{string.slice(ie-hex-str($light-fg), 4)}');

$light-cal-text: $light-fg;
$light-cal-text-alpha: color.adjust($light-cal-text, $alpha: -0.5);
$light-cal-border: color.adjust($light-cal-text, $alpha: -0.8);


$dark-fg: #e5e7eb;
$dark-bg:  #192641;
$dark-bg-alpha:  color.adjust($dark-bg, $alpha: -0.7);
$dark-fg-hex: string.unquote('#{string.slice(ie-hex-str($dark-fg), 4)}');

$dark-cal-text: $dark-fg;
$dark-cal-text-alpha: color.adjust($dark-cal-text, $alpha: -0.5);
$dark-cal-border: color.adjust($dark-cal-text, $alpha: -0.8);


// ===>>> Thème Light
@mixin theme-light {
	--theme: light;
	
	--accent: #{$accent};

	--shadow: 0 0.8rem 2rem 1rem #14779e33;

	--fg: #{$light-fg};
	--bg: #{$light-bg};
	--bg-alpha: #{$light-bg-alpha};
	
	// --border: #e2e8f0;

	--sky-color: #c2eafa;
	--sky-image: url(../images/ciel-jour.webp);

	--lightswitch-bg: #c2eafa;

	--cal-text: #{$light-cal-text};
	--cal-text-alpha: #{$light-cal-text-alpha};
	--cal-border: #{$light-cal-border};



	--logo: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='3 2 452.9 455'%3E%3Cpath fill='%23#{$light-fg-hex}' fill-rule='evenodd' d='M78.5 4.2a16.2 16.2 0 0 0-4.1 5.4C73.4 12 73 17.1 73 26c0 13 0 13-25.8 13.3-24.2.3-26 .4-29.8 2.5A27.2 27.2 0 0 0 4.5 57C3.3 61.8 3 82.1 3 240c0 154.4.2 178.3 1.5 183.3a64 64 0 0 0 3.6 10 54.5 54.5 0 0 0 19.9 19c3 1.3 8.2 3 11.4 3.6 4.2.8 61.5 1.1 191.2 1.1 132.4 0 186.8-.3 190.6-1.1 3-.6 7.8-2.3 10.8-3.7 3.2-1.5 8-5 11.5-8.6 3.3-3.4 7.4-8.8 9-12.1 3-6 3-6 3.3-189.3C456 59 456 59 453.8 54a26.9 26.9 0 0 0-5.6-8.1c-2-1.8-5.4-4-7.6-5-3.6-1.6-7-1.9-29.4-1.9C386 39 386 39 386 25c0-10.7-.4-14.8-1.5-17-.9-1.6-2.9-3.6-4.5-4.5-2.3-1.2-6.8-1.5-21.4-1.5C340 2 340 2 336.8 5c-3.3 2.8-3.3 2.8-3.6 18.4-.3 15.6-.3 15.6-103.8 15.6C126 39 126 39 126 25c0-10.7-.4-14.8-1.5-17-.9-1.6-2.9-3.6-4.5-4.5-2.3-1.2-6.8-1.5-20.8-1.5-16.9 0-18 .1-20.7 2.2m145.2 69c-3.1 4-7.6 11-9.8 15.4a33.5 33.5 0 0 0-4.7 15.2c-.2 4 0 9.2.7 11.9.7 2.6 3.7 10.9 6.6 18.3 3.3 8.2 6 17 7 22.4.8 4.9 1.5 11.3 1.5 14.2 0 5.3 0 5.3-3.6 6-2 .3-4 .2-4.5-.3s-1.4-4.8-2-9.6a74 74 0 0 0-3-14.2 37.5 37.5 0 0 0-13.3-18.2 36 36 0 0 0-9-4.4c-3-.8-5.4-.8-9.2 0a26 26 0 0 0-8.7 4.2c-2 1.7-4.7 5-6 7.2-1.5 3-2 6-2 10.7-.1 4.8.5 7.8 2.2 11.3 1.4 3 3.8 5.8 6 7.3 2.1 1.4 5.6 2.8 7.7 3.1 3.6.6 3.8.5 2.5-1-.8-1-1.4-3.8-1.4-6.3 0-3.2.6-5 2.3-6.9 1.2-1.3 3.6-2.7 5.2-3 1.7-.4 5-.1 7.4.5a16 16 0 0 1 7.4 4.6c1.6 1.9 3.4 5.2 4 7.5.6 2.2 1 4.8.8 5.7-.3 1.3-1.5 1.7-5.8 1.8-5.5 0-5.5 0-5.8 6.7-.3 6.7-.3 6.7 12.8 6.7 13 0 13 0 13 2.4 0 1.3-.9 3.4-2 4.8a19 19 0 0 1-6 4.3c-2.7 1.2-4 2.4-4 3.8 0 1.1 1.1 4 2.5 6.4 1.9 3.1 3.2 4.3 5 4.3 1.7 0 3 1.2 4.8 4.3 1.4 2.3 3.7 5.3 5 6.6 2.1 2 3 2.2 4 1.2.9-.7 3.2-3.7 5.3-6.7 2-3 4.5-5.4 5.4-5.4 1 0 2.6-1 3.8-2.3a18.4 18.4 0 0 0 4.2-8.6c0-.4-2.2-1.8-5-3-3.5-1.7-5.4-3.4-6.5-5.8-1-1.9-1.4-4-1.1-4.8.4-1.1 3.5-1.5 13.3-1.7 12.8-.3 12.8-.3 12.8-6.7 0-6.5 0-6.5-5.8-6.2-5.7.2-5.7.2-5.7-3.4 0-2 .6-5 1.4-6.8.7-1.8 2.6-4.4 4.2-5.9s5-3.2 7.4-3.9c3.2-.8 5.5-.9 7.5-.2 1.6.5 3.7 2 4.7 3.4 1 1.3 2 3.8 2 5.4.1 1.7-.1 4.2-.5 5.8-.6 2.4-.5 2.7 1.5 2.7 1.3 0 4-1 6.3-2.3a22 22 0 0 0 6.2-5.6c1.3-1.9 2.8-5.2 3.4-7.5a26.7 26.7 0 0 0-2.3-18 25 25 0 0 0-15.7-11c-2.6-.5-6-.2-9.5.8a26 26 0 0 0-10.8 6.5 40.4 40.4 0 0 0-11.9 21c-.6 2.8-1.4 8.1-1.7 11.8-.7 6.8-.7 6.8-5.2 6.8s-4.5 0-4.2-8.5c.2-4.7 1-11.6 1.8-15.3a155 155 0 0 1 6.8-20.1c3-7.3 6-16.3 6.7-19.9 1-5 1-7.9 0-12.2-.6-3.1-2.4-8.5-4.1-11.8A123.6 123.6 0 0 0 230.2 66a46 46 0 0 0-6.5 7.2M29 330.5c0 81.3 0 84.7 2 88.3 1 2 3.1 5 4.7 6.4a26 26 0 0 0 6.5 4.2c3.3 1.4 23.6 1.6 187.5 1.6 183.8 0 183.8 0 188.8-2.4a28 28 0 0 0 7.2-4.7 25 25 0 0 0 3.8-6.1c1.3-3.3 1.5-14.2 1.5-87.8 0-84 0-84-201-84s-201 0-201 84.5M129 281c-3 3-3 3-3 19.6 0 16.7 0 16.7 3 19.6 2.8 2.9 2.8 2.9 20.5 2.9s17.7 0 20.6-3c2.9-2.8 2.9-2.8 2.9-19.5s0-16.7-3-19.6c-2.8-2.9-2.8-2.9-20.5-2.9s-17.7 0-20.6 3m80 0c-2.9 2.8-2.9 2.8-2.9 19.5s0 16.7 3 19.6c2.8 2.9 2.8 2.9 20.5 2.9s17.7 0 20.6-3c2.9-2.8 2.9-2.8 2.9-19.5s0-16.7-3-19.6c-2.8-2.9-2.8-2.9-20.5-2.9s-17.7 0-20.6 3m81.8-2c-1 .6-2.4 2.4-3.2 4-1.1 2.2-1.5 6.6-1.5 18.5 0 15.7 0 15.7 3 18.6 2.8 2.9 2.8 2.9 21 2.9s18.2 0 21.1-3c3-3 3-3 2.7-20-.3-17.2-.3-17.2-3.1-19.6-2.7-2.3-3.2-2.4-20.5-2.4a105 105 0 0 0-19.4 1M129 353.7c-3.1 2.6-3.1 2.6-3.1 19.9 0 17.2 0 17.2 2.6 19.9 2.7 2.6 2.7 2.6 20.9 2.6s18.2 0 20.9-2.6c2.6-2.7 2.6-2.7 2.6-19.1 0-10.6-.4-17.2-1.2-18.6-.6-1.2-1.8-2.7-2.7-3.4-1.1-.9-7-1.2-19.3-1.3-17.5 0-17.7 0-20.7 2.6m79.8.3c-2.9 3-2.9 3-2.9 19.6 0 16.7 0 16.7 3 19.6 2.8 2.9 2.8 2.9 20.7 2.9 18 0 18 0 20.6-2.8 2.7-2.8 2.7-2.8 2.7-19.6s0-16.8-3-19.7c-2.8-2.9-2.8-2.9-20.5-2.9s-17.7 0-20.6 3m80 0c-2.9 2.8-2.9 2.8-2.9 19.5s0 16.7 3 19.6c2.8 2.9 2.8 2.9 21 2.9s18.2 0 21-3c3-2.8 3-2.8 3-19.5s0-16.7-3-19.6c-2.8-2.9-2.8-2.9-21-2.9s-18.2 0-21 3'/%3E%3C/svg%3E");
	// --arrow: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' viewBox='0 0 512 512'%3E%3Cpath fill='%23#{$light-fg-hex}' d='m374 506-9-2L7 269a15 15 0 0 1 0-26L365 8a15 15 0 1 1 17 26L43 256l339 222a15 15 0 0 1-8 28z'/%3E%3Cpath fill='%23#{$light-fg-hex}' d='m497 506-9-2-358-235a15 15 0 0 1 0-26L488 8a15 15 0 1 1 17 26L166 256l315 206V135a15 15 0 0 1 31 0v356a15 15 0 0 1-15 15z'/%3E%3Cpath fill='%23#{$light-fg-hex}' d='m432 392-9-3-169-120a15 15 0 0 1 0-26l169-120a15 15 0 0 1 25 12v242a15 15 0 0 1-16 15zM289 256l128 91V165l-128 91z'/%3E%3C/svg%3E");
	--arrow: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' viewBox='0 0 385 385'%3E%3Cpath fill='%23#{$light-fg-hex}' d='M107 282c-2 4 1-2 0 0zM3 201l85 84a12 12 0 0 0 20-8V108c0-10-13-16-20-9L3 184c-4 4-4 12 0 17zm81-64v110l-55-55 55-55zm72 91a36 36 0 1 0 0-72 36 36 0 0 0 0 72zm0-48a12 12 0 1 1 0 24 12 12 0 0 1 0-24zm97 48a36 36 0 1 0 0-72 36 36 0 0 0 0 72zm0-48a12 12 0 1 1 0 24 12 12 0 0 1 0-24zm96 48a36 36 0 1 0 0-72 36 36 0 0 0 0 72zm0-48a12 12 0 1 1 0 24 12 12 0 0 1 0-24z'/%3E%3C/svg%3E");
}


// ===>>> Thème Dark
@mixin theme-dark {
	color-scheme: dark;
	--theme: dark;

	--accent: #{$accent};

	--shadow: 0 0.8rem 2rem 1rem #00000033;

	--fg: #{$dark-fg};

	--bg: #{$dark-bg};
	--bg-alpha: #{$dark-bg-alpha};
	
	
	// --border:#1f2937;

	--sky-color: #{$dark-bg};
	--sky-image: url(../images/ciel-nuit.webp);

	--lightswitch-bg: #{$dark-bg};

	--cal-text: #{$dark-cal-text};
	--cal-text-alpha: #{$dark-cal-text-alpha};
	--cal-border: #{$dark-cal-border};


	--logo: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='3 2 452.9 455'%3E%3Cpath fill='%23#{$dark-fg-hex}' fill-rule='evenodd' d='M78.5 4.2a16.2 16.2 0 0 0-4.1 5.4C73.4 12 73 17.1 73 26c0 13 0 13-25.8 13.3-24.2.3-26 .4-29.8 2.5A27.2 27.2 0 0 0 4.5 57C3.3 61.8 3 82.1 3 240c0 154.4.2 178.3 1.5 183.3a64 64 0 0 0 3.6 10 54.5 54.5 0 0 0 19.9 19c3 1.3 8.2 3 11.4 3.6 4.2.8 61.5 1.1 191.2 1.1 132.4 0 186.8-.3 190.6-1.1 3-.6 7.8-2.3 10.8-3.7 3.2-1.5 8-5 11.5-8.6 3.3-3.4 7.4-8.8 9-12.1 3-6 3-6 3.3-189.3C456 59 456 59 453.8 54a26.9 26.9 0 0 0-5.6-8.1c-2-1.8-5.4-4-7.6-5-3.6-1.6-7-1.9-29.4-1.9C386 39 386 39 386 25c0-10.7-.4-14.8-1.5-17-.9-1.6-2.9-3.6-4.5-4.5-2.3-1.2-6.8-1.5-21.4-1.5C340 2 340 2 336.8 5c-3.3 2.8-3.3 2.8-3.6 18.4-.3 15.6-.3 15.6-103.8 15.6C126 39 126 39 126 25c0-10.7-.4-14.8-1.5-17-.9-1.6-2.9-3.6-4.5-4.5-2.3-1.2-6.8-1.5-20.8-1.5-16.9 0-18 .1-20.7 2.2m145.2 69c-3.1 4-7.6 11-9.8 15.4a33.5 33.5 0 0 0-4.7 15.2c-.2 4 0 9.2.7 11.9.7 2.6 3.7 10.9 6.6 18.3 3.3 8.2 6 17 7 22.4.8 4.9 1.5 11.3 1.5 14.2 0 5.3 0 5.3-3.6 6-2 .3-4 .2-4.5-.3s-1.4-4.8-2-9.6a74 74 0 0 0-3-14.2 37.5 37.5 0 0 0-13.3-18.2 36 36 0 0 0-9-4.4c-3-.8-5.4-.8-9.2 0a26 26 0 0 0-8.7 4.2c-2 1.7-4.7 5-6 7.2-1.5 3-2 6-2 10.7-.1 4.8.5 7.8 2.2 11.3 1.4 3 3.8 5.8 6 7.3 2.1 1.4 5.6 2.8 7.7 3.1 3.6.6 3.8.5 2.5-1-.8-1-1.4-3.8-1.4-6.3 0-3.2.6-5 2.3-6.9 1.2-1.3 3.6-2.7 5.2-3 1.7-.4 5-.1 7.4.5a16 16 0 0 1 7.4 4.6c1.6 1.9 3.4 5.2 4 7.5.6 2.2 1 4.8.8 5.7-.3 1.3-1.5 1.7-5.8 1.8-5.5 0-5.5 0-5.8 6.7-.3 6.7-.3 6.7 12.8 6.7 13 0 13 0 13 2.4 0 1.3-.9 3.4-2 4.8a19 19 0 0 1-6 4.3c-2.7 1.2-4 2.4-4 3.8 0 1.1 1.1 4 2.5 6.4 1.9 3.1 3.2 4.3 5 4.3 1.7 0 3 1.2 4.8 4.3 1.4 2.3 3.7 5.3 5 6.6 2.1 2 3 2.2 4 1.2.9-.7 3.2-3.7 5.3-6.7 2-3 4.5-5.4 5.4-5.4 1 0 2.6-1 3.8-2.3a18.4 18.4 0 0 0 4.2-8.6c0-.4-2.2-1.8-5-3-3.5-1.7-5.4-3.4-6.5-5.8-1-1.9-1.4-4-1.1-4.8.4-1.1 3.5-1.5 13.3-1.7 12.8-.3 12.8-.3 12.8-6.7 0-6.5 0-6.5-5.8-6.2-5.7.2-5.7.2-5.7-3.4 0-2 .6-5 1.4-6.8.7-1.8 2.6-4.4 4.2-5.9s5-3.2 7.4-3.9c3.2-.8 5.5-.9 7.5-.2 1.6.5 3.7 2 4.7 3.4 1 1.3 2 3.8 2 5.4.1 1.7-.1 4.2-.5 5.8-.6 2.4-.5 2.7 1.5 2.7 1.3 0 4-1 6.3-2.3a22 22 0 0 0 6.2-5.6c1.3-1.9 2.8-5.2 3.4-7.5a26.7 26.7 0 0 0-2.3-18 25 25 0 0 0-15.7-11c-2.6-.5-6-.2-9.5.8a26 26 0 0 0-10.8 6.5 40.4 40.4 0 0 0-11.9 21c-.6 2.8-1.4 8.1-1.7 11.8-.7 6.8-.7 6.8-5.2 6.8s-4.5 0-4.2-8.5c.2-4.7 1-11.6 1.8-15.3a155 155 0 0 1 6.8-20.1c3-7.3 6-16.3 6.7-19.9 1-5 1-7.9 0-12.2-.6-3.1-2.4-8.5-4.1-11.8A123.6 123.6 0 0 0 230.2 66a46 46 0 0 0-6.5 7.2M29 330.5c0 81.3 0 84.7 2 88.3 1 2 3.1 5 4.7 6.4a26 26 0 0 0 6.5 4.2c3.3 1.4 23.6 1.6 187.5 1.6 183.8 0 183.8 0 188.8-2.4a28 28 0 0 0 7.2-4.7 25 25 0 0 0 3.8-6.1c1.3-3.3 1.5-14.2 1.5-87.8 0-84 0-84-201-84s-201 0-201 84.5M129 281c-3 3-3 3-3 19.6 0 16.7 0 16.7 3 19.6 2.8 2.9 2.8 2.9 20.5 2.9s17.7 0 20.6-3c2.9-2.8 2.9-2.8 2.9-19.5s0-16.7-3-19.6c-2.8-2.9-2.8-2.9-20.5-2.9s-17.7 0-20.6 3m80 0c-2.9 2.8-2.9 2.8-2.9 19.5s0 16.7 3 19.6c2.8 2.9 2.8 2.9 20.5 2.9s17.7 0 20.6-3c2.9-2.8 2.9-2.8 2.9-19.5s0-16.7-3-19.6c-2.8-2.9-2.8-2.9-20.5-2.9s-17.7 0-20.6 3m81.8-2c-1 .6-2.4 2.4-3.2 4-1.1 2.2-1.5 6.6-1.5 18.5 0 15.7 0 15.7 3 18.6 2.8 2.9 2.8 2.9 21 2.9s18.2 0 21.1-3c3-3 3-3 2.7-20-.3-17.2-.3-17.2-3.1-19.6-2.7-2.3-3.2-2.4-20.5-2.4a105 105 0 0 0-19.4 1M129 353.7c-3.1 2.6-3.1 2.6-3.1 19.9 0 17.2 0 17.2 2.6 19.9 2.7 2.6 2.7 2.6 20.9 2.6s18.2 0 20.9-2.6c2.6-2.7 2.6-2.7 2.6-19.1 0-10.6-.4-17.2-1.2-18.6-.6-1.2-1.8-2.7-2.7-3.4-1.1-.9-7-1.2-19.3-1.3-17.5 0-17.7 0-20.7 2.6m79.8.3c-2.9 3-2.9 3-2.9 19.6 0 16.7 0 16.7 3 19.6 2.8 2.9 2.8 2.9 20.7 2.9 18 0 18 0 20.6-2.8 2.7-2.8 2.7-2.8 2.7-19.6s0-16.8-3-19.7c-2.8-2.9-2.8-2.9-20.5-2.9s-17.7 0-20.6 3m80 0c-2.9 2.8-2.9 2.8-2.9 19.5s0 16.7 3 19.6c2.8 2.9 2.8 2.9 21 2.9s18.2 0 21-3c3-2.8 3-2.8 3-19.5s0-16.7-3-19.6c-2.8-2.9-2.8-2.9-21-2.9s-18.2 0-21 3'/%3E%3C/svg%3E");
	// --arrow: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' viewBox='0 0 512 512'%3E%3Cpath fill='%23#{$dark-fg-hex}' d='m374 506-9-2L7 269a15 15 0 0 1 0-26L365 8a15 15 0 1 1 17 26L43 256l339 222a15 15 0 0 1-8 28z'/%3E%3Cpath fill='%23#{$dark-fg-hex}' d='m497 506-9-2-358-235a15 15 0 0 1 0-26L488 8a15 15 0 1 1 17 26L166 256l315 206V135a15 15 0 0 1 31 0v356a15 15 0 0 1-15 15z'/%3E%3Cpath fill='%23#{$dark-fg-hex}' d='m432 392-9-3-169-120a15 15 0 0 1 0-26l169-120a15 15 0 0 1 25 12v242a15 15 0 0 1-16 15zM289 256l128 91V165l-128 91z'/%3E%3C/svg%3E");
	--arrow: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' viewBox='0 0 385 385'%3E%3Cpath fill='%23#{$dark-fg-hex}' d='M107 282c-2 4 1-2 0 0zM3 201l85 84a12 12 0 0 0 20-8V108c0-10-13-16-20-9L3 184c-4 4-4 12 0 17zm81-64v110l-55-55 55-55zm72 91a36 36 0 1 0 0-72 36 36 0 0 0 0 72zm0-48a12 12 0 1 1 0 24 12 12 0 0 1 0-24zm97 48a36 36 0 1 0 0-72 36 36 0 0 0 0 72zm0-48a12 12 0 1 1 0 24 12 12 0 0 1 0-24zm96 48a36 36 0 1 0 0-72 36 36 0 0 0 0 72zm0-48a12 12 0 1 1 0 24 12 12 0 0 1 0-24z'/%3E%3C/svg%3E");

	.lightswitch::before {
		background-color: #{$dark-fg};
		transform: rotate(-45deg);
		clip-path: var(--moon-path);
		-webkit-clip-path: var(--moon-path);
	}


}


// ===>>> Thème par défaut
:root {
	@include theme-light;
}


// ===>>> Thème Dark
html[data-theme="dark"] {
	@include theme-dark;
}


// ===>>> Thème Auto
@media (prefers-color-scheme: dark) {
	html[data-theme="auto"] {
		@include theme-dark;
	}
}


// ===>>> Lightswitch
.lightswitch {
	--toggle-size: 55px;
	--sun-path: path("M55 27.5C55 42.6878 42.6878 55 27.5 55C12.3122 55 0 42.6878 0 27.5C0 12.3122 12.3122 0 27.5 0C42.6878 0 55 12.3122 55 27.5Z");
	--moon-path: path("M17.5 28C17.5 43.1878 28.5681 55.5 27.5 55.5C12.3122 55.5 0 43.1878 0 28C0 12.8122 12.3122 0.5 27.5 0.5C27.5 0.5 17.5 12.8122 17.5 28Z");

	position: absolute;
	width: calc(var(--toggle-size) * 2);
	height: var(--toggle-size);
	background-color: var(--lightswitch-bg);
	border-radius: calc(var(--toggle-size) / 2);
	top: 2rem;
	right: 2rem;
	
	transform: scale(calc(var(--scale-index) * 0.8));
	transform-origin: top right;
	box-sizing: content-box;
	border: 4px solid var(--lightswitch-bg);
	cursor: pointer;

	transition-property: background-color border-color;
	transition-duration: var(--scheme-transition-duration);
	

	&::before {
		content: '';
		position: absolute;
		width: var(--toggle-size);
		height: var(--toggle-size);
		background-color: #f9d71c;
		transform: translateX(100%);
		clip-path: var(--sun-path);
		-webkit-clip-path: var(--sun-path);
		transition-property: clip-path -webkit-clip-path transform background-color;
		transition-duration: var(--scheme-transition-duration);
	}
}
